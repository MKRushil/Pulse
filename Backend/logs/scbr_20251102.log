2025-11-02 02:40:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 02:40:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 02:40:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 02:40:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 02:40:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 02:40:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 02:40:16 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 02:40:16 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 02:40:19 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 02:40:19 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 02:40:19 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 02:40:19 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 02:40:19 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 02:40:19 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 02:40:19 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 02:40:19 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 02:40:19 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 02:40:20 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 02:40:20 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 02:40:20 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 02:40:20 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 02:40:20 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 02:40:20 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 02:40:20 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 02:40:20 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 02:40:20 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 02:40:20 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 02:40:20 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 02:40:20 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 02:40:20 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-11-02 02:40:20 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 02:40:20 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 02:40:20 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 02:40:20 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 02:40:20 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 02:40:20 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-11-02 02:40:20 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 02:40:20 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 02:40:20 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 02:40:20 - s_cbr.backend.main - INFO - 
2025-11-02 02:40:20 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 02:40:20 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 02:40:20 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 02:40:20 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 02:40:21 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 02:40:21 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 02:40:21 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 03:04:00 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 03:04:00 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 03:04:00 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 03:04:00 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 03:04:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 03:04:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 03:04:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 03:04:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:04:03 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:04:03 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:04:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 03:04:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 03:04:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 03:04:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 03:04:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 03:04:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 03:04:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 03:04:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:05:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 03:05:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 03:05:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 03:05:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 03:05:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 03:05:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 03:05:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 03:05:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:05:12 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:05:12 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:06:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 03:06:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 03:06:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 03:06:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 03:06:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 03:06:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 03:06:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 03:06:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:06:37 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:06:37 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:06:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 03:06:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 03:06:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 03:06:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 03:06:55 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 03:06:55 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 03:06:55 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 03:06:55 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:06:57 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:06:58 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:07:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 03:07:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 03:07:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 03:07:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 03:07:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 03:07:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 03:07:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 03:07:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:07:17 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:07:17 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:18:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 03:18:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 03:18:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 03:18:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 03:18:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 03:18:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 03:18:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 03:18:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:18:29 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:18:29 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 03:18:29 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 03:18:29 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 03:18:29 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 03:18:29 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 03:18:29 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 03:18:29 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 03:18:29 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 03:18:29 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 03:18:29 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 03:18:29 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 03:18:29 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 03:18:29 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 03:18:30 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 03:18:30 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 03:18:30 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 03:18:30 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 03:18:30 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 03:18:30 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 03:18:30 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 03:18:30 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 03:18:30 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 03:18:30 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 03:18:30 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 03:18:30 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 03:18:30 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 03:18:30 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 03:18:30 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 03:18:30 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 03:18:30 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 03:18:30 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 03:18:30 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 03:18:30 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:02:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:02:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:02:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:02:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:02:27 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:02:27 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:02:27 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:02:27 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:02:29 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:02:29 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:02:29 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:02:29 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:29 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:02:29 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:29 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:02:29 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:02:30 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:02:30 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:02:30 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:02:30 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:02:30 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:02:30 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:02:30 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:02:31 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:02:31 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:02:31 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:02:31 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:02:31 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:02:31 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:02:31 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:02:31 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:02:31 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:02:31 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:02:31 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:02:31 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:31 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:02:31 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:02:31 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:02:31 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:02:31 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:02:31 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:31 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:02:31 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:02:31 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:02:31 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:02:31 - s_cbr.backend.main - INFO - 
2025-11-02 04:02:31 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:02:31 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:02:31 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:02:31 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:02:32 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:02:32 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:02:32 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:02:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:02:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:02:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:02:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:02:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:02:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:02:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:02:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:02:54 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:02:55 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:02:55 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:02:55 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:55 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:02:55 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:55 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:02:55 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:02:55 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:02:55 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:02:55 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:02:55 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:02:55 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:02:55 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:02:55 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:02:56 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:02:56 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:02:56 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:02:56 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:02:56 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:02:56 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:02:56 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:02:56 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:02:56 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:02:56 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:02:56 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:02:56 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:56 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:02:56 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:02:56 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:02:56 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:02:56 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:02:56 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:02:56 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:02:56 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:02:56 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:02:56 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:02:56 - s_cbr.backend.main - INFO - 
2025-11-02 04:02:56 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:02:56 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:02:56 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:02:56 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:02:57 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:02:57 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:02:57 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:03:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:03:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:03:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:03:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:03:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:03:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:03:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:18 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:18 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:18 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:03:18 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:18 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:03:18 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:18 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:03:18 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:18 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:03:18 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:03:18 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:18 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:03:18 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:03:18 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:03:18 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:03:19 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:03:19 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:03:19 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:03:19 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:03:19 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:03:19 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:03:19 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:03:19 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:03:19 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:03:19 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:03:19 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:03:19 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:19 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:03:19 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:03:19 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:03:19 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:03:19 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:03:19 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:19 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:03:19 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:03:19 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:03:19 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:03:19 - s_cbr.backend.main - INFO - 
2025-11-02 04:03:19 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:03:19 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:03:19 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:03:20 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:03:20 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:03:20 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:03:20 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:03:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:03:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:03:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:03:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:03:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:03:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:03:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:38 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:38 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:38 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:03:38 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:38 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:03:38 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:38 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:03:38 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:39 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:03:39 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:03:39 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:39 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:03:39 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:03:39 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:03:39 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:03:40 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:03:40 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:03:40 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:03:40 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:03:40 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:03:40 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:03:40 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:03:40 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:03:40 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:03:40 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:03:40 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:03:40 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:40 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:03:40 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:03:40 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:03:40 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:03:40 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:03:40 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:40 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:03:40 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:03:40 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:03:40 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:03:40 - s_cbr.backend.main - INFO - 
2025-11-02 04:03:40 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:03:40 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:03:40 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:03:40 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:03:41 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:03:41 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:03:41 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:03:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:03:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:03:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:03:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:03:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:03:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:03:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:50 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:50 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:03:50 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:03:50 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:50 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:03:50 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:50 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:03:50 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:50 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:03:50 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:03:50 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:03:50 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:03:50 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:03:50 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:03:50 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:03:51 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:03:51 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:03:51 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:03:51 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:03:51 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:03:51 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:03:51 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:03:51 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:03:51 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:03:51 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:03:51 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:03:51 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:51 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:03:51 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:03:51 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:03:51 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:03:51 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:03:51 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:03:51 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:03:51 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:03:51 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:03:51 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:03:51 - s_cbr.backend.main - INFO - 
2025-11-02 04:03:51 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:03:51 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:03:51 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:03:52 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:03:52 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:03:52 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:03:52 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:04:18 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:04:18 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:04:18 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:04:18 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:04:18 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:04:18 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:04:18 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:04:18 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:04:20 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:04:20 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:04:20 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:04:20 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:20 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:04:20 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:20 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:04:20 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:04:21 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:04:21 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:04:21 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:04:21 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:04:21 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:04:21 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:04:21 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:04:22 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:04:22 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:04:22 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:04:22 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:04:22 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:04:22 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:04:22 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:04:22 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:04:22 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:04:22 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:04:22 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:04:22 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:22 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:04:22 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:04:22 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:04:22 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:04:22 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:04:22 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:22 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:04:22 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:04:22 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:04:22 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:04:22 - s_cbr.backend.main - INFO - 
2025-11-02 04:04:22 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:04:22 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:04:22 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:04:22 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:04:23 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:04:23 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:04:23 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:04:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:04:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:04:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:04:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:04:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:04:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:04:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:04:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:04:44 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:04:44 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:04:44 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:04:44 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:44 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:04:44 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:44 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:04:44 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:04:44 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:04:44 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:04:44 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:04:44 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:04:44 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:04:44 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:04:44 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:04:45 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:04:45 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:04:45 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:04:45 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:04:45 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:04:45 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:04:45 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:04:45 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:04:45 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:04:45 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:04:45 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:04:45 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:45 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:04:45 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:04:45 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:04:45 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:04:45 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:04:45 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:04:45 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:04:45 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:04:45 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:04:45 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:04:45 - s_cbr.backend.main - INFO - 
2025-11-02 04:04:45 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:04:45 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:04:45 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:04:46 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:04:46 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:04:46 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:04:46 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:21:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:21:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:21:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:21:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:21:23 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:21:23 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:21:23 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:21:23 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:21:26 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:21:26 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:21:26 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:21:26 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:21:26 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:21:26 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:21:26 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:21:26 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:21:26 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:21:26 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:21:26 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:21:26 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:21:26 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:21:26 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:21:26 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:21:27 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:21:27 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:21:27 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:21:27 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:21:27 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:21:27 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:21:27 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:21:27 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:21:27 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:21:27 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:21:27 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:21:27 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:21:27 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:21:27 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:21:27 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:21:27 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:21:27 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:21:27 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:21:27 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:21:27 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:21:27 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:21:27 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:21:27 - s_cbr.backend.main - INFO - 
2025-11-02 04:21:27 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:21:27 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:21:27 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:21:28 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:21:28 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:21:28 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:21:28 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:22:48 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:22:48 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:22:48 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:22:48 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:22:48 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:22:48 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:22:48 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:22:48 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:22:51 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:22:51 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:22:51 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:22:51 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:22:51 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:22:51 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:22:51 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:22:51 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:22:51 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:22:51 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:22:51 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:22:51 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:22:51 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:22:51 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:22:51 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:22:52 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:22:52 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:22:52 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:22:52 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:22:52 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:22:52 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:22:52 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:22:52 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:22:52 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:22:52 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:22:52 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:22:52 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:22:52 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:22:52 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:22:52 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:22:52 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:22:52 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:22:52 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:22:52 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:22:53 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:22:53 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:22:53 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:22:53 - s_cbr.backend.main - INFO - 
2025-11-02 04:22:53 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:22:53 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:22:53 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:22:53 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:22:54 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:22:54 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:22:54 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:26:52 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:26:52 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:26:52 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:26:52 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:26:52 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:26:52 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:26:52 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:26:52 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:26:55 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:26:55 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:26:55 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:26:55 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:26:55 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:26:55 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:26:55 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:26:55 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:26:55 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:26:55 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:26:55 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:26:55 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:26:55 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:26:55 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:26:55 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:26:56 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:26:56 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:26:56 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:26:56 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:26:56 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:26:56 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:26:56 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:26:56 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:26:56 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:26:56 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:26:56 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:26:56 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:26:56 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:26:56 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:26:56 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:26:56 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:26:56 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:26:56 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:26:56 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:26:56 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:26:56 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:26:56 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:26:56 - s_cbr.backend.main - INFO - 
2025-11-02 04:26:56 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:26:56 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:26:56 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:26:57 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:26:57 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:26:57 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:26:57 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:28:06 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:28:06 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:28:06 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:28:06 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:28:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:28:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:28:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:28:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:28:09 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:28:09 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:28:09 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:28:09 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:28:09 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:28:09 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:28:09 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:28:09 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:28:09 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:28:09 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:28:09 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:28:09 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:28:09 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:28:09 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:28:09 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:28:10 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:28:10 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:28:10 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:28:10 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:28:10 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:28:10 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:28:10 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:28:10 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:28:10 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:28:10 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:28:10 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:28:10 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:28:10 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:28:10 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:28:10 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:28:10 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:28:10 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:28:10 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:28:10 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:28:10 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:28:10 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:28:10 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:28:10 - s_cbr.backend.main - INFO - 
2025-11-02 04:28:10 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:28:10 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:28:10 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:28:11 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:28:11 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:28:11 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:28:11 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:28:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042821-0c260325]
2025-11-02 04:28:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:28:21 - s_cbr.SCBREngine - INFO -    session_id: fede1ffe-fbdd-4bed-b85e-cc5326ad6fdc
2025-11-02 04:28:21 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:28:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 35a2cbd8***
2025-11-02 04:28:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:28:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 04:28:21 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 35a2cbd8-d0f2-4922-a816-2e75f44c7134
2025-11-02 04:28:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:21 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:21 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:21 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:28:21 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:28:21 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:28:24 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 35a2cbd8-d0f2-4922-a816-2e75f44c7134 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 35a2cbd8***
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042821-0c260325] è€—æ™‚: 2.93s
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042824-9d0842aa]
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    session_id: fede1ffe-fbdd-4bed-b85e-cc5326ad6fdc
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:28:24 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: fede1ffe***
2025-11-02 04:28:24 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:28:24 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 04:28:24 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± fede1ffe*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: fede1ffe-fbdd-4bed-b85e-cc5326ad6fdc
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:24 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± fede1ffe-fbdd-4bed-b85e-cc5326ad6fdc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± fede1ffe***
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042824-9d0842aa] è€—æ™‚: 0.01s
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042824-6b188ecd]
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    session_id: fede1ffe-fbdd-4bed-b85e-cc5326ad6fdc
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:28:24 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± fede1ffe***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: fede1ffe-fbdd-4bed-b85e-cc5326ad6fdc
2025-11-02 04:28:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:24 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ']
2025-11-02 04:28:25 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± fede1ffe-fbdd-4bed-b85e-cc5326ad6fdc æ”¶æ–‚åº¦: 0.250
2025-11-02 04:28:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:28:25 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:28:25 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:25 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:28:25 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:25 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:25 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:25 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:25 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:25 - s_cbr.SelfReviewer - WARNING - âš ï¸  è‡ªæˆ‘å¯©ç¨¿ç™¼ç¾å•é¡Œ: ['æœªå¸æ”¶æ–°ç—‡ç‹€']
2025-11-02 04:28:27 - s_cbr.SelfReviewer - INFO - âœï¸  LLM ä¿®æ­£å®Œæˆ
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO - âœï¸ ä½¿ç”¨å¯©ç¨¿ä¿®æ­£å¾Œçš„è¼¸å‡º
2025-11-02 04:28:27 - s_cbr.SCBREngine - WARNING - âš ï¸ å¯©ç¨¿ç™¼ç¾å•é¡Œ: ['æœªå¸æ”¶æ–°ç—‡ç‹€']
2025-11-02 04:28:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± fede1ffe***
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042824-6b188ecd] è€—æ™‚: 2.60s
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:27 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042827-c3171a9a]
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO -    session_id: 20ab13e3-1bf7-4eaa-aed7-8c5cdf2dfb70
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:28:27 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 82581a87***
2025-11-02 04:28:27 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:28:27 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 82581a87-49fc-4072-9c4c-89142427edf4
2025-11-02 04:28:27 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:27 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:27 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:27 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:27 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:28:27 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:27 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:28:28 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 82581a87-49fc-4072-9c4c-89142427edf4 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 82581a87***
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042827-c3171a9a] è€—æ™‚: 1.34s
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042828-50da2dc5]
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    session_id: 20ab13e3-1bf7-4eaa-aed7-8c5cdf2dfb70
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 20ab13e3***
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 20ab13e3*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 20ab13e3-1bf7-4eaa-aed7-8c5cdf2dfb70
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:28 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 20ab13e3-1bf7-4eaa-aed7-8c5cdf2dfb70 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 20ab13e3***
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042828-50da2dc5] è€—æ™‚: 0.00s
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042828-b3f64dab]
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    session_id: f275b775-42c6-43ad-bac3-c897d29041f7
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: bef16d00***
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:28:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: bef16d00-3bf0-4461-a5d3-c8b2436fc5f3
2025-11-02 04:28:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:28 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:28:29 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bef16d00-3bf0-4461-a5d3-c8b2436fc5f3 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± bef16d00***
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042828-b3f64dab] è€—æ™‚: 1.32s
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:29 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042829-feafc193]
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    session_id: f275b775-42c6-43ad-bac3-c897d29041f7
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f275b775***
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± f275b775*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: f275b775-42c6-43ad-bac3-c897d29041f7
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:29 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f275b775-42c6-43ad-bac3-c897d29041f7 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± f275b775***
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042829-feafc193] è€—æ™‚: 0.00s
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:29 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042829-ff4399ae]
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    session_id: f275b775-42c6-43ad-bac3-c897d29041f7
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± f275b775***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: f275b775-42c6-43ad-bac3-c897d29041f7
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:29 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f275b775-42c6-43ad-bac3-c897d29041f7 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:28:29 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± f275b775***
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042829-ff4399ae] è€—æ™‚: 0.00s
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:29 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042829-97c4ac9a]
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    session_id: c534f198-2e46-4c36-839d-e7e6f3ee4b69
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5cb98398***
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 5cb98398-ea28-4b0c-a075-7f61e1000028
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:29 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5cb98398-ea28-4b0c-a075-7f61e1000028 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:29 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:29 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 5cb98398***
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042829-97c4ac9a] è€—æ™‚: 0.00s
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:29 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042829-2c1c9d64]
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    session_id: c534f198-2e46-4c36-839d-e7e6f3ee4b69
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c534f198***
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 04:28:29 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± c534f198*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c534f198-2e46-4c36-839d-e7e6f3ee4b69
2025-11-02 04:28:29 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:29 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:28:31 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c534f198-2e46-4c36-839d-e7e6f3ee4b69 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c534f198***
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042829-2c1c9d64] è€—æ™‚: 1.29s
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:31 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042831-abbb2c6c]
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    session_id: 6e520fba-a191-4b1f-92ee-c15eee9511dc
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8500773a***
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8500773a-7249-465c-a87a-954704b09394
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:28:31 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8500773a-7249-465c-a87a-954704b09394 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8500773a***
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042831-abbb2c6c] è€—æ™‚: 0.61s
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:31 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042831-868ab015]
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    session_id: 6e520fba-a191-4b1f-92ee-c15eee9511dc
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 6e520fba***
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 6e520fba*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 6e520fba-a191-4b1f-92ee-c15eee9511dc
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:31 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 6e520fba-a191-4b1f-92ee-c15eee9511dc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 6e520fba***
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042831-868ab015] è€—æ™‚: 0.01s
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:31 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042831-6e49a017]
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    session_id: d106a3d5-ff55-4dd6-be87-8b7ad447e384
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: ff3ec3f9***
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: ff3ec3f9-9173-438a-9958-7a29c4cf6327
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:31 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ff3ec3f9-9173-438a-9958-7a29c4cf6327 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± ff3ec3f9***
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042831-6e49a017] è€—æ™‚: 0.00s
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:31 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042831-5cc35391]
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    session_id: d106a3d5-ff55-4dd6-be87-8b7ad447e384
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d106a3d5***
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± d106a3d5*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d106a3d5-ff55-4dd6-be87-8b7ad447e384
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:31 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d106a3d5-ff55-4dd6-be87-8b7ad447e384 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:31 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:31 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± d106a3d5***
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042831-5cc35391] è€—æ™‚: 0.00s
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:31 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042831-dc7f0aef]
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    session_id: 64fb4d6d-cd33-4501-82b4-87199eaf6fc1
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 098d6d0c***
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:28:31 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 098d6d0c-a559-4a8f-b080-50ee685dc631
2025-11-02 04:28:31 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:31 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:28:32 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 098d6d0c-a559-4a8f-b080-50ee685dc631 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:32 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:32 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:32 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:32 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:32 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:32 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:32 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:32 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 098d6d0c***
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042831-dc7f0aef] è€—æ™‚: 0.62s
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:32 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042832-7d9eb557]
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    session_id: 64fb4d6d-cd33-4501-82b4-87199eaf6fc1
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:28:32 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 64fb4d6d***
2025-11-02 04:28:32 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:28:32 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 04:28:32 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 64fb4d6d*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 64fb4d6d-cd33-4501-82b4-87199eaf6fc1
2025-11-02 04:28:32 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:32 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:32 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:32 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:32 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:28:32 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:32 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:28:33 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 64fb4d6d-cd33-4501-82b4-87199eaf6fc1 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 64fb4d6d***
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042832-7d9eb557] è€—æ™‚: 0.63s
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042833-fff3ff00]
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    session_id: 9e9a64dd-dfe6-4826-9284-e1a45ec7f5d9
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: ec05a16c***
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: ec05a16c-ca4f-4dfa-86bf-0f8eb836a6b4
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:28:33 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ec05a16c-ca4f-4dfa-86bf-0f8eb836a6b4 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± ec05a16c***
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042833-fff3ff00] è€—æ™‚: 0.64s
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042833-8b1b01a8]
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    session_id: 9e9a64dd-dfe6-4826-9284-e1a45ec7f5d9
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9e9a64dd***
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 9e9a64dd*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 9e9a64dd-dfe6-4826-9284-e1a45ec7f5d9
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:33 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9e9a64dd-dfe6-4826-9284-e1a45ec7f5d9 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9e9a64dd***
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042833-8b1b01a8] è€—æ™‚: 0.00s
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042833-6ae3bc4b]
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    session_id: 5c0bc5a4-5a4c-43a4-90fa-bee64293fc26
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8b6b1f1b***
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:28:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8b6b1f1b-1d7b-4217-901b-9ccfaef75bdc
2025-11-02 04:28:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:28:34 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8b6b1f1b-1d7b-4217-901b-9ccfaef75bdc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8b6b1f1b***
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042833-6ae3bc4b] è€—æ™‚: 0.61s
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042834-2f4225ce]
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    session_id: 5c0bc5a4-5a4c-43a4-90fa-bee64293fc26
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5c0bc5a4***
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 5c0bc5a4*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 5c0bc5a4-5a4c-43a4-90fa-bee64293fc26
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:34 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5c0bc5a4-5a4c-43a4-90fa-bee64293fc26 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 5c0bc5a4***
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042834-2f4225ce] è€—æ™‚: 0.00s
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042834-9c395fbe]
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    session_id: 04b322f4-36a4-4282-b740-8d7644898cdd
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 1eb27361***
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 1eb27361-76d2-416c-b04e-41c2014611a9
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:28:34 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1eb27361-76d2-416c-b04e-41c2014611a9 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:34 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:34 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 1eb27361***
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042834-9c395fbe] è€—æ™‚: 0.00s
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042834-caee23b2]
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    session_id: 04b322f4-36a4-4282-b740-8d7644898cdd
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 04b322f4***
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 04:28:34 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 04b322f4*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 04b322f4-36a4-4282-b740-8d7644898cdd
2025-11-02 04:28:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:28:35 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 04b322f4-36a4-4282-b740-8d7644898cdd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:35 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:35 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 04b322f4***
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042834-caee23b2] è€—æ™‚: 0.62s
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:35 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042835-c5ee925c]
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8c0a5108***
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 8c0a5108-0cbe-4cc2-9928-783f2e2ced44
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:28:35 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8c0a5108-0cbe-4cc2-9928-783f2e2ced44 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:35 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:35 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:35 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8c0a5108***
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042835-c5ee925c] è€—æ™‚: 0.64s
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:35 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042835-1e939fe8]
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: dc385315***
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:28:35 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: dc385315-41b2-4f4e-a54b-9e8f63c1171b
2025-11-02 04:28:35 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:35 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:28:36 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± dc385315-41b2-4f4e-a54b-9e8f63c1171b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:36 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:36 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:36 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:36 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:36 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:36 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± dc385315***
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042835-1e939fe8] è€—æ™‚: 0.62s
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:28:36 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042836-de0b86c1]
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:28:36 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 112832b0***
2025-11-02 04:28:36 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:28:36 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 112832b0-55bb-4f98-a200-f58ea51c5c38
2025-11-02 04:28:36 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:28:36 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:28:36 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:28:36 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:28:36 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:28:36 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:28:36 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:28:37 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:28:37 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 112832b0-55bb-4f98-a200-f58ea51c5c38 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:28:37 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:28:37 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:28:37 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:28:37 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:28:37 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:28:37 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:37 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:28:37 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:28:37 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 112832b0***
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042836-de0b86c1] è€—æ™‚: 0.63s
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:28:37 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:29:50 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ
2025-11-02 04:29:50 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-042950-aa9cfaf8]
2025-11-02 04:29:50 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-11-02 04:29:50 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:29:50 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:29:50 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 43 â†’ 43 å­—ç¬¦
2025-11-02 04:29:50 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 64a53ad7***
2025-11-02 04:29:50 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-11-02 04:29:50 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 24
2025-11-02 04:29:50 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 64a53ad7-ef32-430a-a185-7908f8c25eaf
2025-11-02 04:29:50 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:29:50 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:29:50 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 4 â†’ 4 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:29:50 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:29:50 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸', 'å£ä¹¾', 'å¤±çœ ', 'å¤šå¤¢']
2025-11-02 04:29:50 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 4 å€‹
2025-11-02 04:29:50 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸', 'å£ä¹¾', 'å¤±çœ ', 'å¤šå¤¢']
2025-11-02 04:29:51 - s_cbr.SpiralEngine - ERROR - âŒ æª¢ç´¢å¤±æ•—: SearchEngine.hybrid_search() got an unexpected keyword argument 'query_text'
2025-11-02 04:29:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 64a53ad7-ef32-430a-a185-7908f8c25eaf æ”¶æ–‚åº¦: 0.400
2025-11-02 04:29:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:29:51 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:29:51 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:29:51 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:29:51 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:29:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:29:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:29:51 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:29:51 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 64a53ad7***
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-042950-aa9cfaf8] è€—æ™‚: 0.63s
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:29:51 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:32:59 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:32:59 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:33:00 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:33:00 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:33:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:33:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-11-02 04:33:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:33:00 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:33:03 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:33:03 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:33:03 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:33:03 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:33:03 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:33:03 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:33:03 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:33:03 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:33:03 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:33:03 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:33:03 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:33:03 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:33:03 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:33:03 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:33:03 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:33:04 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:33:04 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:33:04 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:33:04 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:33:04 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:33:04 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:33:04 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:33:04 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:33:04 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:33:04 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:33:04 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:33:04 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:33:04 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:33:04 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:33:04 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:33:04 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:33:04 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:33:04 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:33:04 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:33:04 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:33:04 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:33:04 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:33:04 - s_cbr.backend.main - INFO - 
2025-11-02 04:33:04 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:33:04 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:33:04 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:33:04 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:33:05 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:33:05 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:33:05 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:35:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:35:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:35:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:35:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:35:27 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:35:27 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:35:28 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:35:28 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:35:30 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:35:30 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:35:30 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:35:30 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:35:30 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:35:30 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:35:30 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:35:30 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:35:31 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:35:31 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:35:31 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:35:31 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:35:31 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:35:31 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:35:31 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:35:32 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:35:32 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:35:32 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:35:32 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:35:32 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:35:32 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:35:32 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:35:32 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:35:32 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:35:32 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:35:32 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:35:32 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:35:32 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:35:32 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:35:32 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:35:32 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:35:32 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:35:32 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:35:32 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:35:32 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:35:32 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:35:32 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:35:32 - s_cbr.backend.main - INFO - 
2025-11-02 04:35:32 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:35:32 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:35:32 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:35:32 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:35:33 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:35:33 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:35:33 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:35:39 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:39 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043539-64bd473c]
2025-11-02 04:35:39 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:35:39 - s_cbr.SCBREngine - INFO -    session_id: 3c3b6c98-8413-48f1-ad84-0dc0267b3017
2025-11-02 04:35:39 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:39 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:35:39 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 2ed4bbf2***
2025-11-02 04:35:39 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:35:39 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 04:35:39 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 2ed4bbf2-7ce7-4547-912d-c71ba5acb1d1
2025-11-02 04:35:39 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:39 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:39 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:39 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:39 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:35:39 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:35:39 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:35:40 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2ed4bbf2-7ce7-4547-912d-c71ba5acb1d1 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.448
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.356
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35642680333806276, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35642680333806276, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35642680333806276, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.2851414426704502, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:40 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:40 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:40 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:40 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:41 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:41 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043541-c4cef14c]
2025-11-02 04:35:41 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:35:41 - s_cbr.SCBREngine - INFO -    session_id: 3c3b6c98-8413-48f1-ad84-0dc0267b3017
2025-11-02 04:35:41 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:41 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:35:41 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 3c3b6c98***
2025-11-02 04:35:41 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:35:41 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 04:35:41 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 3c3b6c98*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:41 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 3c3b6c98-8413-48f1-ad84-0dc0267b3017
2025-11-02 04:35:41 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:41 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:41 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:41 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:41 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:35:41 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:41 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:35:42 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 3c3b6c98-8413-48f1-ad84-0dc0267b3017 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.397
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:42 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:42 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:42 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:42 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:42 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043542-308374f5]
2025-11-02 04:35:42 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:35:42 - s_cbr.SCBREngine - INFO -    session_id: 3c3b6c98-8413-48f1-ad84-0dc0267b3017
2025-11-02 04:35:42 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:42 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:35:42 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 3c3b6c98***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:35:42 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 3c3b6c98-8413-48f1-ad84-0dc0267b3017
2025-11-02 04:35:42 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:35:42 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:35:42 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:42 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:35:42 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:35:42 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:35:42 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ', 'å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:35:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 3c3b6c98-8413-48f1-ad84-0dc0267b3017 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:35:43 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 04:35:43 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:35:43 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.687
2025-11-02 04:35:43 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.438
2025-11-02 04:35:43 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.4376718247708369, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:44 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:44 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.4376718247708369, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:44 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.4376718247708369, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35013745981666955, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:44 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:44 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:44 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:44 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:44 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043544-6f2d0222]
2025-11-02 04:35:44 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:35:44 - s_cbr.SCBREngine - INFO -    session_id: 8adf62b2-ea6f-4a3e-ac2f-9f2044d824f4
2025-11-02 04:35:44 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:44 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:35:44 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5e794fd3***
2025-11-02 04:35:44 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:35:44 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 04:35:44 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 5e794fd3-1f26-40f0-bd02-0b1d817137e1
2025-11-02 04:35:44 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:44 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:44 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:44 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:44 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:35:44 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:44 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:35:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5e794fd3-1f26-40f0-bd02-0b1d817137e1 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.385
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:45 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:45 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:45 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:45 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043545-e18bb6aa]
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    session_id: 8adf62b2-ea6f-4a3e-ac2f-9f2044d824f4
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8adf62b2***
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 8adf62b2*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 8adf62b2-ea6f-4a3e-ac2f-9f2044d824f4
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:45 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8adf62b2-ea6f-4a3e-ac2f-9f2044d824f4 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:45 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:45 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:45 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:45 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:45 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:45 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:45 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8adf62b2***
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043545-e18bb6aa] è€—æ™‚: 0.01s
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:45 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043545-62993c52]
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    session_id: d06d60a7-1d2a-4c8f-9a6a-090b770a579a
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 50cb9aec***
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:35:45 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 50cb9aec-8cc7-490e-88ba-8370411cf465
2025-11-02 04:35:45 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:45 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 50cb9aec-8cc7-490e-88ba-8370411cf465 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.401
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:47 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:47 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043547-c8cceeaa]
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    session_id: d06d60a7-1d2a-4c8f-9a6a-090b770a579a
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d06d60a7***
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± d06d60a7*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d06d60a7-1d2a-4c8f-9a6a-090b770a579a
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:47 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d06d60a7-1d2a-4c8f-9a6a-090b770a579a æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± d06d60a7***
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043547-c8cceeaa] è€—æ™‚: 0.00s
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043547-a47d6ed7]
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    session_id: d06d60a7-1d2a-4c8f-9a6a-090b770a579a
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± d06d60a7***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d06d60a7-1d2a-4c8f-9a6a-090b770a579a
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:47 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d06d60a7-1d2a-4c8f-9a6a-090b770a579a æ”¶æ–‚åº¦: 0.250
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:47 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:35:47 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± d06d60a7***
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043547-a47d6ed7] è€—æ™‚: 0.00s
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043547-0cbbc80d]
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    session_id: 899e1a9b-b708-4f95-80aa-4bb317627a10
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9e0acb77***
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 9e0acb77-85dc-49c2-9ccd-6724dae2ab21
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:47 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9e0acb77-85dc-49c2-9ccd-6724dae2ab21 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:47 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:47 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9e0acb77***
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043547-0cbbc80d] è€—æ™‚: 0.00s
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043547-2ccf75a3]
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    session_id: 899e1a9b-b708-4f95-80aa-4bb317627a10
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 899e1a9b***
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 04:35:47 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 899e1a9b*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 899e1a9b-b708-4f95-80aa-4bb317627a10
2025-11-02 04:35:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:35:48 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 899e1a9b-b708-4f95-80aa-4bb317627a10 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.395
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:48 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:48 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:48 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:48 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:48 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:48 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043548-2dab55df]
2025-11-02 04:35:48 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:35:48 - s_cbr.SCBREngine - INFO -    session_id: a58cb4f1-3014-4a20-a44c-9d3acff74807
2025-11-02 04:35:48 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:48 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:35:48 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b0e1260a***
2025-11-02 04:35:48 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:35:48 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 04:35:48 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: b0e1260a-eccf-43c7-833a-7c8f8ea04748
2025-11-02 04:35:48 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:48 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:48 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:48 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:48 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:35:48 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:48 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b0e1260a-eccf-43c7-833a-7c8f8ea04748 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.393
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:49 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:49 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:49 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:49 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043549-d5f82609]
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    session_id: a58cb4f1-3014-4a20-a44c-9d3acff74807
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: a58cb4f1***
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± a58cb4f1*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: a58cb4f1-3014-4a20-a44c-9d3acff74807
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:49 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± a58cb4f1-3014-4a20-a44c-9d3acff74807 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± a58cb4f1***
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043549-d5f82609] è€—æ™‚: 0.00s
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:49 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043549-38911088]
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    session_id: d3b93bbd-d8a6-45f5-b6f7-ba7875274979
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 222e10c3***
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 222e10c3-ea93-4e85-bfda-0d31859bfb5e
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:49 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 222e10c3-ea93-4e85-bfda-0d31859bfb5e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 222e10c3***
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043549-38911088] è€—æ™‚: 0.00s
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:49 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043549-f5c1a70f]
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    session_id: d3b93bbd-d8a6-45f5-b6f7-ba7875274979
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d3b93bbd***
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± d3b93bbd*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d3b93bbd-d8a6-45f5-b6f7-ba7875274979
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:49 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d3b93bbd-d8a6-45f5-b6f7-ba7875274979 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:49 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:49 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± d3b93bbd***
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043549-f5c1a70f] è€—æ™‚: 0.00s
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:49 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043549-008f3405]
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    session_id: 0598acc3-de36-4ae3-80fe-05a25c72e7c5
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 850fbc65***
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:35:49 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 850fbc65-1936-4689-8ae1-b8cc814d5e0c
2025-11-02 04:35:49 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:49 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:35:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 850fbc65-1936-4689-8ae1-b8cc814d5e0c æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.429
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:50 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:50 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:50 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:50 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043550-a6694c63]
2025-11-02 04:35:50 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:35:50 - s_cbr.SCBREngine - INFO -    session_id: 0598acc3-de36-4ae3-80fe-05a25c72e7c5
2025-11-02 04:35:50 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:50 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:35:50 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0598acc3***
2025-11-02 04:35:50 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:35:50 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 04:35:50 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 0598acc3*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:50 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0598acc3-de36-4ae3-80fe-05a25c72e7c5
2025-11-02 04:35:50 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:50 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:50 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:50 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:50 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:35:50 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:50 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:35:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0598acc3-de36-4ae3-80fe-05a25c72e7c5 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.387
2025-11-02 04:35:50 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:50 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:51 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:51 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:51 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:51 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043551-fcffa557]
2025-11-02 04:35:51 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:35:51 - s_cbr.SCBREngine - INFO -    session_id: c205f4dd-8ce6-4132-a108-6f6cf757b6b0
2025-11-02 04:35:51 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:51 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:35:51 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: ba8ea94e***
2025-11-02 04:35:51 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:35:51 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 04:35:51 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: ba8ea94e-09c9-4e73-95b4-5f4e565230a5
2025-11-02 04:35:51 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:51 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:51 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:51 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:51 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:35:51 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:51 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:35:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ba8ea94e-09c9-4e73-95b4-5f4e565230a5 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.380
2025-11-02 04:35:51 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:51 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:52 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:52 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043552-3e2f7a9c]
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    session_id: c205f4dd-8ce6-4132-a108-6f6cf757b6b0
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c205f4dd***
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± c205f4dd*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c205f4dd-8ce6-4132-a108-6f6cf757b6b0
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:52 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:52 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c205f4dd-8ce6-4132-a108-6f6cf757b6b0 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:52 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:52 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:52 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:52 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:52 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:52 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:52 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:52 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c205f4dd***
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043552-3e2f7a9c] è€—æ™‚: 0.00s
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:52 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043552-e9d465cb]
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    session_id: f2dab4a9-ade7-4066-863f-fc5646d604f2
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 45ff3181***
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:35:52 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 45ff3181-a85f-42c8-b04d-e37ad1f97072
2025-11-02 04:35:52 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:52 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:35:52 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 45ff3181-a85f-42c8-b04d-e37ad1f97072 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.406
2025-11-02 04:35:52 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:53 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:53 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043553-a646a861]
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    session_id: f2dab4a9-ade7-4066-863f-fc5646d604f2
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f2dab4a9***
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± f2dab4a9*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: f2dab4a9-ade7-4066-863f-fc5646d604f2
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:53 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f2dab4a9-ade7-4066-863f-fc5646d604f2 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:53 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:53 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± f2dab4a9***
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043553-a646a861] è€—æ™‚: 0.01s
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:53 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043553-6508b109]
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    session_id: cfb29c23-2e85-458d-acd4-ad8d2423fa65
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0c33d0b6***
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 0c33d0b6-5494-4e74-9149-fdcd6b5b5bb7
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:35:53 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0c33d0b6-5494-4e74-9149-fdcd6b5b5bb7 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:35:53 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:35:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:35:53 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0c33d0b6***
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043553-6508b109] è€—æ™‚: 0.01s
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:35:53 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043553-cc445b63]
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    session_id: cfb29c23-2e85-458d-acd4-ad8d2423fa65
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: cfb29c23***
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 04:35:53 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± cfb29c23*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: cfb29c23-2e85-458d-acd4-ad8d2423fa65
2025-11-02 04:35:53 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:53 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:35:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cfb29c23-2e85-458d-acd4-ad8d2423fa65 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.350
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:53 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:54 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:54 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043554-0bec08ce]
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:35:54 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 53ae682e***
2025-11-02 04:35:54 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:35:54 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 53ae682e-4396-438c-b79b-305faf7c6d9b
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:35:54 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 53ae682e-4396-438c-b79b-305faf7c6d9b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.424
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:54 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:54 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:54 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:54 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043554-a73a95c2]
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:35:54 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 4b897e5a***
2025-11-02 04:35:54 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:35:54 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 4b897e5a-459b-48f4-9309-eebe02885566
2025-11-02 04:35:54 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:54 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:35:55 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4b897e5a-459b-48f4-9309-eebe02885566 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.354
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:55 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:55 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:55 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:55 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:35:55 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:35:55 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043555-840fc1ce]
2025-11-02 04:35:55 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:35:55 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:35:55 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:35:55 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:35:55 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 23482a7d***
2025-11-02 04:35:55 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:35:55 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 04:35:55 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 23482a7d-6fec-4376-a1dc-6a0753127fb9
2025-11-02 04:35:55 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:35:55 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:35:55 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:35:55 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:35:55 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:35:55 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:35:55 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:35:56 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 23482a7d-6fec-4376-a1dc-6a0753127fb9 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.405
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:35:56 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:35:56 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:35:56 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:35:56 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:36:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:36:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:36:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:36:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:36:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:36:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:36:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:36:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:36:59 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:36:59 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:36:59 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:36:59 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:36:59 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:36:59 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:36:59 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:36:59 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:36:59 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:36:59 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:36:59 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:36:59 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:36:59 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:36:59 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:36:59 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:37:00 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:37:00 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:37:00 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:37:00 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:37:00 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:37:00 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:37:00 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:37:00 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:37:00 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:37:00 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:37:00 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:37:00 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:37:00 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:37:00 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:37:00 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:37:00 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:37:00 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:37:00 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:37:00 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:37:00 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:37:00 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:37:00 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:37:00 - s_cbr.backend.main - INFO - 
2025-11-02 04:37:00 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:37:00 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:37:00 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:37:00 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:37:01 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:37:01 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:37:01 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:37:10 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:10 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043710-6fd34134]
2025-11-02 04:37:10 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:37:10 - s_cbr.SCBREngine - INFO -    session_id: c3118c13-11d1-4969-a66f-dac864b234b0
2025-11-02 04:37:10 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:10 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:37:10 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: db02370d***
2025-11-02 04:37:10 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:37:10 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 04:37:10 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: db02370d-a4ef-4790-abf1-2c39add75a21
2025-11-02 04:37:10 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:10 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:10 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:10 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:10 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:37:10 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:37:10 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:37:11 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± db02370d-a4ef-4790-abf1-2c39add75a21 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.389
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:11 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:11 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:11 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:11 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:11 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:11 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043711-5510eaad]
2025-11-02 04:37:11 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:37:11 - s_cbr.SCBREngine - INFO -    session_id: c3118c13-11d1-4969-a66f-dac864b234b0
2025-11-02 04:37:11 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:11 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:37:11 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c3118c13***
2025-11-02 04:37:11 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:37:11 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 04:37:11 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± c3118c13*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:11 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c3118c13-11d1-4969-a66f-dac864b234b0
2025-11-02 04:37:11 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:11 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:11 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:11 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:11 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:37:11 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:11 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:37:12 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c3118c13-11d1-4969-a66f-dac864b234b0 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.361
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:12 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:12 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:12 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:12 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:12 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:12 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043712-1274af7a]
2025-11-02 04:37:12 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:37:12 - s_cbr.SCBREngine - INFO -    session_id: c3118c13-11d1-4969-a66f-dac864b234b0
2025-11-02 04:37:12 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:12 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:37:12 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± c3118c13***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:37:12 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c3118c13-11d1-4969-a66f-dac864b234b0
2025-11-02 04:37:12 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:37:12 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:37:12 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:12 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:37:12 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:37:12 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:37:12 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ', 'å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:37:13 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c3118c13-11d1-4969-a66f-dac864b234b0 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.635
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.420
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.4197555879933363, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.4197555879933363, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.4197555879933363, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.33580447039466904, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:13 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:13 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:13 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:13 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:13 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043713-ec9effab]
2025-11-02 04:37:13 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:37:13 - s_cbr.SCBREngine - INFO -    session_id: 97321a95-9972-4f74-bdb5-59a427bfe5ad
2025-11-02 04:37:13 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:13 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:37:13 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9b4e1d0c***
2025-11-02 04:37:13 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:37:13 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 04:37:13 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 9b4e1d0c-84a8-4fb0-8bbd-c324b88199b5
2025-11-02 04:37:13 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:13 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:13 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:13 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:13 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:37:13 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:13 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:37:13 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9b4e1d0c-84a8-4fb0-8bbd-c324b88199b5 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:13 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.401
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:14 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:14 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043714-4ad892e9]
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    session_id: 97321a95-9972-4f74-bdb5-59a427bfe5ad
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 97321a95***
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 97321a95*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 97321a95-9972-4f74-bdb5-59a427bfe5ad
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:14 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:14 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 97321a95-9972-4f74-bdb5-59a427bfe5ad æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:14 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:14 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:14 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:14 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:14 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:14 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:14 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:14 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 97321a95***
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043714-4ad892e9] è€—æ™‚: 0.00s
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:14 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043714-0a7b3c8a]
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    session_id: 0e3fa338-caac-4d25-bf66-de6ff3f301e7
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 518495f0***
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:37:14 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 518495f0-ce9e-44ca-a140-bde656f9205a
2025-11-02 04:37:14 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:14 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:37:14 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 518495f0-ce9e-44ca-a140-bde656f9205a æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.425
2025-11-02 04:37:14 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:14 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:15 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:15 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043715-aea8dca4]
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    session_id: 0e3fa338-caac-4d25-bf66-de6ff3f301e7
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0e3fa338***
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 0e3fa338*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0e3fa338-caac-4d25-bf66-de6ff3f301e7
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:15 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0e3fa338-caac-4d25-bf66-de6ff3f301e7 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0e3fa338***
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043715-aea8dca4] è€—æ™‚: 0.00s
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:15 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043715-88e784af]
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    session_id: 0e3fa338-caac-4d25-bf66-de6ff3f301e7
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 0e3fa338***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0e3fa338-caac-4d25-bf66-de6ff3f301e7
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:15 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0e3fa338-caac-4d25-bf66-de6ff3f301e7 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:15 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:37:15 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 0e3fa338***
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043715-88e784af] è€—æ™‚: 0.00s
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:15 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043715-9fc7365c]
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    session_id: dae8afe8-e5a6-4d39-b464-03edba5ef6ba
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 71620b07***
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 71620b07-5f00-4cbd-a776-96078b4c888e
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:15 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 71620b07-5f00-4cbd-a776-96078b4c888e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:15 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 71620b07***
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043715-9fc7365c] è€—æ™‚: 0.00s
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:15 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043715-7b9aac51]
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    session_id: dae8afe8-e5a6-4d39-b464-03edba5ef6ba
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: dae8afe8***
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 04:37:15 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± dae8afe8*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: dae8afe8-e5a6-4d39-b464-03edba5ef6ba
2025-11-02 04:37:15 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:15 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:37:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± dae8afe8-e5a6-4d39-b464-03edba5ef6ba æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.438
2025-11-02 04:37:15 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:15 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:16 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:16 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:16 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:16 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043716-55237c92]
2025-11-02 04:37:16 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:37:16 - s_cbr.SCBREngine - INFO -    session_id: b5c48000-10e9-4d3e-b0cd-86bf76c18918
2025-11-02 04:37:16 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:16 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:37:16 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: bfd2f7ed***
2025-11-02 04:37:16 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:37:16 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 04:37:16 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: bfd2f7ed-3739-4ed2-800d-aeacc7c196ab
2025-11-02 04:37:16 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:16 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:16 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:16 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:16 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:37:16 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:16 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:37:16 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bfd2f7ed-3739-4ed2-800d-aeacc7c196ab æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.396
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:17 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:17 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043717-d5a364a2]
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    session_id: b5c48000-10e9-4d3e-b0cd-86bf76c18918
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b5c48000***
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b5c48000*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b5c48000-10e9-4d3e-b0cd-86bf76c18918
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:17 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b5c48000-10e9-4d3e-b0cd-86bf76c18918 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b5c48000***
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043717-d5a364a2] è€—æ™‚: 0.00s
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:17 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043717-8860da32]
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    session_id: 63e4c681-9c87-4341-93f1-d8b26799d28f
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 71f6a147***
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 71f6a147-6a77-4f9f-83bf-6b40a2d0bc3e
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:17 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 71f6a147-6a77-4f9f-83bf-6b40a2d0bc3e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 71f6a147***
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043717-8860da32] è€—æ™‚: 0.00s
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:17 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043717-7cba3d19]
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    session_id: 63e4c681-9c87-4341-93f1-d8b26799d28f
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 63e4c681***
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 63e4c681*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 63e4c681-9c87-4341-93f1-d8b26799d28f
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:17 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 63e4c681-9c87-4341-93f1-d8b26799d28f æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:17 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 63e4c681***
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043717-7cba3d19] è€—æ™‚: 0.01s
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:17 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043717-dc482d02]
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    session_id: 0d67fa06-bcc5-46a1-914a-7e8a9f9d2974
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c679f41b***
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:37:17 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: c679f41b-689a-473b-ac5e-d53ae5f7c2e3
2025-11-02 04:37:17 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:17 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:37:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c679f41b-689a-473b-ac5e-d53ae5f7c2e3 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.449
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:17 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:18 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:18 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043718-fbf1b4af]
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO -    session_id: 0d67fa06-bcc5-46a1-914a-7e8a9f9d2974
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:37:18 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0d67fa06***
2025-11-02 04:37:18 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:37:18 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 04:37:18 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 0d67fa06*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0d67fa06-bcc5-46a1-914a-7e8a9f9d2974
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:37:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0d67fa06-bcc5-46a1-914a-7e8a9f9d2974 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.401
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:18 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:18 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:18 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:18 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043718-fdb8c169]
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO -    session_id: b79c9123-202c-4815-bbbe-12abc3bcc109
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:37:18 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8ad5b9db***
2025-11-02 04:37:18 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:37:18 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8ad5b9db-591c-4f49-9b84-13869768ea1d
2025-11-02 04:37:18 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:18 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:37:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8ad5b9db-591c-4f49-9b84-13869768ea1d æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.358
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:19 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:19 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:19 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043719-50bf19d2]
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    session_id: b79c9123-202c-4815-bbbe-12abc3bcc109
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b79c9123***
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b79c9123*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b79c9123-202c-4815-bbbe-12abc3bcc109
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b79c9123-202c-4815-bbbe-12abc3bcc109 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b79c9123***
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043719-50bf19d2] è€—æ™‚: 0.00s
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043719-3b328ddd]
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    session_id: b28ddee3-2094-4b8b-aa3a-0347cc3fdcd9
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b9f3decf***
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:37:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: b9f3decf-0eb0-47f9-b3b5-2688a0395312
2025-11-02 04:37:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b9f3decf-0eb0-47f9-b3b5-2688a0395312 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.443
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:20 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:20 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:20 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043720-8862ab29]
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    session_id: b28ddee3-2094-4b8b-aa3a-0347cc3fdcd9
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b28ddee3***
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b28ddee3*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b28ddee3-2094-4b8b-aa3a-0347cc3fdcd9
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:20 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b28ddee3-2094-4b8b-aa3a-0347cc3fdcd9 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:20 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:20 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b28ddee3***
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043720-8862ab29] è€—æ™‚: 0.00s
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043720-ff3f9278]
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    session_id: 5e6990f8-574a-42b7-85ea-82528250c917
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 3d8d719c***
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 3d8d719c-9600-464b-aace-ac269483a5a3
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:37:20 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 3d8d719c-9600-464b-aace-ac269483a5a3 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:37:20 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:37:20 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:37:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:37:20 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 3d8d719c***
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043720-ff3f9278] è€—æ™‚: 0.01s
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:37:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043720-a19e429c]
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    session_id: 5e6990f8-574a-42b7-85ea-82528250c917
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5e6990f8***
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 04:37:20 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 5e6990f8*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 5e6990f8-574a-42b7-85ea-82528250c917
2025-11-02 04:37:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:37:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5e6990f8-574a-42b7-85ea-82528250c917 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.415
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:21 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:21 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:21 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:37:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043721-fbed4ceb]
2025-11-02 04:37:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:37:21 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:37:21 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:37:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f3f181b0***
2025-11-02 04:37:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:37:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 04:37:21 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: f3f181b0-0b6a-4e3a-849b-58630de408d7
2025-11-02 04:37:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:21 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:21 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:21 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:37:21 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:21 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:37:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f3f181b0-0b6a-4e3a-849b-58630de408d7 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.404
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:22 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:22 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:22 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:22 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:37:22 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043722-c070d7ed]
2025-11-02 04:37:22 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:37:22 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:37:22 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:22 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:37:22 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: cf8c03e7***
2025-11-02 04:37:22 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:37:22 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 04:37:22 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: cf8c03e7-4ea6-497d-869a-bfa95a606137
2025-11-02 04:37:22 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:22 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:22 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:22 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:22 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:37:22 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:22 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:37:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cf8c03e7-4ea6-497d-869a-bfa95a606137 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.368
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:23 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:23 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:23 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:37:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:37:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043723-c92a8430]
2025-11-02 04:37:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:37:23 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:37:23 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:37:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:37:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: fc7d835a***
2025-11-02 04:37:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:37:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 04:37:23 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: fc7d835a-3f26-4c18-9fdc-72bbfbeb2708
2025-11-02 04:37:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:37:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:37:23 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:37:23 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:37:23 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:37:23 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:37:23 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:37:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± fc7d835a-3f26-4c18-9fdc-72bbfbeb2708 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.425
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:37:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:37:24 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:37:24 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:37:24 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043828-61bb0a8e]
2025-11-02 04:38:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:38:28 - s_cbr.SCBREngine - INFO -    session_id: 9cf1127d-9df6-4e54-87d4-63fc7b04f5b6
2025-11-02 04:38:28 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:38:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 3fb56f25***
2025-11-02 04:38:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:38:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 24
2025-11-02 04:38:28 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 3fb56f25-dfca-4a2d-b07d-8f323cb2d4d6
2025-11-02 04:38:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:28 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:28 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:28 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:38:28 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:38:28 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:38:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 3fb56f25-dfca-4a2d-b07d-8f323cb2d4d6 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.442
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.354
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35437442647558864, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35437442647558864, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35437442647558864, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.28349954118047094, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:29 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:29 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:29 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:29 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:29 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:29 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043829-a84d2f6c]
2025-11-02 04:38:29 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:38:29 - s_cbr.SCBREngine - INFO -    session_id: 9cf1127d-9df6-4e54-87d4-63fc7b04f5b6
2025-11-02 04:38:29 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:29 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:38:29 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9cf1127d***
2025-11-02 04:38:29 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:38:29 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 25
2025-11-02 04:38:29 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 9cf1127d*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:29 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 9cf1127d-9df6-4e54-87d4-63fc7b04f5b6
2025-11-02 04:38:29 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:29 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:29 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:29 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:29 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:38:29 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:29 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:38:30 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9cf1127d-9df6-4e54-87d4-63fc7b04f5b6 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.419
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:30 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:30 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:30 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:30 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:30 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:30 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043830-e99fce70]
2025-11-02 04:38:30 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:38:30 - s_cbr.SCBREngine - INFO -    session_id: 9cf1127d-9df6-4e54-87d4-63fc7b04f5b6
2025-11-02 04:38:30 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:30 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:38:30 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 9cf1127d***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:38:30 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 9cf1127d-9df6-4e54-87d4-63fc7b04f5b6
2025-11-02 04:38:30 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:38:30 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:38:30 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:30 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:38:30 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:38:30 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:38:30 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ', 'å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:38:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9cf1127d-9df6-4e54-87d4-63fc7b04f5b6 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.576
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.400
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.39967930955597364, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.39967930955597364, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.39967930955597364, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3197434476447789, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:31 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:31 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:31 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:31 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:31 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:31 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043831-39a2da03]
2025-11-02 04:38:31 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:38:31 - s_cbr.SCBREngine - INFO -    session_id: 5bc5f2e7-238a-411c-aa25-d606e94ac11d
2025-11-02 04:38:31 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:31 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:38:31 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8a86db7f***
2025-11-02 04:38:31 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:38:31 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 26
2025-11-02 04:38:31 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8a86db7f-c4c3-4fdb-9117-d4f92e2a3453
2025-11-02 04:38:31 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:31 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:31 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:31 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:31 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:38:31 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:31 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:38:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8a86db7f-c4c3-4fdb-9117-d4f92e2a3453 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.372
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:32 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:32 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:32 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:32 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043832-3a845d18]
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    session_id: 5bc5f2e7-238a-411c-aa25-d606e94ac11d
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5bc5f2e7***
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 27
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 5bc5f2e7*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 5bc5f2e7-238a-411c-aa25-d606e94ac11d
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:32 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5bc5f2e7-238a-411c-aa25-d606e94ac11d æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:32 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:32 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:32 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:32 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:32 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:32 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:32 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 5bc5f2e7***
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043832-3a845d18] è€—æ™‚: 0.00s
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:32 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043832-b96ace64]
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    session_id: 29e9e0e7-8824-4bbd-99a7-20c5c97cf26b
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f0b162bd***
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:38:32 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 28
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: f0b162bd-448b-449f-a9c9-7c39408b6671
2025-11-02 04:38:32 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:32 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f0b162bd-448b-449f-a9c9-7c39408b6671 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.424
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:33 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:33 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:33 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043833-6c10beff]
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    session_id: 29e9e0e7-8824-4bbd-99a7-20c5c97cf26b
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 29e9e0e7***
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 29
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 29e9e0e7*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 29e9e0e7-8824-4bbd-99a7-20c5c97cf26b
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:33 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 29e9e0e7-8824-4bbd-99a7-20c5c97cf26b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 29e9e0e7***
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043833-6c10beff] è€—æ™‚: 0.00s
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043833-518bd134]
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    session_id: 29e9e0e7-8824-4bbd-99a7-20c5c97cf26b
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 29e9e0e7***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 29e9e0e7-8824-4bbd-99a7-20c5c97cf26b
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:33 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 29e9e0e7-8824-4bbd-99a7-20c5c97cf26b æ”¶æ–‚åº¦: 0.250
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:33 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:38:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 29e9e0e7***
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043833-518bd134] è€—æ™‚: 0.01s
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043833-186921c9]
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    session_id: 19b54c56-c8a9-4909-b615-d39e7580ac99
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: a8eeb2ed***
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 30
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: a8eeb2ed-92ca-48cd-b6ae-d7491193b11d
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:33 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± a8eeb2ed-92ca-48cd-b6ae-d7491193b11d æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± a8eeb2ed***
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043833-186921c9] è€—æ™‚: 0.00s
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043833-dc3e0396]
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    session_id: 19b54c56-c8a9-4909-b615-d39e7580ac99
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 19b54c56***
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 31
2025-11-02 04:38:33 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 19b54c56*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 19b54c56-c8a9-4909-b615-d39e7580ac99
2025-11-02 04:38:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:38:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 19b54c56-c8a9-4909-b615-d39e7580ac99 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.376
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:34 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:34 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:34 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:34 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043834-8ae0c8eb]
2025-11-02 04:38:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:38:34 - s_cbr.SCBREngine - INFO -    session_id: eaec25f7-e881-4f96-a753-48c9143e8e1e
2025-11-02 04:38:34 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:38:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8fd61b05***
2025-11-02 04:38:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:38:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 32
2025-11-02 04:38:34 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8fd61b05-0272-4d5c-a3e6-7222972666e8
2025-11-02 04:38:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:38:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8fd61b05-0272-4d5c-a3e6-7222972666e8 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.397
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:35 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:35 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043835-37e5bb35]
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    session_id: eaec25f7-e881-4f96-a753-48c9143e8e1e
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: eaec25f7***
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 33
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± eaec25f7*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: eaec25f7-e881-4f96-a753-48c9143e8e1e
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:35 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± eaec25f7-e881-4f96-a753-48c9143e8e1e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± eaec25f7***
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043835-37e5bb35] è€—æ™‚: 0.00s
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:35 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043835-26169656]
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    session_id: 07a756bb-47fe-43e4-a79c-7e02ac7cf5d1
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: bb0df11c***
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 34
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: bb0df11c-1268-4395-85f8-300ed675f841
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:35 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bb0df11c-1268-4395-85f8-300ed675f841 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± bb0df11c***
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043835-26169656] è€—æ™‚: 0.01s
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:35 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043835-64b072d3]
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    session_id: 07a756bb-47fe-43e4-a79c-7e02ac7cf5d1
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 07a756bb***
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 35
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 07a756bb*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 07a756bb-47fe-43e4-a79c-7e02ac7cf5d1
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:35 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 07a756bb-47fe-43e4-a79c-7e02ac7cf5d1 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:35 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 07a756bb***
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043835-64b072d3] è€—æ™‚: 0.00s
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:35 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043835-3d6558c8]
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    session_id: 72eedbbc-b984-4c1a-821b-e5df03bac26f
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 91111436***
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:38:35 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 36
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 91111436-43fd-4aab-9ba7-f5de4a9a1f1c
2025-11-02 04:38:35 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:35 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:38:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 91111436-43fd-4aab-9ba7-f5de4a9a1f1c æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.447
2025-11-02 04:38:35 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:35 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:36 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:36 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:36 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:36 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043836-963b52b3]
2025-11-02 04:38:36 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:38:36 - s_cbr.SCBREngine - INFO -    session_id: 72eedbbc-b984-4c1a-821b-e5df03bac26f
2025-11-02 04:38:36 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:36 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:38:36 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 72eedbbc***
2025-11-02 04:38:36 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:38:36 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 37
2025-11-02 04:38:36 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 72eedbbc*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:36 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 72eedbbc-b984-4c1a-821b-e5df03bac26f
2025-11-02 04:38:36 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:36 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:36 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:36 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:36 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:38:36 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:36 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:38:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 72eedbbc-b984-4c1a-821b-e5df03bac26f æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.438
2025-11-02 04:38:36 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:36 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:37 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:37 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:37 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:37 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043837-a16cf91c]
2025-11-02 04:38:37 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:38:37 - s_cbr.SCBREngine - INFO -    session_id: b06a40ec-f3a6-42b5-81f7-e5a562e0acd1
2025-11-02 04:38:37 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:37 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:38:37 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 2aceb9b4***
2025-11-02 04:38:37 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:38:37 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 38
2025-11-02 04:38:37 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 2aceb9b4-271d-4b79-a4ba-602d1e0f653e
2025-11-02 04:38:37 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:37 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:37 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:37 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:37 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:38:37 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:37 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:38:37 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2aceb9b4-271d-4b79-a4ba-602d1e0f653e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.418
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:37 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:38 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:38 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043838-8c637732]
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    session_id: b06a40ec-f3a6-42b5-81f7-e5a562e0acd1
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b06a40ec***
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 39
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b06a40ec*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b06a40ec-f3a6-42b5-81f7-e5a562e0acd1
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:38 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b06a40ec-f3a6-42b5-81f7-e5a562e0acd1 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b06a40ec***
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043838-8c637732] è€—æ™‚: 0.00s
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:38 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043838-3dd5ed00]
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    session_id: c2a11be2-74ed-4b86-a4c7-16d71edb8e2e
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 35dbed6e***
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 40
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 35dbed6e-86bd-456c-906c-4ef97e7990f2
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 35dbed6e-86bd-456c-906c-4ef97e7990f2 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.434
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:38 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:38 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:38 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:38 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043838-07336c73]
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    session_id: c2a11be2-74ed-4b86-a4c7-16d71edb8e2e
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c2a11be2***
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 41
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± c2a11be2*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c2a11be2-74ed-4b86-a4c7-16d71edb8e2e
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:38 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c2a11be2-74ed-4b86-a4c7-16d71edb8e2e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c2a11be2***
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043838-07336c73] è€—æ™‚: 0.00s
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:38 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043838-898595d5]
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    session_id: f2833104-54b0-4968-bb0f-289b6002b3be
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c2c5e648***
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 42
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: c2c5e648-d211-4ed4-b14c-b9c3126f97f8
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:38:38 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c2c5e648-d211-4ed4-b14c-b9c3126f97f8 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:38:38 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:38:38 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c2c5e648***
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043838-898595d5] è€—æ™‚: 0.00s
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:38:38 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043838-6e9b5505]
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    session_id: f2833104-54b0-4968-bb0f-289b6002b3be
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f2833104***
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 43
2025-11-02 04:38:38 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± f2833104*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: f2833104-54b0-4968-bb0f-289b6002b3be
2025-11-02 04:38:38 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:38 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:38:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f2833104-54b0-4968-bb0f-289b6002b3be æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.446
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:39 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:39 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:39 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:39 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:39 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:38:39 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043839-ae1a0505]
2025-11-02 04:38:39 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:38:39 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:38:39 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:39 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:38:39 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9fa0ed81***
2025-11-02 04:38:39 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:38:39 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 44
2025-11-02 04:38:39 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 9fa0ed81-b299-4a36-a580-9b93c0af32f0
2025-11-02 04:38:39 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:39 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:39 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:39 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:39 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:38:39 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:39 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:38:40 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9fa0ed81-b299-4a36-a580-9b93c0af32f0 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.376
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:40 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:40 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:40 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:40 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:40 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:38:40 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043840-fcbcbada]
2025-11-02 04:38:40 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:38:40 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:38:40 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:40 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:38:40 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 2234319d***
2025-11-02 04:38:40 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:38:40 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 45
2025-11-02 04:38:40 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 2234319d-262b-4dfe-b0c4-34750e11bd36
2025-11-02 04:38:40 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:40 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:40 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:40 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:40 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:38:40 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:40 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:38:41 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2234319d-262b-4dfe-b0c4-34750e11bd36 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.423
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:41 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:41 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:41 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:41 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:38:41 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:38:41 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043841-d1be7952]
2025-11-02 04:38:41 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:38:41 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:38:41 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:38:41 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:38:41 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 36170651***
2025-11-02 04:38:41 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:38:41 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 46
2025-11-02 04:38:41 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 36170651-ab21-4999-acda-6dfd6ac67444
2025-11-02 04:38:41 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:38:41 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:38:41 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:38:41 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:38:41 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:38:41 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:38:41 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:38:42 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 36170651-ab21-4999-acda-6dfd6ac67444 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.407
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:38:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:38:42 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:38:42 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:38:42 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:31 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:39:31 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:39:31 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:39:31 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:39:31 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:39:31 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:39:31 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:39:31 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:39:34 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:39:34 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:39:34 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:39:34 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:39:34 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:39:34 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:39:34 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:39:34 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:39:35 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:39:35 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:39:35 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:39:35 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:39:35 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:39:35 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:39:35 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:39:35 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:39:35 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:39:35 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:39:35 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:39:35 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:39:35 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:39:35 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:39:35 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:39:35 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:39:35 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:39:35 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:39:35 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:39:35 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:39:35 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:39:35 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:39:35 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:39:35 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:39:35 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:39:35 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:39:35 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:39:35 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:39:35 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:39:35 - s_cbr.backend.main - INFO - 
2025-11-02 04:39:35 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:39:35 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:39:35 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:39:36 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:39:36 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:39:37 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:39:37 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:39:41 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:41 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043941-17656dd4]
2025-11-02 04:39:41 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:39:41 - s_cbr.SCBREngine - INFO -    session_id: 387804ab-6696-4202-a4af-5cf4b04ab7e1
2025-11-02 04:39:41 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:41 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:39:41 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b2fa3be5***
2025-11-02 04:39:41 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:39:41 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 04:39:41 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: b2fa3be5-00b2-4aa3-b992-a2193cd92e17
2025-11-02 04:39:41 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:41 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:41 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:41 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:41 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç–²å€¦', 'ç„¡å¥½']
2025-11-02 04:39:41 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:39:41 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç–²å€¦', 'ç„¡å¥½']
2025-11-02 04:39:42 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b2fa3be5-00b2-4aa3-b992-a2193cd92e17 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.359
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:42 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:42 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:42 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:42 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:42 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043942-35173c73]
2025-11-02 04:39:42 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:39:42 - s_cbr.SCBREngine - INFO -    session_id: 387804ab-6696-4202-a4af-5cf4b04ab7e1
2025-11-02 04:39:42 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:42 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:39:42 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 387804ab***
2025-11-02 04:39:42 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:39:42 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 04:39:42 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 387804ab*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:42 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 387804ab-6696-4202-a4af-5cf4b04ab7e1
2025-11-02 04:39:42 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:42 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:42 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:42 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:42 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:39:42 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:42 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:39:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 387804ab-6696-4202-a4af-5cf4b04ab7e1 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.367
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:43 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:43 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:43 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:43 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043943-5fd05108]
2025-11-02 04:39:43 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:39:43 - s_cbr.SCBREngine - INFO -    session_id: 387804ab-6696-4202-a4af-5cf4b04ab7e1
2025-11-02 04:39:43 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:43 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:39:43 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 387804ab***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:39:43 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 387804ab-6696-4202-a4af-5cf4b04ab7e1
2025-11-02 04:39:43 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:39:43 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:39:43 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:43 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:39:43 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:39:43 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:39:43 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ', 'å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:39:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 387804ab-6696-4202-a4af-5cf4b04ab7e1 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.617
2025-11-02 04:39:43 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.414
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.41386657052498876, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:43 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.41386657052498876, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.41386657052498876, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.33109325641999104, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:44 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:44 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:44 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:44 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043944-7cf6c4dd]
2025-11-02 04:39:44 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:39:44 - s_cbr.SCBREngine - INFO -    session_id: 0324b41b-dcec-4783-a7b9-e1d3ad07545b
2025-11-02 04:39:44 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:44 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:39:44 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: a1b56421***
2025-11-02 04:39:44 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:39:44 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 04:39:44 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: a1b56421-d025-41c6-b69d-d83b022b66e3
2025-11-02 04:39:44 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:44 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:44 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:44 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:44 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:39:44 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:44 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:39:44 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± a1b56421-d025-41c6-b69d-d83b022b66e3 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.389
2025-11-02 04:39:44 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:45 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:45 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043945-dfdd8e32]
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    session_id: 0324b41b-dcec-4783-a7b9-e1d3ad07545b
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0324b41b***
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 0324b41b*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0324b41b-dcec-4783-a7b9-e1d3ad07545b
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:45 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0324b41b-dcec-4783-a7b9-e1d3ad07545b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:45 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:45 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:45 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:45 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:45 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:45 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:45 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0324b41b***
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043945-dfdd8e32] è€—æ™‚: 0.00s
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:45 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043945-a4f38335]
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    session_id: 06051d20-29b0-421b-9754-2665c641fe4e
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 43c7b739***
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:39:45 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 43c7b739-b1f2-4104-a01b-008762a82e04
2025-11-02 04:39:45 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:45 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:39:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43c7b739-b1f2-4104-a01b-008762a82e04 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.380
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:45 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:46 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:46 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043946-6795d501]
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    session_id: 06051d20-29b0-421b-9754-2665c641fe4e
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 06051d20***
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 06051d20*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 06051d20-29b0-421b-9754-2665c641fe4e
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:46 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 06051d20-29b0-421b-9754-2665c641fe4e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 06051d20***
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043946-6795d501] è€—æ™‚: 0.00s
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:46 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043946-56213a16]
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    session_id: 06051d20-29b0-421b-9754-2665c641fe4e
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 06051d20***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 06051d20-29b0-421b-9754-2665c641fe4e
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:46 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 06051d20-29b0-421b-9754-2665c641fe4e æ”¶æ–‚åº¦: 0.250
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:46 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:39:46 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 06051d20***
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043946-56213a16] è€—æ™‚: 0.01s
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:46 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043946-3e106b3b]
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    session_id: e873babf-e282-45f1-8d59-19b414283449
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 3019f28e***
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 3019f28e-4f23-447b-a10d-a8bbd083cf06
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:46 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 3019f28e-4f23-447b-a10d-a8bbd083cf06 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:46 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 3019f28e***
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043946-3e106b3b] è€—æ™‚: 0.00s
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:46 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043946-a2eca6b2]
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    session_id: e873babf-e282-45f1-8d59-19b414283449
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e873babf***
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 04:39:46 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± e873babf*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: e873babf-e282-45f1-8d59-19b414283449
2025-11-02 04:39:46 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:46 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:39:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e873babf-e282-45f1-8d59-19b414283449 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.446
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:46 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:46 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:47 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043947-3c309851]
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    session_id: 3f601124-d8c8-4dff-874c-9e5bf40f1317
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 86484266***
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 86484266-ae1d-4fc1-944d-2975d0eb5ae8
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 86484266-ae1d-4fc1-944d-2975d0eb5ae8 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.384
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:47 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:47 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043947-40ccffce]
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    session_id: 3f601124-d8c8-4dff-874c-9e5bf40f1317
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 3f601124***
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 3f601124*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 3f601124-d8c8-4dff-874c-9e5bf40f1317
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:47 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 3f601124-d8c8-4dff-874c-9e5bf40f1317 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 3f601124***
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043947-40ccffce] è€—æ™‚: 0.01s
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043947-9fa8cea2]
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    session_id: 2256328d-75f0-47a7-b97d-521feedbde77
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8cf69277***
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8cf69277-e8cf-4986-8dc4-d375a91e7c81
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:47 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8cf69277-e8cf-4986-8dc4-d375a91e7c81 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8cf69277***
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043947-9fa8cea2] è€—æ™‚: 0.01s
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043947-56817ba4]
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    session_id: 2256328d-75f0-47a7-b97d-521feedbde77
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 2256328d***
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 2256328d*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 2256328d-75f0-47a7-b97d-521feedbde77
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:47 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2256328d-75f0-47a7-b97d-521feedbde77 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:47 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:47 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 2256328d***
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043947-56817ba4] è€—æ™‚: 0.00s
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043947-60df3493]
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    session_id: 1b3bda08-c27d-4695-a375-c452d1e6ebb6
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e7fb9277***
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:39:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: e7fb9277-4d9a-4278-9f59-45ebb0c02c38
2025-11-02 04:39:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:47 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:39:48 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e7fb9277-4d9a-4278-9f59-45ebb0c02c38 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.366
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:48 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:48 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:48 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:48 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:48 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:48 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043948-87e1f646]
2025-11-02 04:39:48 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:39:48 - s_cbr.SCBREngine - INFO -    session_id: 1b3bda08-c27d-4695-a375-c452d1e6ebb6
2025-11-02 04:39:48 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:48 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:39:48 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 1b3bda08***
2025-11-02 04:39:48 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:39:48 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 04:39:48 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 1b3bda08*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:48 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 1b3bda08-c27d-4695-a375-c452d1e6ebb6
2025-11-02 04:39:48 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:48 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:48 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:48 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:48 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:39:48 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:48 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:39:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1b3bda08-c27d-4695-a375-c452d1e6ebb6 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.389
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:49 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:49 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:49 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:49 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:49 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:49 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043949-d7e42949]
2025-11-02 04:39:49 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:39:49 - s_cbr.SCBREngine - INFO -    session_id: 1c6d0144-0cb5-4dfa-83cd-2c70f10c57cc
2025-11-02 04:39:49 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:49 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:39:49 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c91e15fa***
2025-11-02 04:39:49 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:39:49 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 04:39:49 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: c91e15fa-4bcf-4ad9-a021-d1097f44a7bd
2025-11-02 04:39:49 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:49 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:49 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:49 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:49 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:39:49 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:49 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:39:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c91e15fa-4bcf-4ad9-a021-d1097f44a7bd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.445
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:50 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:50 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:50 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:50 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043950-c217b4dc]
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    session_id: 1c6d0144-0cb5-4dfa-83cd-2c70f10c57cc
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 1c6d0144***
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 1c6d0144*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 1c6d0144-0cb5-4dfa-83cd-2c70f10c57cc
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:50 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1c6d0144-0cb5-4dfa-83cd-2c70f10c57cc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:50 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:50 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:50 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:50 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:50 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:50 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:50 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 1c6d0144***
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043950-c217b4dc] è€—æ™‚: 0.00s
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:50 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043950-65cec528]
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    session_id: 1862a04b-2e9b-4d00-af17-5ece1d19081f
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9f949e57***
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:39:50 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 9f949e57-05f9-4409-990b-ec3c2432662a
2025-11-02 04:39:50 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:50 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9f949e57-05f9-4409-990b-ec3c2432662a æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.350
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:51 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:51 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:51 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:51 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043951-1ef6bb73]
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    session_id: 1862a04b-2e9b-4d00-af17-5ece1d19081f
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 1862a04b***
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 1862a04b*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 1862a04b-2e9b-4d00-af17-5ece1d19081f
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:51 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1862a04b-2e9b-4d00-af17-5ece1d19081f æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:51 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:51 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 1862a04b***
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043951-1ef6bb73] è€—æ™‚: 0.00s
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:51 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043951-f1b3e5ae]
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    session_id: d267093a-fdb3-4ab5-bbbe-1523e3003294
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8460f04e***
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8460f04e-8804-4637-a59f-4bf88e7d6018
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:39:51 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8460f04e-8804-4637-a59f-4bf88e7d6018 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:39:51 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:39:51 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:39:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:39:51 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8460f04e***
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-043951-f1b3e5ae] è€—æ™‚: 0.00s
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:39:51 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043951-32fe05c9]
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    session_id: d267093a-fdb3-4ab5-bbbe-1523e3003294
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d267093a***
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 04:39:51 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± d267093a*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d267093a-fdb3-4ab5-bbbe-1523e3003294
2025-11-02 04:39:51 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:51 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:39:52 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d267093a-fdb3-4ab5-bbbe-1523e3003294 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.388
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:52 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:52 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:52 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:52 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:52 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:39:52 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043952-c52a90aa]
2025-11-02 04:39:52 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:39:52 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:39:52 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:52 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:39:52 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 55607157***
2025-11-02 04:39:52 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:39:52 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 04:39:52 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 55607157-7e46-48a8-8e31-d14683b17b69
2025-11-02 04:39:52 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:52 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:52 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:52 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:52 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:39:52 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:52 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:39:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 55607157-7e46-48a8-8e31-d14683b17b69 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.350
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:53 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:53 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:53 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:53 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:39:53 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043953-d0727a8d]
2025-11-02 04:39:53 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:39:53 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:39:53 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:53 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:39:53 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 44b7a844***
2025-11-02 04:39:53 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:39:53 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 04:39:53 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 44b7a844-597c-4af1-97c1-5327dfa664d3
2025-11-02 04:39:53 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:53 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:53 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:53 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:53 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:39:53 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:53 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:39:54 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 44b7a844-597c-4af1-97c1-5327dfa664d3 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.421
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:54 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:54 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:54 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:54 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:39:54 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:39:54 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-043954-e0f5bbb1]
2025-11-02 04:39:54 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:39:54 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:39:54 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:39:54 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:39:54 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 7357ea07***
2025-11-02 04:39:54 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:39:54 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 04:39:54 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 7357ea07-d305-4c66-9243-f05c6a355344
2025-11-02 04:39:54 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:39:54 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:39:54 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:39:54 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:39:54 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:39:54 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:39:54 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:39:55 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 7357ea07-d305-4c66-9243-f05c6a355344 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.426
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:39:55 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:39:55 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:39:55 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:39:55 - s_cbr.SCBR-API - ERROR - âŒ è¨ºæ–·å¤±æ•—: 'SpiralEngine' object has no attribute '_select_best_cases'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\api.py", line 225, in diagnose
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 675, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 295, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 489, in execute_spiral_cycle
    primary, supplement = self._select_best_cases(case_hits, pulse_hits, rpcase_hits)
AttributeError: 'SpiralEngine' object has no attribute '_select_best_cases'
2025-11-02 04:40:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:40:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:40:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:40:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:40:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:40:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:40:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:40:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:40:46 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:40:46 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:40:46 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:40:46 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:40:46 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:40:46 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:40:46 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:40:46 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:40:46 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:40:46 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:40:46 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:40:46 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:40:46 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:40:46 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:40:46 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:40:47 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:40:47 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:40:47 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:40:47 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:40:47 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:40:47 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:40:47 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:40:47 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:40:47 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:40:47 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:40:47 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:40:47 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:40:47 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:40:47 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:40:47 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:40:47 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:40:47 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:40:47 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:40:47 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:40:47 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:40:47 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:40:47 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:40:47 - s_cbr.backend.main - INFO - 
2025-11-02 04:40:47 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:40:47 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:40:47 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:40:47 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:40:48 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:40:48 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:40:48 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:41:15 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:15 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044115-67054fa6]
2025-11-02 04:41:15 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:41:15 - s_cbr.SCBREngine - INFO -    session_id: de8f16b3-397d-476f-99d8-d76c133a0d24
2025-11-02 04:41:15 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:15 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:41:15 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 59db6d01***
2025-11-02 04:41:15 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:41:15 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 04:41:15 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 59db6d01-296e-401e-97ad-5ab1add74f1b
2025-11-02 04:41:15 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:15 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:15 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:15 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:15 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç–²å€¦', 'ç„¡å¥½']
2025-11-02 04:41:15 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:41:15 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç–²å€¦', 'ç„¡å¥½']
2025-11-02 04:41:16 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 59db6d01-296e-401e-97ad-5ab1add74f1b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.352
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:16 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:16 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:16 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:16 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.89}
2025-11-02 04:41:16 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:16 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 59db6d01-296e-401e-97ad-5ab1add74f1b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:16 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:16 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:16 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:16 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:16 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:16 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:16 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:16 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:16 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 59db6d01***
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044115-67054fa6] è€—æ™‚: 1.02s
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:16 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=59db6d01-296e-401e-97ad-5ab1add74f1b
2025-11-02 04:41:16 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044116-0083a9e3]
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    session_id: de8f16b3-397d-476f-99d8-d76c133a0d24
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:41:16 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: de8f16b3***
2025-11-02 04:41:16 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:41:16 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 04:41:16 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± de8f16b3*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: de8f16b3-397d-476f-99d8-d76c133a0d24
2025-11-02 04:41:16 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:16 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:41:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± de8f16b3-397d-476f-99d8-d76c133a0d24 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.429
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:17 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:17 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:17 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:17 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:17 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± de8f16b3-397d-476f-99d8-d76c133a0d24 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:41:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:17 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.297, CMS=0.402
2025-11-02 04:41:17 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:41:17 - s_cbr.ConvergenceMetrics - INFO -    Final=0.216
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:17 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:17 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:17 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± de8f16b3***
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044116-0083a9e3] è€—æ™‚: 0.89s
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.297, Final=0.216
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:17 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=de8f16b3-397d-476f-99d8-d76c133a0d24
2025-11-02 04:41:17 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044117-3dff10ce]
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    session_id: de8f16b3-397d-476f-99d8-d76c133a0d24
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:41:17 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± de8f16b3***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: de8f16b3-397d-476f-99d8-d76c133a0d24
2025-11-02 04:41:17 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:41:17 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ', 'å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:41:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± de8f16b3-397d-476f-99d8-d76c133a0d24 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.505
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.376
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.37554193645806083, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.37554193645806083, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.37554193645806083, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3004335491664487, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:18 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:18 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:18 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬2è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:18 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.94}
2025-11-02 04:41:18 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 2]
2025-11-02 04:41:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± de8f16b3-397d-476f-99d8-d76c133a0d24 æ”¶æ–‚åº¦: 0.409
2025-11-02 04:41:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:41:18 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.318, CMS=0.409
2025-11-02 04:41:18 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:41:18 - s_cbr.ConvergenceMetrics - INFO -    Final=0.224
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:18 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:18 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:18 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:18 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:41:18 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:18 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± de8f16b3***
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044117-3dff10ce] è€—æ™‚: 0.89s
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.318, Final=0.224
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:18 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=de8f16b3-397d-476f-99d8-d76c133a0d24
2025-11-02 04:41:18 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044118-a4a499f8]
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    session_id: e5b370de-f169-47b7-9483-5d8d47ffd7c0
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:41:18 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 4454cdc6***
2025-11-02 04:41:18 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:41:18 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 4454cdc6-fe64-4b6f-83f2-3ae18f4c24c5
2025-11-02 04:41:18 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:18 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4454cdc6-fe64-4b6f-83f2-3ae18f4c24c5 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.399
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:19 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:19 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:19 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:19 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:19 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4454cdc6-fe64-4b6f-83f2-3ae18f4c24c5 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 4454cdc6***
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044118-a4a499f8] è€—æ™‚: 0.91s
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:19 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=4454cdc6-fe64-4b6f-83f2-3ae18f4c24c5
2025-11-02 04:41:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044119-1d20067a]
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    session_id: e5b370de-f169-47b7-9483-5d8d47ffd7c0
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e5b370de***
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± e5b370de*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: e5b370de-f169-47b7-9483-5d8d47ffd7c0
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e5b370de-f169-47b7-9483-5d8d47ffd7c0 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e5b370de***
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044119-1d20067a] è€—æ™‚: 0.00s
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044119-df243b5b]
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    session_id: 2d4e3b11-ac54-4284-88ff-bdda16dd6510
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8d667c7e***
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:41:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8d667c7e-62f5-41b6-9b0a-88686c61e424
2025-11-02 04:41:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8d667c7e-62f5-41b6-9b0a-88686c61e424 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.424
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:20 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:20 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:20 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:20 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:20 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8d667c7e-62f5-41b6-9b0a-88686c61e424 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8d667c7e***
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044119-df243b5b] è€—æ™‚: 0.89s
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:20 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=8d667c7e-62f5-41b6-9b0a-88686c61e424
2025-11-02 04:41:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044120-8d6f2e38]
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    session_id: 2d4e3b11-ac54-4284-88ff-bdda16dd6510
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 2d4e3b11***
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 2d4e3b11*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 2d4e3b11-ac54-4284-88ff-bdda16dd6510
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:20 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2d4e3b11-ac54-4284-88ff-bdda16dd6510 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 2d4e3b11***
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044120-8d6f2e38] è€—æ™‚: 0.01s
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044120-9bbf17f6]
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    session_id: 2d4e3b11-ac54-4284-88ff-bdda16dd6510
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 2d4e3b11***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 2d4e3b11-ac54-4284-88ff-bdda16dd6510
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:20 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2d4e3b11-ac54-4284-88ff-bdda16dd6510 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:41:20 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 2d4e3b11***
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044120-9bbf17f6] è€—æ™‚: 0.01s
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044120-34fb7800]
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    session_id: e131c5ab-1b85-4e61-8240-a879fb4b263f
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b996daaa***
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: b996daaa-778b-478b-8846-a5eed180e80b
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:20 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b996daaa-778b-478b-8846-a5eed180e80b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:20 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:20 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b996daaa***
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044120-34fb7800] è€—æ™‚: 0.00s
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044120-10c20dc4]
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    session_id: e131c5ab-1b85-4e61-8240-a879fb4b263f
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e131c5ab***
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 04:41:20 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± e131c5ab*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: e131c5ab-1b85-4e61-8240-a879fb4b263f
2025-11-02 04:41:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:41:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e131c5ab-1b85-4e61-8240-a879fb4b263f æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.428
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:21 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:21 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:21 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:21 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e131c5ab-1b85-4e61-8240-a879fb4b263f æ”¶æ–‚åº¦: 0.402
2025-11-02 04:41:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:21 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.553, CMS=0.402
2025-11-02 04:41:21 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:41:21 - s_cbr.ConvergenceMetrics - INFO -    Final=0.293
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:21 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:21 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:21 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e131c5ab***
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044120-10c20dc4] è€—æ™‚: 0.89s
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.553, Final=0.293
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:21 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=e131c5ab-1b85-4e61-8240-a879fb4b263f
2025-11-02 04:41:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044121-ce9dd246]
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    session_id: 2458e501-2f8c-4e8d-b3ca-364d32d25c7e
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:41:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b68edf77***
2025-11-02 04:41:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:41:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: b68edf77-5324-42b0-b031-b438155a7109
2025-11-02 04:41:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:21 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b68edf77-5324-42b0-b031-b438155a7109 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.396
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:22 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:22 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:22 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:22 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b68edf77-5324-42b0-b031-b438155a7109 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b68edf77***
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044121-ce9dd246] è€—æ™‚: 0.88s
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:22 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b68edf77-5324-42b0-b031-b438155a7109
2025-11-02 04:41:22 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044122-bac2f96a]
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    session_id: 2458e501-2f8c-4e8d-b3ca-364d32d25c7e
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 2458e501***
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 2458e501*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 2458e501-2f8c-4e8d-b3ca-364d32d25c7e
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:22 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2458e501-2f8c-4e8d-b3ca-364d32d25c7e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 2458e501***
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044122-bac2f96a] è€—æ™‚: 0.00s
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:22 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044122-b61a0dce]
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    session_id: db1694fb-df21-462b-bf14-7f57b503b8fa
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 307daa42***
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 307daa42-44cf-4ddd-9da8-edbac070ee40
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:22 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 307daa42-44cf-4ddd-9da8-edbac070ee40 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 307daa42***
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044122-b61a0dce] è€—æ™‚: 0.00s
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:22 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044122-96b5bd29]
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    session_id: db1694fb-df21-462b-bf14-7f57b503b8fa
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: db1694fb***
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± db1694fb*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: db1694fb-df21-462b-bf14-7f57b503b8fa
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:22 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± db1694fb-df21-462b-bf14-7f57b503b8fa æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:22 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:22 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± db1694fb***
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044122-96b5bd29] è€—æ™‚: 0.00s
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:22 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044122-37ac1040]
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    session_id: 33c2c985-bdad-4dea-a713-ae105e8066d0
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c4ab6b6f***
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:41:22 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: c4ab6b6f-52de-4760-97c4-8d248557fd4b
2025-11-02 04:41:22 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:22 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:41:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c4ab6b6f-52de-4760-97c4-8d248557fd4b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.419
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:23 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:23 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:23 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:23 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c4ab6b6f-52de-4760-97c4-8d248557fd4b æ”¶æ–‚åº¦: 0.402
2025-11-02 04:41:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:23 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.554, CMS=0.402
2025-11-02 04:41:23 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:41:23 - s_cbr.ConvergenceMetrics - INFO -    Final=0.293
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:23 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:23 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c4ab6b6f***
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044122-37ac1040] è€—æ™‚: 0.91s
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.554, Final=0.293
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:23 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=c4ab6b6f-52de-4760-97c4-8d248557fd4b
2025-11-02 04:41:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044123-ff478307]
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    session_id: 33c2c985-bdad-4dea-a713-ae105e8066d0
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:41:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 33c2c985***
2025-11-02 04:41:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:41:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 04:41:23 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 33c2c985*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 33c2c985-bdad-4dea-a713-ae105e8066d0
2025-11-02 04:41:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:23 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:41:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 33c2c985-bdad-4dea-a713-ae105e8066d0 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.424
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:24 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:24 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:24 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 33c2c985-bdad-4dea-a713-ae105e8066d0 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 33c2c985***
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044123-ff478307] è€—æ™‚: 0.90s
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:24 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=33c2c985-bdad-4dea-a713-ae105e8066d0
2025-11-02 04:41:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044124-bc60ccef]
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    session_id: 092c49cb-a17e-4bde-9643-6115c1560a97
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:41:24 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: bae1c346***
2025-11-02 04:41:24 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:41:24 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: bae1c346-8190-4ba4-a6db-a3cff2f1e3dc
2025-11-02 04:41:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:24 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:41:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bae1c346-8190-4ba4-a6db-a3cff2f1e3dc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.398
2025-11-02 04:41:24 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:24 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:25 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:25 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:25 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bae1c346-8190-4ba4-a6db-a3cff2f1e3dc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:25 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:25 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± bae1c346***
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044124-bc60ccef] è€—æ™‚: 0.89s
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:25 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=bae1c346-8190-4ba4-a6db-a3cff2f1e3dc
2025-11-02 04:41:25 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044125-b94f468c]
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    session_id: 092c49cb-a17e-4bde-9643-6115c1560a97
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 092c49cb***
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 092c49cb*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 092c49cb-a17e-4bde-9643-6115c1560a97
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:25 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 092c49cb-a17e-4bde-9643-6115c1560a97 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:25 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:25 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 092c49cb***
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044125-b94f468c] è€—æ™‚: 0.00s
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:25 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044125-78c0f8bd]
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    session_id: 0eb49877-76b2-454c-af84-0581eb7bed53
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: ede35adf***
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:41:25 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: ede35adf-86b9-490c-88e1-b2732025dc19
2025-11-02 04:41:25 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:25 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:41:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ede35adf-86b9-490c-88e1-b2732025dc19 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.444
2025-11-02 04:41:25 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:25 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:26 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:26 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:26 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ede35adf-86b9-490c-88e1-b2732025dc19 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.423, CMS=0.402
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    Final=0.278
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± ede35adf***
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044125-78c0f8bd] è€—æ™‚: 0.89s
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.423, Final=0.278
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:26 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=ede35adf-86b9-490c-88e1-b2732025dc19
2025-11-02 04:41:26 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044126-22a12fd9]
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    session_id: 0eb49877-76b2-454c-af84-0581eb7bed53
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0eb49877***
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 0eb49877*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0eb49877-76b2-454c-af84-0581eb7bed53
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:26 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0eb49877-76b2-454c-af84-0581eb7bed53 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0eb49877***
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044126-22a12fd9] è€—æ™‚: 0.01s
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:26 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044126-f78629a2]
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    session_id: 33a99f62-2afc-4c9c-80cc-2a5b92336e02
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 34ac2117***
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 34ac2117-57be-4f1d-8bc7-b426caa5c288
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:41:26 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 34ac2117-57be-4f1d-8bc7-b426caa5c288 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:26 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 34ac2117***
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044126-f78629a2] è€—æ™‚: 0.01s
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:26 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044126-c8579748]
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    session_id: 33a99f62-2afc-4c9c-80cc-2a5b92336e02
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 33a99f62***
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 04:41:26 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 33a99f62*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 33a99f62-2afc-4c9c-80cc-2a5b92336e02
2025-11-02 04:41:26 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:26 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:41:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 33a99f62-2afc-4c9c-80cc-2a5b92336e02 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.408
2025-11-02 04:41:26 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:26 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:27 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:27 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:27 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 33a99f62-2afc-4c9c-80cc-2a5b92336e02 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:27 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:27 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:27 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:27 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 33a99f62***
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044126-c8579748] è€—æ™‚: 0.88s
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:27 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=33a99f62-2afc-4c9c-80cc-2a5b92336e02
2025-11-02 04:41:27 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044127-95c1fe74]
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:41:27 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 43331f82***
2025-11-02 04:41:27 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:41:27 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 43331f82-7ec1-4296-9d31-27551aa43467
2025-11-02 04:41:27 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:27 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:41:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43331f82-7ec1-4296-9d31-27551aa43467 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.358
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:27 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:28 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:28 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:28 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43331f82-7ec1-4296-9d31-27551aa43467 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.553, CMS=0.402
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.293
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 43331f82***
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044127-95c1fe74] è€—æ™‚: 0.87s
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.553, Final=0.293
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:28 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=43331f82-7ec1-4296-9d31-27551aa43467
2025-11-02 04:41:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044128-6981caed]
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:41:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 45ea39ef***
2025-11-02 04:41:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:41:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 45ea39ef-b8d1-4a5e-b5f9-ee70d84cc347
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 45ea39ef-b8d1-4a5e-b5f9-ee70d84cc347 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.375
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:28 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:28 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:28 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:28 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:28 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:28 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 45ea39ef-b8d1-4a5e-b5f9-ee70d84cc347 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:41:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 45ea39ef***
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044128-6981caed] è€—æ™‚: 0.90s
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:41:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:28 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=45ea39ef-b8d1-4a5e-b5f9-ee70d84cc347
2025-11-02 04:41:29 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044129-57445861]
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:41:29 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 1ca2a502***
2025-11-02 04:41:29 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:41:29 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 1ca2a502-0888-450f-bcf8-21c9ca3b8160
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:41:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1ca2a502-0888-450f-bcf8-21c9ca3b8160 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.438
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:41:29 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:41:29 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:41:29 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:41:29 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:41:29 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:41:29 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:41:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1ca2a502-0888-450f-bcf8-21c9ca3b8160 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:41:29 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:41:29 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.297, CMS=0.402
2025-11-02 04:41:29 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:41:29 - s_cbr.ConvergenceMetrics - INFO -    Final=0.216
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:41:29 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:41:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:29 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:41:29 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:41:29 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 1ca2a502***
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044129-57445861] è€—æ™‚: 0.88s
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.297, Final=0.216
2025-11-02 04:41:29 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:41:29 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=1ca2a502-0888-450f-bcf8-21c9ca3b8160
2025-11-02 04:42:01 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:42:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:42:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:42:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:42:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:42:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:42:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:42:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:04 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:05 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:05 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:42:05 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:05 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:42:05 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:05 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:42:05 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:05 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:42:05 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:42:05 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:05 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:42:05 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:42:05 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:42:05 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:42:06 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:42:06 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:42:06 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:42:06 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:42:06 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:42:06 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:42:06 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:42:06 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:42:06 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:42:06 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:42:06 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:42:06 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:06 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:42:06 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:42:06 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:42:06 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:42:06 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:42:06 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:06 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:42:06 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:42:06 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:42:06 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:42:06 - s_cbr.backend.main - INFO - 
2025-11-02 04:42:06 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:42:06 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:42:06 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:42:06 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:42:07 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:42:07 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:42:07 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:42:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:42:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:42:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:42:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:42:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:42:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:42:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:17 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:17 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:17 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:42:17 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:17 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:42:17 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:17 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:42:17 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:18 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:42:18 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:42:18 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:18 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:42:18 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:42:18 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:42:18 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:42:18 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:42:18 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:42:18 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:42:18 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:42:18 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:42:18 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:42:18 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:42:18 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:42:18 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:42:18 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:42:18 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:42:18 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:18 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:42:18 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:42:18 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:42:18 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:42:19 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:42:19 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:19 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:42:19 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:42:19 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:42:19 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:42:19 - s_cbr.backend.main - INFO - 
2025-11-02 04:42:19 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:42:19 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:42:19 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:42:19 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:42:20 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:42:20 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:42:20 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:42:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:42:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:42:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:42:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:42:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:42:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:42:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:40 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:41 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:42:41 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:42:41 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:41 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:42:41 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:41 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:42:41 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:41 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:42:41 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:42:41 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:42:41 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:42:41 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:42:41 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:42:41 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:42:42 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:42:42 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:42:42 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:42:42 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:42:42 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:42:42 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:42:42 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:42:42 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:42:42 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:42:42 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:42:42 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:42:42 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:42 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:42:42 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:42:42 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:42:42 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:42:42 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:42:42 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:42:42 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:42:42 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:42:42 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:42:42 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:42:42 - s_cbr.backend.main - INFO - 
2025-11-02 04:42:42 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:42:42 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:42:42 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:42:42 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:42:43 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:42:43 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:42:43 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:43:14 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:14 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044314-a3b76473]
2025-11-02 04:43:14 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:43:14 - s_cbr.SCBREngine - INFO -    session_id: 79e66aa0-edc6-4acb-9eb2-14fdc05a7455
2025-11-02 04:43:14 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:14 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:43:14 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 43a2c2f3***
2025-11-02 04:43:14 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:43:14 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 04:43:14 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 43a2c2f3-c8e3-4da9-9aab-87e3322b83dd
2025-11-02 04:43:14 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:14 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:14 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:14 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:14 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç–²å€¦', 'ç„¡å¥½']
2025-11-02 04:43:14 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:43:14 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç–²å€¦', 'ç„¡å¥½']
2025-11-02 04:43:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43a2c2f3-c8e3-4da9-9aab-87e3322b83dd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.401
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:15 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:15 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:15 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:15 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.89}
2025-11-02 04:43:15 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43a2c2f3-c8e3-4da9-9aab-87e3322b83dd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:15 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:15 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:15 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:15 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:15 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:15 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:15 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:15 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 43a2c2f3***
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044314-a3b76473] è€—æ™‚: 0.94s
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:15 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=43a2c2f3-c8e3-4da9-9aab-87e3322b83dd
2025-11-02 04:43:15 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044315-63af39b2]
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    session_id: 79e66aa0-edc6-4acb-9eb2-14fdc05a7455
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:43:15 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 79e66aa0***
2025-11-02 04:43:15 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:43:15 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 04:43:15 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 79e66aa0*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 79e66aa0-edc6-4acb-9eb2-14fdc05a7455
2025-11-02 04:43:15 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:15 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:43:16 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 79e66aa0-edc6-4acb-9eb2-14fdc05a7455 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.360
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:16 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:16 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:16 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:16 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:16 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:16 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 79e66aa0-edc6-4acb-9eb2-14fdc05a7455 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:43:16 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:16 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.297, CMS=0.402
2025-11-02 04:43:16 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:43:16 - s_cbr.ConvergenceMetrics - INFO -    Final=0.216
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:16 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:16 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:16 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:16 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:16 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 79e66aa0***
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044315-63af39b2] è€—æ™‚: 0.90s
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.297, Final=0.216
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:16 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=79e66aa0-edc6-4acb-9eb2-14fdc05a7455
2025-11-02 04:43:16 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044316-73557167]
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    session_id: 79e66aa0-edc6-4acb-9eb2-14fdc05a7455
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:43:16 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 79e66aa0***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 79e66aa0-edc6-4acb-9eb2-14fdc05a7455
2025-11-02 04:43:16 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:43:16 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ', 'å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:43:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 79e66aa0-edc6-4acb-9eb2-14fdc05a7455 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.641
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.422
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.4218496349348199, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.4218496349348199, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.4218496349348199, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.337479707947856, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:17 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:17 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:17 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬2è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:17 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.94}
2025-11-02 04:43:17 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 2]
2025-11-02 04:43:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 79e66aa0-edc6-4acb-9eb2-14fdc05a7455 æ”¶æ–‚åº¦: 0.421
2025-11-02 04:43:17 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:43:17 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.354, CMS=0.421
2025-11-02 04:43:17 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:43:17 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:17 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:17 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:17 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:43:17 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:17 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 79e66aa0***
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044316-73557167] è€—æ™‚: 0.87s
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.354, Final=0.238
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:17 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=79e66aa0-edc6-4acb-9eb2-14fdc05a7455
2025-11-02 04:43:17 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044317-6748673d]
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    session_id: 75063ea7-7cfc-4f6b-b76b-c6398f9e74d4
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:43:17 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 728ad005***
2025-11-02 04:43:17 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:43:17 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 728ad005-a223-4b5e-8176-063c419ee3cc
2025-11-02 04:43:17 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:17 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 728ad005-a223-4b5e-8176-063c419ee3cc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.449
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:18 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:18 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:18 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:18 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:18 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 728ad005-a223-4b5e-8176-063c419ee3cc æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:18 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:18 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:18 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:18 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 728ad005***
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044317-6748673d] è€—æ™‚: 0.89s
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:18 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=728ad005-a223-4b5e-8176-063c419ee3cc
2025-11-02 04:43:18 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044318-15acfc52]
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    session_id: 75063ea7-7cfc-4f6b-b76b-c6398f9e74d4
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 75063ea7***
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 75063ea7*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 75063ea7-7cfc-4f6b-b76b-c6398f9e74d4
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:18 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 75063ea7-7cfc-4f6b-b76b-c6398f9e74d4 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:18 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:18 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:18 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:18 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:18 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 75063ea7***
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044318-15acfc52] è€—æ™‚: 0.00s
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:18 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044318-2c691d49]
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    session_id: d8ca70d1-131c-4f7f-aa3a-7a63ff1f2282
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d4da8143***
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:43:18 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: d4da8143-a875-4df7-818a-92f6a0449a73
2025-11-02 04:43:18 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:18 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d4da8143-a875-4df7-818a-92f6a0449a73 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.379
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:19 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:19 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:19 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d4da8143-a875-4df7-818a-92f6a0449a73 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± d4da8143***
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044318-2c691d49] è€—æ™‚: 0.87s
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:19 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=d4da8143-a875-4df7-818a-92f6a0449a73
2025-11-02 04:43:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044319-aa21f63e]
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    session_id: d8ca70d1-131c-4f7f-aa3a-7a63ff1f2282
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d8ca70d1***
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± d8ca70d1*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d8ca70d1-131c-4f7f-aa3a-7a63ff1f2282
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d8ca70d1-131c-4f7f-aa3a-7a63ff1f2282 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± d8ca70d1***
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044319-aa21f63e] è€—æ™‚: 0.00s
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044319-3b68cfe7]
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    session_id: d8ca70d1-131c-4f7f-aa3a-7a63ff1f2282
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± d8ca70d1***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d8ca70d1-131c-4f7f-aa3a-7a63ff1f2282
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d8ca70d1-131c-4f7f-aa3a-7a63ff1f2282 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:43:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± d8ca70d1***
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044319-3b68cfe7] è€—æ™‚: 0.00s
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044319-aca116ae]
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    session_id: 68053c89-15d9-46e4-ae84-d54444747bd1
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: aa4eb4e5***
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: aa4eb4e5-04cc-480d-9a9b-b332410f6d0f
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± aa4eb4e5-04cc-480d-9a9b-b332410f6d0f æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± aa4eb4e5***
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044319-aca116ae] è€—æ™‚: 0.00s
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044319-909a8c6d]
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    session_id: 68053c89-15d9-46e4-ae84-d54444747bd1
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 68053c89***
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 04:43:19 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 68053c89*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 68053c89-15d9-46e4-ae84-d54444747bd1
2025-11-02 04:43:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:19 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:43:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 68053c89-15d9-46e4-ae84-d54444747bd1 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.439
2025-11-02 04:43:19 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:19 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:20 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:20 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:20 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 68053c89-15d9-46e4-ae84-d54444747bd1 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:43:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:20 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.553, CMS=0.402
2025-11-02 04:43:20 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:43:20 - s_cbr.ConvergenceMetrics - INFO -    Final=0.293
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:20 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:20 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:20 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:20 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 68053c89***
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044319-909a8c6d] è€—æ™‚: 0.88s
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.553, Final=0.293
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:20 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=68053c89-15d9-46e4-ae84-d54444747bd1
2025-11-02 04:43:20 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044320-e376310c]
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    session_id: 20992dc9-4c71-49fb-ad72-50e4a0d4da67
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:43:20 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9c6bd8ae***
2025-11-02 04:43:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:43:20 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 9c6bd8ae-23ed-40c1-9d05-d410bc5c68a2
2025-11-02 04:43:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:43:20 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9c6bd8ae-23ed-40c1-9d05-d410bc5c68a2 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.442
2025-11-02 04:43:20 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:20 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:21 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:21 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:21 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9c6bd8ae-23ed-40c1-9d05-d410bc5c68a2 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9c6bd8ae***
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044320-e376310c] è€—æ™‚: 0.87s
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:21 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=9c6bd8ae-23ed-40c1-9d05-d410bc5c68a2
2025-11-02 04:43:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044321-754fb69d]
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    session_id: 20992dc9-4c71-49fb-ad72-50e4a0d4da67
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 20992dc9***
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 20992dc9*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 20992dc9-4c71-49fb-ad72-50e4a0d4da67
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:21 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 20992dc9-4c71-49fb-ad72-50e4a0d4da67 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 20992dc9***
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044321-754fb69d] è€—æ™‚: 0.00s
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044321-adb382c9]
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    session_id: 714d589a-35e9-47b2-88b6-5b388288ae4b
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c6d90606***
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: c6d90606-cff8-4810-8e5c-a01553da9994
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:21 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c6d90606-cff8-4810-8e5c-a01553da9994 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c6d90606***
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044321-adb382c9] è€—æ™‚: 0.01s
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044321-f20964e6]
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    session_id: 714d589a-35e9-47b2-88b6-5b388288ae4b
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 714d589a***
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 714d589a*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 714d589a-35e9-47b2-88b6-5b388288ae4b
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:21 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 714d589a-35e9-47b2-88b6-5b388288ae4b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:21 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 714d589a***
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044321-f20964e6] è€—æ™‚: 0.01s
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044321-7a893194]
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    session_id: 7690d53d-dc4b-4794-9e7f-22f7402421ab
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 82e6b0f7***
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:43:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 82e6b0f7-953d-47e0-87da-401da005cb60
2025-11-02 04:43:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:21 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:43:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 82e6b0f7-953d-47e0-87da-401da005cb60 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.430
2025-11-02 04:43:21 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:22 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:22 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:22 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 82e6b0f7-953d-47e0-87da-401da005cb60 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:43:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:22 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.554, CMS=0.402
2025-11-02 04:43:22 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:43:22 - s_cbr.ConvergenceMetrics - INFO -    Final=0.293
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:22 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:22 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:22 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:22 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 82e6b0f7***
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044321-7a893194] è€—æ™‚: 0.86s
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.554, Final=0.293
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:22 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=82e6b0f7-953d-47e0-87da-401da005cb60
2025-11-02 04:43:22 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044322-c49d8f7a]
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    session_id: 7690d53d-dc4b-4794-9e7f-22f7402421ab
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:43:22 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 7690d53d***
2025-11-02 04:43:22 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:43:22 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 04:43:22 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 7690d53d*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 7690d53d-dc4b-4794-9e7f-22f7402421ab
2025-11-02 04:43:22 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:43:22 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 7690d53d-dc4b-4794-9e7f-22f7402421ab æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.392
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:22 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:22 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:22 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:23 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:23 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:23 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 7690d53d-dc4b-4794-9e7f-22f7402421ab æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 7690d53d***
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044322-c49d8f7a] è€—æ™‚: 0.90s
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:23 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=7690d53d-dc4b-4794-9e7f-22f7402421ab
2025-11-02 04:43:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044323-1666c0ea]
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    session_id: 1eaafc72-e80d-43ca-bf30-06e69b09366c
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5fea3f20***
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 5fea3f20-a25c-475f-a12b-d7f5c01e2881
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5fea3f20-a25c-475f-a12b-d7f5c01e2881 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.404
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:23 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:23 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:23 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:23 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5fea3f20-a25c-475f-a12b-d7f5c01e2881 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 5fea3f20***
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044323-1666c0ea] è€—æ™‚: 0.87s
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:23 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=5fea3f20-a25c-475f-a12b-d7f5c01e2881
2025-11-02 04:43:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044323-b0d0c93e]
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    session_id: 1eaafc72-e80d-43ca-bf30-06e69b09366c
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 1eaafc72***
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 1eaafc72*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 1eaafc72-e80d-43ca-bf30-06e69b09366c
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:23 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1eaafc72-e80d-43ca-bf30-06e69b09366c æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:23 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:23 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 1eaafc72***
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044323-b0d0c93e] è€—æ™‚: 0.01s
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044323-c83a0a0b]
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    session_id: e9148917-401b-4105-b9be-f9d5374eefa8
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b1dd6421***
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:43:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: b1dd6421-34e9-4e12-9581-b1f559894948
2025-11-02 04:43:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:23 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b1dd6421-34e9-4e12-9581-b1f559894948 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.401
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:24 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:24 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:24 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:24 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b1dd6421-34e9-4e12-9581-b1f559894948 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.423, CMS=0.402
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.278
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b1dd6421***
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044323-c83a0a0b] è€—æ™‚: 0.88s
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.423, Final=0.278
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:24 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b1dd6421-34e9-4e12-9581-b1f559894948
2025-11-02 04:43:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044324-a563f743]
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    session_id: e9148917-401b-4105-b9be-f9d5374eefa8
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e9148917***
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± e9148917*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: e9148917-401b-4105-b9be-f9d5374eefa8
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:24 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e9148917-401b-4105-b9be-f9d5374eefa8 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e9148917***
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044324-a563f743] è€—æ™‚: 0.01s
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044324-e94202a8]
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    session_id: d0858de7-6adc-495c-9766-29c7671f27cd
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9a82096d***
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 9a82096d-9607-4ec9-ba9d-296165979fb6
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:43:24 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9a82096d-9607-4ec9-ba9d-296165979fb6 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:43:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9a82096d***
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044324-e94202a8] è€—æ™‚: 0.01s
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044324-1287587e]
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    session_id: d0858de7-6adc-495c-9766-29c7671f27cd
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d0858de7***
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 04:43:24 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± d0858de7*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d0858de7-6adc-495c-9766-29c7671f27cd
2025-11-02 04:43:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:24 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:43:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d0858de7-6adc-495c-9766-29c7671f27cd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.374
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:25 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:25 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:25 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:25 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:25 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d0858de7-6adc-495c-9766-29c7671f27cd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:25 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:25 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:25 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:25 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:25 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:25 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:25 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± d0858de7***
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044324-1287587e] è€—æ™‚: 0.87s
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:25 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=d0858de7-6adc-495c-9766-29c7671f27cd
2025-11-02 04:43:25 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044325-59f36457]
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:43:25 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e71fed2d***
2025-11-02 04:43:25 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:43:25 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: e71fed2d-9651-440e-9e2f-85759fffc147
2025-11-02 04:43:25 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:25 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:43:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e71fed2d-9651-440e-9e2f-85759fffc147 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.438
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:26 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:26 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:26 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:26 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:26 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e71fed2d-9651-440e-9e2f-85759fffc147 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:43:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:26 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.553, CMS=0.402
2025-11-02 04:43:26 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:43:26 - s_cbr.ConvergenceMetrics - INFO -    Final=0.293
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:26 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:26 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:26 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e71fed2d***
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044325-59f36457] è€—æ™‚: 0.88s
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.553, Final=0.293
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:26 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=e71fed2d-9651-440e-9e2f-85759fffc147
2025-11-02 04:43:26 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044326-b5f4fa62]
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:43:26 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8e57dff0***
2025-11-02 04:43:26 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:43:26 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 8e57dff0-63ff-4cbb-b63e-761f6c4635b6
2025-11-02 04:43:26 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:26 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:43:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8e57dff0-63ff-4cbb-b63e-761f6c4635b6 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.380
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:27 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:27 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:27 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:27 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:27 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8e57dff0-63ff-4cbb-b63e-761f6c4635b6 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:27 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:43:27 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:43:27 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:27 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8e57dff0***
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044326-b5f4fa62] è€—æ™‚: 0.88s
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:27 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=8e57dff0-63ff-4cbb-b63e-761f6c4635b6
2025-11-02 04:43:27 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044327-4a65029f]
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:43:27 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b23c30cf***
2025-11-02 04:43:27 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:43:27 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: b23c30cf-43cf-420f-aeec-a07e28d379b0
2025-11-02 04:43:27 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:43:27 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:43:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b23c30cf-43cf-420f-aeec-a07e28d379b0 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.377
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.35, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:43:28 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-11-02 04:43:28 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:43:28 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-11-02 04:43:28 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:43:28 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:43:28 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:43:28 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:43:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b23c30cf-43cf-420f-aeec-a07e28d379b0 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:43:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:43:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.297, CMS=0.402
2025-11-02 04:43:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:43:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.216
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:43:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:43:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:43:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:43:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b23c30cf***
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044327-4a65029f] è€—æ™‚: 0.92s
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.297, Final=0.216
2025-11-02 04:43:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:43:28 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b23c30cf-43cf-420f-aeec-a07e28d379b0
2025-11-02 04:46:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:46:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:46:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:46:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:46:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:46:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:46:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:46:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:46:12 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:46:12 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:46:12 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:46:12 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:46:12 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:46:12 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:46:12 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:46:12 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:46:12 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:46:12 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:46:12 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:46:12 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:46:12 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:46:12 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:46:12 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:46:13 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:46:13 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:46:13 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:46:13 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:46:13 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:46:13 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:46:13 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:46:13 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:46:13 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:46:13 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:46:13 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:46:13 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:46:13 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆï¼ˆå«å®‰å…¨é˜²è­·ï¼‰
2025-11-02 04:46:13 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:46:13 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:46:13 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:46:13 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:46:13 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:46:13 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:46:13 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:46:13 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:46:13 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:46:13 - s_cbr.backend.main - INFO - 
2025-11-02 04:46:13 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:46:13 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:46:13 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:46:14 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:46:14 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:46:14 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:46:14 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:46:30 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:30 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044630-8ba0e14f]
2025-11-02 04:46:30 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:46:30 - s_cbr.SCBREngine - INFO -    session_id: b4aaa323-5065-4092-b0ff-cea134ad454b
2025-11-02 04:46:30 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:30 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 04:46:30 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 1f1a8c71***
2025-11-02 04:46:30 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 04:46:30 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 04:46:30 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 1f1a8c71-d3b7-4a11-8c72-c72f3da2607e
2025-11-02 04:46:30 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:30 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:30 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:30 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:30 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:46:30 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:46:30 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¥½', 'ç–²å€¦']
2025-11-02 04:46:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1f1a8c71-d3b7-4a11-8c72-c72f3da2607e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.446
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.356
2025-11-02 04:46:31 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35552836169836183, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:31 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:31 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35552836169836183, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:31 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:31 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.2844226893586895, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:31 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:31 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:31 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:31 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.89}
2025-11-02 04:46:31 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 1f1a8c71-d3b7-4a11-8c72-c72f3da2607e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:31 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:31 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.339, CMS=0.400
2025-11-02 04:46:31 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:31 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:31 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:31 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:31 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:31 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 1f1a8c71***
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044630-8ba0e14f] è€—æ™‚: 0.94s
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.339, Final=0.240
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:31 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=1f1a8c71-d3b7-4a11-8c72-c72f3da2607e
2025-11-02 04:46:31 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044631-106ecd5a]
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    session_id: b4aaa323-5065-4092-b0ff-cea134ad454b
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:46:31 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b4aaa323***
2025-11-02 04:46:31 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 04:46:31 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 04:46:31 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b4aaa323*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b4aaa323-5065-4092-b0ff-cea134ad454b
2025-11-02 04:46:31 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:31 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:46:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b4aaa323-5065-4092-b0ff-cea134ad454b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.396
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:32 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:32 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:32 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b4aaa323-5065-4092-b0ff-cea134ad454b æ”¶æ–‚åº¦: 0.402
2025-11-02 04:46:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:32 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.275, CMS=0.402
2025-11-02 04:46:32 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:46:32 - s_cbr.ConvergenceMetrics - INFO -    Final=0.209
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:32 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:32 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:32 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:32 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:32 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b4aaa323***
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044631-106ecd5a] è€—æ™‚: 0.84s
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.275, Final=0.209
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:32 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b4aaa323-5065-4092-b0ff-cea134ad454b
2025-11-02 04:46:32 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044632-7b0bb935]
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    session_id: b4aaa323-5065-4092-b0ff-cea134ad454b
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 04:46:32 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± b4aaa323***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b4aaa323-5065-4092-b0ff-cea134ad454b
2025-11-02 04:46:32 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 2 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ…Œ']
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 2 å€‹
2025-11-02 04:46:32 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ…Œ', 'å¿˜è¨˜äº‹æƒ…']
2025-11-02 04:46:32 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b4aaa323-5065-4092-b0ff-cea134ad454b æ”¶æ–‚åº¦: 0.250
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.655
2025-11-02 04:46:32 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.427
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.4265488646348427, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:32 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.4265488646348427, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3412390917078742, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:33 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬2è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:33 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.94}
2025-11-02 04:46:33 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 2]
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b4aaa323-5065-4092-b0ff-cea134ad454b æ”¶æ–‚åº¦: 0.422
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.329, CMS=0.422
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.231
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:33 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:46:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± b4aaa323***
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044632-7b0bb935] è€—æ™‚: 0.82s
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.329, Final=0.231
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:33 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b4aaa323-5065-4092-b0ff-cea134ad454b
2025-11-02 04:46:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044633-d43c0349]
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    session_id: e051e387-6d37-4b50-a969-1478befd0c9e
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 7336da28***
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 7336da28-2f49-45ff-96ae-84b99fd0b45b
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡å¤ªå¥½']
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡å¤ªå¥½']
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 7336da28-2f49-45ff-96ae-84b99fd0b45b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.389
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:33 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:33 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:33 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:33 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:33 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 7336da28-2f49-45ff-96ae-84b99fd0b45b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 7336da28***
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044633-d43c0349] è€—æ™‚: 0.81s
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:33 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=7336da28-2f49-45ff-96ae-84b99fd0b45b
2025-11-02 04:46:33 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044633-d597b778]
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    session_id: e051e387-6d37-4b50-a969-1478befd0c9e
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e051e387***
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± e051e387*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: e051e387-6d37-4b50-a969-1478befd0c9e
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 0 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:33 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:33 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e051e387-6d37-4b50-a969-1478befd0c9e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:33 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:33 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:33 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:33 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e051e387***
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044633-d597b778] è€—æ™‚: 0.00s
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:33 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044634-78a3f5bd]
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    session_id: 239fdd81-2f85-4b42-a768-1e606dbc05e4
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 40854db1***
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 40854db1-cf7e-4a48-a0ee-8484207fe571
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['æ€•å†·']
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['æ€•å†·']
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 40854db1-cf7e-4a48-a0ee-8484207fe571 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.429
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:34 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:34 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:34 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:34 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:34 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:34 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:34 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:34 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:34 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:34 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 40854db1-cf7e-4a48-a0ee-8484207fe571 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 40854db1***
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044634-78a3f5bd] è€—æ™‚: 0.82s
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:34 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=40854db1-cf7e-4a48-a0ee-8484207fe571
2025-11-02 04:46:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044634-e848387f]
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    session_id: 239fdd81-2f85-4b42-a768-1e606dbc05e4
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 239fdd81***
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 239fdd81*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 239fdd81-2f85-4b42-a768-1e606dbc05e4
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:34 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 239fdd81-2f85-4b42-a768-1e606dbc05e4 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 239fdd81***
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044634-e848387f] è€—æ™‚: 0.00s
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044634-9de59448]
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    session_id: 239fdd81-2f85-4b42-a768-1e606dbc05e4
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 239fdd81***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 239fdd81-2f85-4b42-a768-1e606dbc05e4
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:34 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 239fdd81-2f85-4b42-a768-1e606dbc05e4 æ”¶æ–‚åº¦: 0.250
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 04:46:34 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 239fdd81***
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044634-9de59448] è€—æ™‚: 0.01s
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044634-d08fbd75]
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    session_id: 9c33823e-02a5-47d9-89bb-853b3196ef18
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: ba9930e3***
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: ba9930e3-f9ba-4fea-a326-c48af225d1b7
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:34 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ba9930e3-f9ba-4fea-a326-c48af225d1b7 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:34 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:34 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± ba9930e3***
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044634-d08fbd75] è€—æ™‚: 0.01s
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:34 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044634-0ebd7523]
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    session_id: 9c33823e-02a5-47d9-89bb-853b3196ef18
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9c33823e***
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 04:46:34 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 9c33823e*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 9c33823e-02a5-47d9-89bb-853b3196ef18
2025-11-02 04:46:34 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:34 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:46:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9c33823e-02a5-47d9-89bb-853b3196ef18 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.391
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:35 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:35 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:35 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:35 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:35 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:35 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:35 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:35 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:35 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:35 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9c33823e-02a5-47d9-89bb-853b3196ef18 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:46:35 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:35 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.640, CMS=0.402
2025-11-02 04:46:35 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:46:35 - s_cbr.ConvergenceMetrics - INFO -    Final=0.319
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:35 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:35 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:35 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:35 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9c33823e***
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044634-0ebd7523] è€—æ™‚: 0.82s
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.640, Final=0.319
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:35 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=9c33823e-02a5-47d9-89bb-853b3196ef18
2025-11-02 04:46:35 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044635-a7dcef97]
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    session_id: bd22d365-5670-4ade-9def-4b96810a5434
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:46:35 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 783bdd10***
2025-11-02 04:46:35 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 04:46:35 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 783bdd10-d316-4fa5-834d-abcd4a64e4cd
2025-11-02 04:46:35 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æ¸…çˆ½']
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:35 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æ¸…çˆ½']
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 783bdd10-d316-4fa5-834d-abcd4a64e4cd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.420
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:36 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:36 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:36 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:36 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:36 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:36 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:36 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:36 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:36 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:36 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 783bdd10-d316-4fa5-834d-abcd4a64e4cd æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 783bdd10***
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044635-a7dcef97] è€—æ™‚: 0.82s
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:36 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=783bdd10-d316-4fa5-834d-abcd4a64e4cd
2025-11-02 04:46:36 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044636-9056dde4]
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    session_id: bd22d365-5670-4ade-9def-4b96810a5434
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: bd22d365***
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± bd22d365*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: bd22d365-5670-4ade-9def-4b96810a5434
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:36 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bd22d365-5670-4ade-9def-4b96810a5434 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± bd22d365***
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044636-9056dde4] è€—æ™‚: 0.01s
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:36 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044636-a1386a16]
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    session_id: c3b65dd6-064d-4caf-9046-a8aa0864b55b
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5f5aa62f***
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 5f5aa62f-264e-40b6-a6bf-32c57e48dd53
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:36 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5f5aa62f-264e-40b6-a6bf-32c57e48dd53 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 5f5aa62f***
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044636-a1386a16] è€—æ™‚: 0.00s
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:36 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044636-546998c6]
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    session_id: c3b65dd6-064d-4caf-9046-a8aa0864b55b
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c3b65dd6***
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± c3b65dd6*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c3b65dd6-064d-4caf-9046-a8aa0864b55b
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:36 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c3b65dd6-064d-4caf-9046-a8aa0864b55b æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:36 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:36 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c3b65dd6***
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044636-546998c6] è€—æ™‚: 0.00s
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:36 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044636-aeb7c7c2]
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    session_id: b3c5f8ba-1d50-46af-8510-2d8228f3427e
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8405323a***
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 04:46:36 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 8405323a-a006-4667-a794-c1d8c32e4452
2025-11-02 04:46:36 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­ç—›']
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:36 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­ç—›']
2025-11-02 04:46:37 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8405323a-a006-4667-a794-c1d8c32e4452 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.375
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:37 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:37 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:37 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:37 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:37 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:37 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:37 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:37 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:37 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:37 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:37 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8405323a-a006-4667-a794-c1d8c32e4452 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:46:37 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:37 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.641, CMS=0.402
2025-11-02 04:46:37 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:46:37 - s_cbr.ConvergenceMetrics - INFO -    Final=0.319
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:37 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:37 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:37 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:37 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:37 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8405323a***
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044636-aeb7c7c2] è€—æ™‚: 0.80s
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.641, Final=0.319
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:37 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=8405323a-a006-4667-a794-c1d8c32e4452
2025-11-02 04:46:37 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044637-32055d5b]
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    session_id: b3c5f8ba-1d50-46af-8510-2d8228f3427e
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 04:46:37 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b3c5f8ba***
2025-11-02 04:46:37 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 04:46:37 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 04:46:37 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b3c5f8ba*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b3c5f8ba-1d50-46af-8510-2d8228f3427e
2025-11-02 04:46:37 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡è‘—']
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:37 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡è‘—']
2025-11-02 04:46:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b3c5f8ba-1d50-46af-8510-2d8228f3427e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.442
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:38 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:38 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:38 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b3c5f8ba-1d50-46af-8510-2d8228f3427e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:38 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 04:46:38 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:38 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:38 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:38 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:38 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:38 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b3c5f8ba***
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044637-32055d5b] è€—æ™‚: 0.82s
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:38 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b3c5f8ba-1d50-46af-8510-2d8228f3427e
2025-11-02 04:46:38 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044638-d0baf4c4]
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    session_id: 0283c009-4fe0-4aa0-a431-1b479d3a69e5
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 04:46:38 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 07cfdacb***
2025-11-02 04:46:38 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 04:46:38 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 07cfdacb-536d-409f-bb80-ccb8c83b7ca9
2025-11-02 04:46:38 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡éæ°£']
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:38 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡éæ°£']
2025-11-02 04:46:38 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 07cfdacb-536d-409f-bb80-ccb8c83b7ca9 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.377
2025-11-02 04:46:38 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:38 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:39 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:39 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:39 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 07cfdacb-536d-409f-bb80-ccb8c83b7ca9 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 07cfdacb***
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044638-d0baf4c4] è€—æ™‚: 0.80s
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:39 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=07cfdacb-536d-409f-bb80-ccb8c83b7ca9
2025-11-02 04:46:39 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044639-94fec105]
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    session_id: 0283c009-4fe0-4aa0-a431-1b479d3a69e5
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0283c009***
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 0283c009*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0283c009-4fe0-4aa0-a431-1b479d3a69e5
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:39 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0283c009-4fe0-4aa0-a431-1b479d3a69e5 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0283c009***
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044639-94fec105] è€—æ™‚: 0.00s
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:39 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044639-bdacb22e]
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    session_id: 36ef5172-0d65-4503-b3f5-fd918fed40b6
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 86fe716f***
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 86fe716f-77a2-4233-a596-2ca8bafdcd69
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 2 â†’ 1 (æ·¨åŒ–äº† 1 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡æƒ³å–æ°´']
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 86fe716f-77a2-4233-a596-2ca8bafdcd69 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.355
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:39 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:39 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:39 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:39 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:39 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 86fe716f-77a2-4233-a596-2ca8bafdcd69 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.455, CMS=0.402
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    Final=0.287
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 86fe716f***
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044639-bdacb22e] è€—æ™‚: 0.82s
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.455, Final=0.287
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:39 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=86fe716f-77a2-4233-a596-2ca8bafdcd69
2025-11-02 04:46:39 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044639-fd84a767]
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    session_id: 36ef5172-0d65-4503-b3f5-fd918fed40b6
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 36ef5172***
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 36ef5172*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 36ef5172-0d65-4503-b3f5-fd918fed40b6
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:39 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:39 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 36ef5172-0d65-4503-b3f5-fd918fed40b6 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:39 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:39 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:39 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 36ef5172***
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044639-fd84a767] è€—æ™‚: 0.00s
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:39 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:40 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044640-cd920c25]
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    session_id: f37293cb-dbaa-4d2d-b069-26551689ba06
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 51ee742a***
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 51ee742a-6eac-4895-8a9a-b9968672d25e
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 0 â†’ 0 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 0 å€‹
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: []
2025-11-02 04:46:40 - s_cbr.SpiralEngine - WARNING - âš ï¸ æœªæå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 51ee742a-6eac-4895-8a9a-b9968672d25e æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:40 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:40 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:40 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:40 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 51ee742a***
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044640-cd920c25] è€—æ™‚: 0.00s
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:40 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044640-188c5531]
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    session_id: f37293cb-dbaa-4d2d-b069-26551689ba06
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f37293cb***
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± f37293cb*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: f37293cb-dbaa-4d2d-b069-26551689ba06
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['ç„¡ä¹¾æ·¨']
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f37293cb-dbaa-4d2d-b069-26551689ba06 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.388
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:40 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:40 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:40 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:40 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:40 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:40 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:40 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:40 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:40 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:40 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f37293cb-dbaa-4d2d-b069-26551689ba06 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:40 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:40 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:40 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:40 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:40 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± f37293cb***
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044640-188c5531] è€—æ™‚: 0.82s
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:40 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=f37293cb-dbaa-4d2d-b069-26551689ba06
2025-11-02 04:46:40 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044640-3b855498]
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: cd9d8aef***
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 04:46:40 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: cd9d8aef-6488-40af-8874-9cc9f2c3d6f8
2025-11-02 04:46:40 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ']
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:40 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ']
2025-11-02 04:46:41 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cd9d8aef-6488-40af-8874-9cc9f2c3d6f8 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.370
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:41 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:41 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:41 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:41 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:41 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:41 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:41 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:41 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:41 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:41 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:41 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cd9d8aef-6488-40af-8874-9cc9f2c3d6f8 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:46:41 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:41 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.640, CMS=0.402
2025-11-02 04:46:41 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:46:41 - s_cbr.ConvergenceMetrics - INFO -    Final=0.319
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:41 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:41 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:41 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:41 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:41 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± cd9d8aef***
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044640-3b855498] è€—æ™‚: 0.83s
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.640, Final=0.319
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:41 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=cd9d8aef-6488-40af-8874-9cc9f2c3d6f8
2025-11-02 04:46:41 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044641-00ab4552]
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 04:46:41 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 4fb60008***
2025-11-02 04:46:41 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 04:46:41 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 4fb60008-0053-482f-9e98-a2aec302e0e4
2025-11-02 04:46:41 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['é ­æšˆ']
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:41 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['é ­æšˆ']
2025-11-02 04:46:42 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4fb60008-0053-482f-9e98-a2aec302e0e4 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.394
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:42 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:42 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:42 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:42 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:42 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:42 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:42 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:42 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:42 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4fb60008-0053-482f-9e98-a2aec302e0e4 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:42 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:42 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 04:46:42 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 04:46:42 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:42 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:42 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:42 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:42 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:42 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 4fb60008***
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044641-00ab4552] è€—æ™‚: 0.83s
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:42 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=4fb60008-0053-482f-9e98-a2aec302e0e4
2025-11-02 04:46:42 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-044642-76a41c9a]
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 04:46:42 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: bf125fec***
2025-11-02 04:46:42 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 04:46:42 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: bf125fec-702a-4adb-a5c6-283c63857d41
2025-11-02 04:46:42 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO - âœ… ç—‡ç‹€é©—è­‰: 1 â†’ 1 (æ·¨åŒ–äº† 0 å€‹ç„¡æ•ˆç—‡ç‹€)
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¿ƒæ‚¸']
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: 1 å€‹
2025-11-02 04:46:42 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¿ƒæ‚¸']
2025-11-02 04:46:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bf125fec-702a-4adb-a5c6-283c63857d41 æ”¶æ–‚åº¦: 0.400
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.385
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 04:46:43 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 04:46:43 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 04:46:43 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:43 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 04:46:43 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 04:46:43 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 04:46:43 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 04:46:43 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 0, RPCase: 0
2025-11-02 04:46:43 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 04:46:43 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 04:46:43 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 04:46:43 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 04:46:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bf125fec-702a-4adb-a5c6-283c63857d41 æ”¶æ–‚åº¦: 0.402
2025-11-02 04:46:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 04:46:43 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.275, CMS=0.402
2025-11-02 04:46:43 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 04:46:43 - s_cbr.ConvergenceMetrics - INFO -    Final=0.209
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 04:46:43 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 04:46:43 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:43 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 04:46:43 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 04:46:43 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± bf125fec***
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-044642-76a41c9a] è€—æ™‚: 0.81s
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.275, Final=0.209
2025-11-02 04:46:43 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 04:46:43 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=bf125fec-702a-4adb-a5c6-283c63857d41
2025-11-02 04:59:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 04:59:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 04:59:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 04:59:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 04:59:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 04:59:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 04:59:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 04:59:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:59:40 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:59:40 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 04:59:40 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 04:59:40 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:59:40 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 04:59:40 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:59:40 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:59:40 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:59:41 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 04:59:41 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 04:59:41 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 04:59:41 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 04:59:41 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 04:59:41 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 04:59:41 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 04:59:41 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 04:59:41 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 04:59:41 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 04:59:41 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 04:59:41 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 04:59:41 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 04:59:41 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 04:59:41 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 04:59:41 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 04:59:41 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 04:59:41 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 04:59:41 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:59:41 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 04:59:41 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 04:59:41 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 04:59:41 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 04:59:41 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 04:59:41 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 04:59:41 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 04:59:41 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 04:59:41 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:59:41 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 04:59:41 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 04:59:41 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 04:59:41 - s_cbr.backend.main - INFO - 
2025-11-02 04:59:41 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 04:59:41 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 04:59:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 04:59:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 04:59:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 04:59:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 04:59:42 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 04:59:42 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 04:59:42 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 04:59:42 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 04:59:43 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 04:59:43 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 05:00:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 05:00:06 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 05:00:06 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 05:00:06 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 05:00:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 05:00:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 05:00:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 05:00:06 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 05:00:08 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 05:00:09 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 05:00:09 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 05:00:09 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:00:09 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 05:00:09 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:00:09 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 05:00:09 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 05:00:09 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 05:00:09 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 05:00:09 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 05:00:10 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 05:00:10 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 05:00:10 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 05:00:10 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 05:00:10 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 05:00:10 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 05:00:10 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 05:00:10 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-11-02 05:00:10 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-11-02 05:00:10 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-11-02 05:00:10 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-11-02 05:00:10 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-11-02 05:00:10 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-11-02 05:00:10 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-11-02 05:00:10 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-11-02 05:00:10 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:00:10 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 05:00:10 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 05:00:10 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 05:00:10 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 05:00:10 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 05:00:10 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:00:10 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 05:00:10 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 05:00:10 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 05:00:10 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 05:00:10 - s_cbr.backend.main - INFO - 
2025-11-02 05:00:10 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 05:00:10 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 05:00:10 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 05:00:10 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 05:00:11 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 05:00:11 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 05:00:11 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-5b8a4fa2]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: 6cdfbdda-fe86-47a9-a8be-cb7d408774e6
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 3326d983***
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 3326d983-c056-45cb-b0f4-801544e1a6ab
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 3326d983-c056-45cb-b0f4-801544e1a6ab æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 3326d983***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-5b8a4fa2] è€—æ™‚: 0.01s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-6179c19e]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: 6cdfbdda-fe86-47a9-a8be-cb7d408774e6
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 6cdfbdda***
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 6cdfbdda*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 6cdfbdda-fe86-47a9-a8be-cb7d408774e6
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 6cdfbdda-fe86-47a9-a8be-cb7d408774e6 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 6cdfbdda***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-6179c19e] è€—æ™‚: 0.00s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-ccacc68d]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: 6cdfbdda-fe86-47a9-a8be-cb7d408774e6
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 6cdfbdda***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 6cdfbdda-fe86-47a9-a8be-cb7d408774e6
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 6cdfbdda-fe86-47a9-a8be-cb7d408774e6 æ”¶æ–‚åº¦: 0.250
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 6cdfbdda***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-ccacc68d] è€—æ™‚: 0.00s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-e46cd712]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: f2071ec9-36cc-4099-a444-4ccd36abc812
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 00f2f448***
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 00f2f448-c211-42ac-89ad-3b372cf5d864
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 00f2f448-c211-42ac-89ad-3b372cf5d864 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 00f2f448***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-e46cd712] è€—æ™‚: 0.00s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-df8a1782]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: f2071ec9-36cc-4099-a444-4ccd36abc812
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f2071ec9***
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± f2071ec9*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: f2071ec9-36cc-4099-a444-4ccd36abc812
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f2071ec9-36cc-4099-a444-4ccd36abc812 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± f2071ec9***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-df8a1782] è€—æ™‚: 0.00s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-ca11ebd2]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: dc84f79d-aec3-4ee8-ada8-212ed3642a03
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 2ae0b178***
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 2ae0b178-66f9-48c4-9e80-551d4a35f1f8
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 2ae0b178-66f9-48c4-9e80-551d4a35f1f8 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 2ae0b178***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-ca11ebd2] è€—æ™‚: 0.00s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-6208e121]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: dc84f79d-aec3-4ee8-ada8-212ed3642a03
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: dc84f79d***
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± dc84f79d*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: dc84f79d-aec3-4ee8-ada8-212ed3642a03
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± dc84f79d-aec3-4ee8-ada8-212ed3642a03 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± dc84f79d***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-6208e121] è€—æ™‚: 0.00s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-de0289b3]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: dc84f79d-aec3-4ee8-ada8-212ed3642a03
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± dc84f79d***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: dc84f79d-aec3-4ee8-ada8-212ed3642a03
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 05:00:19 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± dc84f79d-aec3-4ee8-ada8-212ed3642a03 æ”¶æ–‚åº¦: 0.250
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.250
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:19 - s_cbr.ConvergenceMetrics - INFO -    Final=0.260
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:19 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 05:00:19 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± dc84f79d***
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-de0289b3] è€—æ™‚: 0.01s
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.260
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:19 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050019-b5a741e0]
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    session_id: fd80d808-5fb9-46f8-a2e0-f327549a900b
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 367b9244***
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 05:00:19 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 367b9244-9b75-45fb-bc98-2a546aad2c5e
2025-11-02 05:00:19 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:19 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 367b9244-9b75-45fb-bc98-2a546aad2c5e æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.418
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:00:21 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:00:21 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:00:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:00:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:00:21 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:00:21 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:00:21 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:00:21 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:00:21 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:00:21 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:00:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 367b9244-9b75-45fb-bc98-2a546aad2c5e æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:21 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:21 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.620, CMS=0.400
2025-11-02 05:00:21 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:00:21 - s_cbr.ConvergenceMetrics - INFO -    Final=0.324
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:21 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:21 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:21 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:21 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 367b9244***
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050019-b5a741e0] è€—æ™‚: 1.71s
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.620, Final=0.324
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:21 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=367b9244-9b75-45fb-bc98-2a546aad2c5e
2025-11-02 05:00:21 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050021-9f4e497e]
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    session_id: fd80d808-5fb9-46f8-a2e0-f327549a900b
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 05:00:21 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: fd80d808***
2025-11-02 05:00:21 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 05:00:21 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 05:00:21 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± fd80d808*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: fd80d808-5fb9-46f8-a2e0-f327549a900b
2025-11-02 05:00:21 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:21 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± fd80d808-5fb9-46f8-a2e0-f327549a900b æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.380
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:00:23 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:00:23 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:00:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:00:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:00:23 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:00:23 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:00:23 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:00:23 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.89}
2025-11-02 05:00:23 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:00:23 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± fd80d808-5fb9-46f8-a2e0-f327549a900b æ”¶æ–‚åº¦: 0.402
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.611, CMS=0.402
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    Final=0.310
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± fd80d808***
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050021-9f4e497e] è€—æ™‚: 1.54s
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.611, Final=0.310
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:23 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=fd80d808-5fb9-46f8-a2e0-f327549a900b
2025-11-02 05:00:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050023-dffe6e81]
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    session_id: cbfcdcac-d8af-47e2-9b80-c1b3ea043230
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 43bc8a2c***
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 43bc8a2c-9be4-4729-b011-1638166bb463
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:23 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43bc8a2c-9be4-4729-b011-1638166bb463 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 43bc8a2c***
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050023-dffe6e81] è€—æ™‚: 0.01s
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050023-2ef4525c]
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    session_id: cbfcdcac-d8af-47e2-9b80-c1b3ea043230
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: cbfcdcac***
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± cbfcdcac*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: cbfcdcac-d8af-47e2-9b80-c1b3ea043230
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:23 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cbfcdcac-d8af-47e2-9b80-c1b3ea043230 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:23 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:23 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:23 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± cbfcdcac***
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050023-2ef4525c] è€—æ™‚: 0.01s
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:23 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050023-fdfb628f]
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    session_id: 92ea2b80-9d27-471b-9db6-4a8391bac016
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: f7c6ed7d***
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 05:00:23 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: f7c6ed7d-7560-4e8a-a2cb-8d5227a90d01
2025-11-02 05:00:23 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:23 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f7c6ed7d-7560-4e8a-a2cb-8d5227a90d01 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.420
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:00:24 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:00:24 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:00:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:00:24 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:24 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:00:24 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:00:24 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:00:24 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:00:24 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:00:24 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:00:24 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± f7c6ed7d-7560-4e8a-a2cb-8d5227a90d01 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.305, CMS=0.400
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.080
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.223
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± f7c6ed7d***
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050023-fdfb628f] è€—æ™‚: 1.57s
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.305, Final=0.223
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:24 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=f7c6ed7d-7560-4e8a-a2cb-8d5227a90d01
2025-11-02 05:00:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050024-466153d3]
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    session_id: 92ea2b80-9d27-471b-9db6-4a8391bac016
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 92ea2b80***
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 92ea2b80*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 92ea2b80-9d27-471b-9db6-4a8391bac016
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:24 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 92ea2b80-9d27-471b-9db6-4a8391bac016 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:24 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:24 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:24 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:24 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 92ea2b80***
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050024-466153d3] è€—æ™‚: 0.00s
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:24 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050024-43998f1e]
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    session_id: 8f7f15b0-ff63-4247-bef5-94fbf97f5da5
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c212b201***
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 05:00:24 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: c212b201-2b68-4942-8a6b-d669ffdbac65
2025-11-02 05:00:24 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:24 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c212b201-2b68-4942-8a6b-d669ffdbac65 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.435
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:00:26 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:00:26 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:00:26 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:26 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:00:26 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:26 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:00:26 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:00:26 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:00:26 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:00:26 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:00:26 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:00:26 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c212b201-2b68-4942-8a6b-d669ffdbac65 æ”¶æ–‚åº¦: 0.402
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.655, CMS=0.402
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO -    Final=0.323
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:26 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:26 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c212b201***
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050024-43998f1e] è€—æ™‚: 1.49s
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.655, Final=0.323
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:26 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=c212b201-2b68-4942-8a6b-d669ffdbac65
2025-11-02 05:00:26 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050026-003896a6]
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    session_id: 8f7f15b0-ff63-4247-bef5-94fbf97f5da5
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 8f7f15b0***
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 8f7f15b0*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 8f7f15b0-ff63-4247-bef5-94fbf97f5da5
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:26 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:26 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 8f7f15b0-ff63-4247-bef5-94fbf97f5da5 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:26 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:26 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:26 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:26 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 8f7f15b0***
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050026-003896a6] è€—æ™‚: 0.00s
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:26 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050026-50597934]
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    session_id: ec6da221-c557-44b1-9948-30edaedd48df
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 29dd97c7***
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 05:00:26 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 29dd97c7-1275-4f0b-b64d-c58eb749ba54
2025-11-02 05:00:26 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:26 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 29dd97c7-1275-4f0b-b64d-c58eb749ba54 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.410
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:00:27 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:00:27 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:00:27 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:27 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:00:27 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:27 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:00:27 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:00:27 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:00:27 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:00:27 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:00:27 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:00:27 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 29dd97c7-1275-4f0b-b64d-c58eb749ba54 æ”¶æ–‚åº¦: 0.404
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.545, CMS=0.404
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    Final=0.303
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 29dd97c7***
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050026-50597934] è€—æ™‚: 1.52s
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.545, Final=0.303
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:27 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=29dd97c7-1275-4f0b-b64d-c58eb749ba54
2025-11-02 05:00:27 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050027-fa11d3dc]
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    session_id: ec6da221-c557-44b1-9948-30edaedd48df
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: ec6da221***
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± ec6da221*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: ec6da221-c557-44b1-9948-30edaedd48df
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:27 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:27 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ec6da221-c557-44b1-9948-30edaedd48df æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± ec6da221***
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050027-fa11d3dc] è€—æ™‚: 0.00s
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:27 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050027-fc85d181]
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    session_id: ab2e79ab-2033-48ed-a62a-e9afa6a4d4e0
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 541fbeb4***
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 541fbeb4-9749-4b5d-b106-a5f3526fa288
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:27 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:27 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 541fbeb4-9749-4b5d-b106-a5f3526fa288 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 541fbeb4***
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050027-fc85d181] è€—æ™‚: 0.00s
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:27 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050027-349a7b6e]
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    session_id: ab2e79ab-2033-48ed-a62a-e9afa6a4d4e0
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: ab2e79ab***
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± ab2e79ab*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: ab2e79ab-2033-48ed-a62a-e9afa6a4d4e0
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:27 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:27 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± ab2e79ab-2033-48ed-a62a-e9afa6a4d4e0 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± ab2e79ab***
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050027-349a7b6e] è€—æ™‚: 0.01s
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:27 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050027-053cd85b]
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    session_id: a9ae434d-d2ce-4e3b-819f-2a4750bed8a1
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: bb0a2ae8***
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: bb0a2ae8-4d17-4386-ad69-963d4712c19a
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:27 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:27 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± bb0a2ae8-4d17-4386-ad69-963d4712c19a æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:27 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:27 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:27 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± bb0a2ae8***
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050027-053cd85b] è€—æ™‚: 0.01s
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:27 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050028-cee9616e]
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    session_id: a9ae434d-d2ce-4e3b-819f-2a4750bed8a1
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: a9ae434d***
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± a9ae434d*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: a9ae434d-d2ce-4e3b-819f-2a4750bed8a1
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:28 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± a9ae434d-d2ce-4e3b-819f-2a4750bed8a1 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± a9ae434d***
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050028-cee9616e] è€—æ™‚: 0.00s
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050028-733183e5]
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 44aaf8ea***
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 44aaf8ea-9f27-48c3-ab01-433cbf65c2a5
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 44aaf8ea-9f27-48c3-ab01-433cbf65c2a5 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.382
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:00:28 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:00:28 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:00:28 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:28 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:00:28 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:00:28 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:00:28 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:00:28 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:00:28 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:00:28 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:00:28 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:00:28 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 44aaf8ea-9f27-48c3-ab01-433cbf65c2a5 æ”¶æ–‚åº¦: 0.402
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.646, CMS=0.402
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.321
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 44aaf8ea***
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050028-733183e5] è€—æ™‚: 0.82s
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.646, Final=0.321
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:28 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=44aaf8ea-9f27-48c3-ab01-433cbf65c2a5
2025-11-02 05:00:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050028-fcd4e758]
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0bcf8cb9***
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 0bcf8cb9-9805-4573-aa0e-8ac0756fab8d
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:28 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0bcf8cb9-9805-4573-aa0e-8ac0756fab8d æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0bcf8cb9***
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050028-fcd4e758] è€—æ™‚: 0.00s
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:00:28 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050028-4a636217]
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e01d8614***
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: e01d8614-63c3-4320-be5b-c20f34f96204
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:00:28 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:00:28 - s_cbr.SpiralEngine - WARNING - âš ï¸ Jiebaåˆ†æå™¨æœªèƒ½æå–åˆ°æœ‰æ•ˆç—‡ç‹€
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e01d8614-63c3-4320-be5b-c20f34f96204 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.000, CMS=0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.500, CAS=0.400
2025-11-02 05:00:28 - s_cbr.ConvergenceMetrics - INFO -    Final=0.305
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:00:28 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:00:28 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e01d8614***
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050028-4a636217] è€—æ™‚: 0.01s
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.000, Final=0.305
2025-11-02 05:00:28 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 05:03:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 05:03:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 05:03:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 05:03:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 05:03:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 05:03:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 05:03:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 05:03:29 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 05:03:29 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 05:03:29 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 05:03:29 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:03:29 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 05:03:29 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:03:29 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 05:03:29 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 05:03:30 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 05:03:30 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 05:03:30 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 05:03:30 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 05:03:30 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 05:03:30 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 05:03:30 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 05:03:30 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 05:03:30 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 05:03:30 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 05:03:30 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 05:03:30 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 05:03:30 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:03:30 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 05:03:30 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 05:03:30 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 05:03:30 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 05:03:30 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 05:03:30 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 05:03:30 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 05:03:30 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 05:03:31 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 05:03:31 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 05:03:31 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 05:03:31 - s_cbr.backend.main - INFO - 
2025-11-02 05:03:31 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 05:03:31 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 05:03:31 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 05:03:31 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 05:03:32 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 05:03:32 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 05:03:32 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 05:03:43 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:43 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050343-18d5f534]
2025-11-02 05:03:43 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 05:03:43 - s_cbr.SCBREngine - INFO -    session_id: c221689d-68d0-4931-88ed-d60f7c93a892
2025-11-02 05:03:43 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:43 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 05:03:43 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e2e66d04***
2025-11-02 05:03:43 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 05:03:43 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 1
2025-11-02 05:03:43 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: e2e66d04-9b08-41fb-8e24-62c894dc3af8
2025-11-02 05:03:43 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:43 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:44 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e2e66d04-9b08-41fb-8e24-62c894dc3af8 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.435
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:44 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:44 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:44 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:44 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:44 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:44 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:44 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:44 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:44 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e2e66d04-9b08-41fb-8e24-62c894dc3af8 æ”¶æ–‚åº¦: 0.404
2025-11-02 05:03:44 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:44 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.305, CMS=0.404
2025-11-02 05:03:44 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.080
2025-11-02 05:03:44 - s_cbr.ConvergenceMetrics - INFO -    Final=0.225
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:44 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:44 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:44 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:44 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:44 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e2e66d04***
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050343-18d5f534] è€—æ™‚: 0.87s
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.305, Final=0.225
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:44 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=e2e66d04-9b08-41fb-8e24-62c894dc3af8
2025-11-02 05:03:44 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050344-9dbe746d]
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    session_id: c221689d-68d0-4931-88ed-d60f7c93a892
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 05:03:44 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: c221689d***
2025-11-02 05:03:44 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è£œå……ä¸€ä¸‹ï¼Œæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 05:03:44 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 2
2025-11-02 05:03:44 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± c221689d*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c221689d-68d0-4931-88ed-d60f7c93a892
2025-11-02 05:03:44 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:44 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c221689d-68d0-4931-88ed-d60f7c93a892 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.440
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:45 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:45 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:45 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:45 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:45 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:45 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:45 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:45 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:45 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:45 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:45 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:45 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c221689d-68d0-4931-88ed-d60f7c93a892 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:45 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:45 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.365, CMS=0.400
2025-11-02 05:03:45 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.160
2025-11-02 05:03:45 - s_cbr.ConvergenceMetrics - INFO -    Final=0.254
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:45 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:45 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:45 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:45 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:45 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± c221689d***
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050344-9dbe746d] è€—æ™‚: 0.86s
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.365, Final=0.254
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:45 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=c221689d-68d0-4931-88ed-d60f7c93a892
2025-11-02 05:03:45 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050345-70b5c465]
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    session_id: c221689d-68d0-4931-88ed-d60f7c93a892
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 18 â†’ 18 å­—ç¬¦
2025-11-02 05:03:45 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± c221689d***: æ„Ÿè¦ºå¿ƒè·³æœ‰æ™‚å€™æœƒçªç„¶åŠ å¿«ï¼Œæœ‰é»å¿ƒæ…Œã€‚...
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: c221689d-68d0-4931-88ed-d60f7c93a892
2025-11-02 05:03:45 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 05:03:45 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 05:03:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c221689d-68d0-4931-88ed-d60f7c93a892 æ”¶æ–‚åº¦: 0.250
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.524
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.357
2025-11-02 05:03:46 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.3567924030002907, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:46 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:46 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3567924030002907, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:46 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:46 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.2854339224002326, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:46 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:46 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:46 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:46 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬2è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:46 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.9}
2025-11-02 05:03:46 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:46 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 2]
2025-11-02 05:03:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± c221689d-68d0-4931-88ed-d60f7c93a892 æ”¶æ–‚åº¦: 0.701
2025-11-02 05:03:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 05:03:46 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.370, CMS=0.701
2025-11-02 05:03:46 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.160
2025-11-02 05:03:46 - s_cbr.ConvergenceMetrics - INFO -    Final=0.345
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:46 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:46 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:46 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 05:03:46 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:46 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± c221689d***
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050345-70b5c465] è€—æ™‚: 0.85s
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.370, Final=0.345
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:46 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=c221689d-68d0-4931-88ed-d60f7c93a892
2025-11-02 05:03:46 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050346-ccc36f03]
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    session_id: 0aa6e9fb-59eb-4fca-99b8-506706ef0eb0
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 05:03:46 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: aa6f3f06***
2025-11-02 05:03:46 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¸¸å¸¸è¦ºå¾—èƒ¸å£æ‚¶æ‚¶çš„ï¼Œå¾ˆå–œæ­¡å˜†æ°£ï¼Œå¿ƒæƒ…ä¸å¤ªå¥½ã€‚...
2025-11-02 05:03:46 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 3
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: aa6f3f06-ec6e-4246-af84-281b4f209151
2025-11-02 05:03:46 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:46 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± aa6f3f06-ec6e-4246-af84-281b4f209151 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.438
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:47 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:47 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:47 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:47 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:47 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± aa6f3f06-ec6e-4246-af84-281b4f209151 æ”¶æ–‚åº¦: 0.404
2025-11-02 05:03:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:47 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.305, CMS=0.404
2025-11-02 05:03:47 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.080
2025-11-02 05:03:47 - s_cbr.ConvergenceMetrics - INFO -    Final=0.225
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:47 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:47 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:47 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:47 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± aa6f3f06***
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050346-ccc36f03] è€—æ™‚: 0.81s
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.305, Final=0.225
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:47 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=aa6f3f06-ec6e-4246-af84-281b4f209151
2025-11-02 05:03:47 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050347-ae5f6918]
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    session_id: 0aa6e9fb-59eb-4fca-99b8-506706ef0eb0
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 05:03:47 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 0aa6e9fb***
2025-11-02 05:03:47 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è‚šå­ç¸½æ˜¯è„¹è„¹çš„ï¼Œä¸å¤ªæƒ³åƒé£¯ï¼Œå¤§ä¾¿æœ‰é»ç¨€ã€‚...
2025-11-02 05:03:47 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 4
2025-11-02 05:03:47 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 0aa6e9fb*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 0aa6e9fb-59eb-4fca-99b8-506706ef0eb0
2025-11-02 05:03:47 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:47 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:47 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0aa6e9fb-59eb-4fca-99b8-506706ef0eb0 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.407
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:47 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:47 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:48 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:48 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:48 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:48 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:48 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:48 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0aa6e9fb-59eb-4fca-99b8-506706ef0eb0 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:48 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:48 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:48 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:48 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0aa6e9fb***
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050347-ae5f6918] è€—æ™‚: 0.82s
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:48 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=0aa6e9fb-59eb-4fca-99b8-506706ef0eb0
2025-11-02 05:03:48 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050348-c371857b]
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    session_id: d0efa4ff-7633-4758-bead-9757f143e4ad
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 310ccd3e***
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘éå¸¸æ€•å†·ï¼Œç‰¹åˆ¥æ˜¯æ‰‹è…³ï¼Œä¸€å¹´å››å­£éƒ½æ˜¯å†°çš„ã€‚...
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 5
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 310ccd3e-bd87-41ac-96bc-54cd19c98093
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:48 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 310ccd3e-bd87-41ac-96bc-54cd19c98093 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.373
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:48 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:48 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:48 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:48 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:48 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:48 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:48 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:48 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:48 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:48 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:48 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 310ccd3e-bd87-41ac-96bc-54cd19c98093 æ”¶æ–‚åº¦: 0.402
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.425, CMS=0.402
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 05:03:48 - s_cbr.ConvergenceMetrics - INFO -    Final=0.278
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:48 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:48 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:48 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:48 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 310ccd3e***
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050348-c371857b] è€—æ™‚: 0.80s
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.425, Final=0.278
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:48 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=310ccd3e-bd87-41ac-96bc-54cd19c98093
2025-11-02 05:03:48 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050348-374a6050]
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    session_id: d0efa4ff-7633-4758-bead-9757f143e4ad
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: d0efa4ff***
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è…°å¾ˆé…¸ï¼Œæ™šä¸Šè¦èµ·ä¾†ä¸Šå¥½å¹¾æ¬¡å»æ‰€ï¼Œç²¾ç¥å¾ˆå·®ã€‚...
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 6
2025-11-02 05:03:48 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± d0efa4ff*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d0efa4ff-7633-4758-bead-9757f143e4ad
2025-11-02 05:03:48 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:48 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d0efa4ff-7633-4758-bead-9757f143e4ad æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.426
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:49 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:49 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:49 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:49 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:49 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:49 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:49 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:49 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:49 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:49 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:49 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:49 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d0efa4ff-7633-4758-bead-9757f143e4ad æ”¶æ–‚åº¦: 0.407
2025-11-02 05:03:49 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:49 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.455, CMS=0.407
2025-11-02 05:03:49 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 05:03:49 - s_cbr.ConvergenceMetrics - INFO -    Final=0.289
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:49 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:49 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:49 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:49 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± d0efa4ff***
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050348-374a6050] è€—æ™‚: 0.82s
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.455, Final=0.289
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:49 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=d0efa4ff-7633-4758-bead-9757f143e4ad
2025-11-02 05:03:49 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050349-3b36ee34]
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    session_id: d0efa4ff-7633-4758-bead-9757f143e4ad
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 11 â†’ 11 å­—ç¬¦
2025-11-02 05:03:49 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± d0efa4ff***: æœ€è¿‘æ„Ÿè¦ºæ€§æ…¾ä¹Ÿæ¸›é€€äº†ã€‚...
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: d0efa4ff-7633-4758-bead-9757f143e4ad
2025-11-02 05:03:49 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 05:03:49 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 05:03:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d0efa4ff-7633-4758-bead-9757f143e4ad æ”¶æ–‚åº¦: 0.250
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.630
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.393
2025-11-02 05:03:50 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.39279599634431656, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:50 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:50 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.39279599634431656, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:50 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:50 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.31423679707545327, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:50 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:50 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:50 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:50 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬2è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:50 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.9}
2025-11-02 05:03:50 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:50 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 2]
2025-11-02 05:03:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± d0efa4ff-7633-4758-bead-9757f143e4ad æ”¶æ–‚åº¦: 0.713
2025-11-02 05:03:50 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 05:03:50 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.485, CMS=0.713
2025-11-02 05:03:50 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 05:03:50 - s_cbr.ConvergenceMetrics - INFO -    Final=0.389
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:50 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:50 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:50 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:50 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 05:03:50 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:50 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± d0efa4ff***
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050349-3b36ee34] è€—æ™‚: 0.82s
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.485, Final=0.389
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:50 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=d0efa4ff-7633-4758-bead-9757f143e4ad
2025-11-02 05:03:50 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050350-20f7dcf9]
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    session_id: b9919877-4518-49d3-b214-8e4ed0944be2
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 05:03:50 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 4c2b6711***
2025-11-02 05:03:50 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ‰‹å¿ƒè…³å¿ƒç™¼ç†±ï¼Œå°¤å…¶ä¸‹åˆå’Œæ™šä¸Šï¼Œå£å¾ˆä¹¾ã€‚...
2025-11-02 05:03:50 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 7
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 4c2b6711-d833-4f2c-a2a3-5b1301fff368
2025-11-02 05:03:50 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:50 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4c2b6711-d833-4f2c-a2a3-5b1301fff368 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.392
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:51 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:51 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:51 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:51 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:51 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:51 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:51 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:51 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:51 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:03:51 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:51 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4c2b6711-d833-4f2c-a2a3-5b1301fff368 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:51 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.620, CMS=0.400
2025-11-02 05:03:51 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:03:51 - s_cbr.ConvergenceMetrics - INFO -    Final=0.324
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:51 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:51 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:51 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:51 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 4c2b6711***
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050350-20f7dcf9] è€—æ™‚: 0.81s
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.620, Final=0.324
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:51 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=4c2b6711-d833-4f2c-a2a3-5b1301fff368
2025-11-02 05:03:51 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050351-6a9e8c40]
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    session_id: b9919877-4518-49d3-b214-8e4ed0944be2
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 05:03:51 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b9919877***
2025-11-02 05:03:51 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ™šä¸Šç¡è¦ºæœƒæµæ±—ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±çœ ã€‚...
2025-11-02 05:03:51 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 8
2025-11-02 05:03:51 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b9919877*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b9919877-4518-49d3-b214-8e4ed0944be2
2025-11-02 05:03:51 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:51 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:51 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b9919877-4518-49d3-b214-8e4ed0944be2 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=2, è¦†è“‹ç‡=0.00
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.400, è¼ªæ¬¡Î±=0.407
2025-11-02 05:03:51 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:51 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:52 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:52 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:52 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.89}
2025-11-02 05:03:52 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:52 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:52 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b9919877-4518-49d3-b214-8e4ed0944be2 æ”¶æ–‚åº¦: 0.402
2025-11-02 05:03:52 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:52 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.611, CMS=0.402
2025-11-02 05:03:52 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 05:03:52 - s_cbr.ConvergenceMetrics - INFO -    Final=0.310
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:52 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:52 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:52 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:52 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:52 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b9919877***
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050351-6a9e8c40] è€—æ™‚: 0.81s
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.611, Final=0.310
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:52 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b9919877-4518-49d3-b214-8e4ed0944be2
2025-11-02 05:03:52 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050352-22486206]
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    session_id: 9c84235e-06b0-4f5f-9498-a82d527bfab2
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:03:52 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: e49a05b0***
2025-11-02 05:03:52 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æ„Ÿè¦ºèº«é«”å¾ˆé‡ï¼Œä¸æ¸…çˆ½ï¼Œå–‰åš¨è£¡å¥½åƒä¸€ç›´æœ‰ç—°ã€‚...
2025-11-02 05:03:52 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 9
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: e49a05b0-b576-4c68-933e-ad8742f96226
2025-11-02 05:03:52 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:52 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:52 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e49a05b0-b576-4c68-933e-ad8742f96226 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.363
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:52 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:52 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:53 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:53 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:53 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:53 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:53 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± e49a05b0-b576-4c68-933e-ad8742f96226 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:53 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:53 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± e49a05b0***
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050352-22486206] è€—æ™‚: 0.83s
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:53 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=e49a05b0-b576-4c68-933e-ad8742f96226
2025-11-02 05:03:53 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050353-ac9632c2]
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    session_id: 9c84235e-06b0-4f5f-9498-a82d527bfab2
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 19 â†’ 19 å­—ç¬¦
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9c84235e***
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èƒ¸å£æ‚¶ï¼Œé ­ä¹Ÿæ˜æ˜æ²‰æ²‰çš„ï¼ŒèˆŒè‹”æ„Ÿè¦ºå¾ˆåšã€‚...
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 10
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 9c84235e*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 9c84235e-06b0-4f5f-9498-a82d527bfab2
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:53 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9c84235e-06b0-4f5f-9498-a82d527bfab2 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.423
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:53 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:53 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:53 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:53 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:53 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:53 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:53 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:53 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:53 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:53 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9c84235e-06b0-4f5f-9498-a82d527bfab2 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.365, CMS=0.400
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.160
2025-11-02 05:03:53 - s_cbr.ConvergenceMetrics - INFO -    Final=0.254
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:53 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:53 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:53 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9c84235e***
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050353-ac9632c2] è€—æ™‚: 0.85s
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.365, Final=0.254
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:53 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=9c84235e-06b0-4f5f-9498-a82d527bfab2
2025-11-02 05:03:53 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050353-99e20714]
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    session_id: 80c907ad-aca6-49ea-8c2d-237a70f1b2ee
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 21 â†’ 21 å­—ç¬¦
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9d9db907***
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: èº«é«”æŸäº›åœ°æ–¹æœ‰å›ºå®šçš„åˆºç—›æ„Ÿï¼Œæ™šä¸Šç‰¹åˆ¥æ˜é¡¯ã€‚...
2025-11-02 05:03:53 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 11
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 9d9db907-4190-455f-a79b-6cfa03c4c530
2025-11-02 05:03:53 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:53 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:54 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9d9db907-4190-455f-a79b-6cfa03c4c530 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.444
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:54 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:54 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:54 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:54 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:54 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:54 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:54 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:54 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:54 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:54 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:03:54 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:54 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:54 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9d9db907-4190-455f-a79b-6cfa03c4c530 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:54 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:54 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.305, CMS=0.400
2025-11-02 05:03:54 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.080
2025-11-02 05:03:54 - s_cbr.ConvergenceMetrics - INFO -    Final=0.223
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:54 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:54 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:54 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:54 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:54 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9d9db907***
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050353-99e20714] è€—æ™‚: 0.83s
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.305, Final=0.223
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:54 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=9d9db907-4190-455f-a79b-6cfa03c4c530
2025-11-02 05:03:54 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050354-8477bd58]
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    session_id: 80c907ad-aca6-49ea-8c2d-237a70f1b2ee
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 25 â†’ 25 å­—ç¬¦
2025-11-02 05:03:54 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 80c907ad***
2025-11-02 05:03:54 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æˆ‘å¥³æœ‹å‹èªªæˆ‘è‡‰è‰²å¾ˆæš—ï¼Œæ²’ä»€éº¼å…‰æ¾¤ï¼Œå˜´å”‡é¡è‰²ä¹Ÿåç´«ã€‚...
2025-11-02 05:03:54 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 12
2025-11-02 05:03:54 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 80c907ad*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 80c907ad-aca6-49ea-8c2d-237a70f1b2ee
2025-11-02 05:03:54 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:54 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:55 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 80c907ad-aca6-49ea-8c2d-237a70f1b2ee æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.357
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:55 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:55 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:55 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:55 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:55 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:55 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:55 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:55 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:55 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:55 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:55 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:55 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:55 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 80c907ad-aca6-49ea-8c2d-237a70f1b2ee æ”¶æ–‚åº¦: 0.404
2025-11-02 05:03:55 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:55 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.365, CMS=0.404
2025-11-02 05:03:55 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.160
2025-11-02 05:03:55 - s_cbr.ConvergenceMetrics - INFO -    Final=0.255
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:55 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:55 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:55 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:55 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:55 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 80c907ad***
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050354-8477bd58] è€—æ™‚: 0.82s
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.365, Final=0.255
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:55 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=80c907ad-aca6-49ea-8c2d-237a70f1b2ee
2025-11-02 05:03:55 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050355-ffb242e4]
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    session_id: 011cebd2-be15-4d4a-94d0-579ff2e0ebf1
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 05:03:55 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 02324323***
2025-11-02 05:03:55 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­ç—›æ¬²è£‚ï¼Œçœ¼ç›ç´…ç´…çš„ï¼Œå˜´å·´è£¡å¾ˆè‹¦ã€‚...
2025-11-02 05:03:55 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 13
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 02324323-c412-4ddb-854b-5b323e5bbc1c
2025-11-02 05:03:55 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:55 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:56 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 02324323-c412-4ddb-854b-5b323e5bbc1c æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.448
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:56 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:56 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:56 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:56 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:56 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:56 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:56 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:56 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:56 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:56 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:03:56 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:56 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:56 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 02324323-c412-4ddb-854b-5b323e5bbc1c æ”¶æ–‚åº¦: 0.402
2025-11-02 05:03:56 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:56 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.655, CMS=0.402
2025-11-02 05:03:56 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 05:03:56 - s_cbr.ConvergenceMetrics - INFO -    Final=0.323
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:56 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:56 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:56 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:56 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:56 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 02324323***
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050355-ffb242e4] è€—æ™‚: 0.81s
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.655, Final=0.323
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:56 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=02324323-c412-4ddb-854b-5b323e5bbc1c
2025-11-02 05:03:56 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050356-77331802]
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    session_id: 011cebd2-be15-4d4a-94d0-579ff2e0ebf1
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 05:03:56 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 011cebd2***
2025-11-02 05:03:56 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: è„¾æ°£å¾ˆæš´èºï¼Œéå¸¸å®¹æ˜“ç”Ÿæ°£ï¼Œæ™šä¸Šéƒ½ç¡ä¸è‘—ã€‚...
2025-11-02 05:03:56 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 14
2025-11-02 05:03:56 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 011cebd2*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 011cebd2-be15-4d4a-94d0-579ff2e0ebf1
2025-11-02 05:03:56 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:56 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:57 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 011cebd2-be15-4d4a-94d0-579ff2e0ebf1 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.379
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:57 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:57 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:57 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:57 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:57 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:57 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 011cebd2-be15-4d4a-94d0-579ff2e0ebf1 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:57 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:57 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 05:03:57 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:03:57 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:57 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:57 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:57 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:57 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:57 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 011cebd2***
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050356-77331802] è€—æ™‚: 0.81s
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:57 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=011cebd2-be15-4d4a-94d0-579ff2e0ebf1
2025-11-02 05:03:57 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050357-7c6b51c3]
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    session_id: 9437c543-a9f9-457c-81ec-b0eea6309755
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 26 â†’ 26 å­—ç¬¦
2025-11-02 05:03:57 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: cfb3ae6a***
2025-11-02 05:03:57 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: ç¨å¾®å‹•ä¸€ä¸‹å°±å–˜ä¸éæ°£ï¼Œå¾ˆå®¹æ˜“å‡ºæ±—ï¼Œè¬›è©±ä¹Ÿæ²’ä»€éº¼åŠ›æ°£ã€‚...
2025-11-02 05:03:57 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 15
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: cfb3ae6a-b47f-4b4c-84f8-f12da84fd12c
2025-11-02 05:03:57 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:57 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:57 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cfb3ae6a-b47f-4b4c-84f8-f12da84fd12c æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.380
2025-11-02 05:03:57 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:57 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:58 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:58 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:58 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:03:58 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:58 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cfb3ae6a-b47f-4b4c-84f8-f12da84fd12c æ”¶æ–‚åº¦: 0.404
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.545, CMS=0.404
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO -    Final=0.303
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:58 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:58 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:58 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:58 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± cfb3ae6a***
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050357-7c6b51c3] è€—æ™‚: 0.84s
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.545, Final=0.303
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:58 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=cfb3ae6a-b47f-4b4c-84f8-f12da84fd12c
2025-11-02 05:03:58 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050358-007068b0]
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    session_id: 9437c543-a9f9-457c-81ec-b0eea6309755
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 16 â†’ 16 å­—ç¬¦
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 9437c543***
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤©æ°£ä¸€è®Šå°±å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›å¾ˆå·®ã€‚...
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 16
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± 9437c543*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 9437c543-a9f9-457c-81ec-b0eea6309755
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:58 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9437c543-a9f9-457c-81ec-b0eea6309755 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.448
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:58 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:58 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:58 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:58 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:58 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'æ„Ÿå†’', 'p_score': 0.75}
2025-11-02 05:03:58 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:58 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 9437c543-a9f9-457c-81ec-b0eea6309755 æ”¶æ–‚åº¦: 0.404
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.643, CMS=0.404
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.160
2025-11-02 05:03:58 - s_cbr.ConvergenceMetrics - INFO -    Final=0.338
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:58 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:58 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:58 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:58 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 9437c543***
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050358-007068b0] è€—æ™‚: 0.82s
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.643, Final=0.338
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:58 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=9437c543-a9f9-457c-81ec-b0eea6309755
2025-11-02 05:03:58 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050358-6ab12558]
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    session_id: b075b48f-8778-4ad5-ad88-dc930add008e
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 22 â†’ 22 å­—ç¬¦
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 38495670***
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é›–ç„¶ä¸é¤“ä½†å˜´å·´å¾ˆä¹¾ï¼Œä¸æƒ³å–æ°´ï¼Œæœ‰æ™‚å€™æœƒä¹¾å˜”ã€‚...
2025-11-02 05:03:58 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 17
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 38495670-1d63-480a-9074-eaa857156920
2025-11-02 05:03:58 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:58 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:03:59 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 38495670-1d63-480a-9074-eaa857156920 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.422
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:03:59 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:03:59 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:03:59 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:59 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:03:59 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:03:59 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:03:59 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:03:59 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:03:59 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:03:59 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:03:59 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:03:59 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:03:59 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 38495670-1d63-480a-9074-eaa857156920 æ”¶æ–‚åº¦: 0.402
2025-11-02 05:03:59 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:03:59 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.455, CMS=0.402
2025-11-02 05:03:59 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 05:03:59 - s_cbr.ConvergenceMetrics - INFO -    Final=0.287
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:03:59 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:03:59 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:59 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:03:59 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:03:59 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 38495670***
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050358-6ab12558] è€—æ™‚: 0.82s
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.455, Final=0.287
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:03:59 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=38495670-1d63-480a-9074-eaa857156920
2025-11-02 05:03:59 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚... (IP: 127.0.0.1)
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050359-e09cae65]
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    session_id: b075b48f-8778-4ad5-ad88-dc930add008e
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 05:03:59 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: b075b48f***
2025-11-02 05:03:59 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤§ä¾¿å¾ˆä¹¾ç‡¥ï¼ŒèˆŒé ­ç´…ç´…çš„æ²’ä»€éº¼èˆŒè‹”ã€‚...
2025-11-02 05:03:59 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 18
2025-11-02 05:03:59 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± b075b48f*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: b075b48f-8778-4ad5-ad88-dc930add008e
2025-11-02 05:03:59 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:03:59 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:04:00 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b075b48f-8778-4ad5-ad88-dc930add008e æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.358
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:04:00 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:04:00 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:04:00 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:00 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:04:00 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:00 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:04:00 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:04:00 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:04:00 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:04:00 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:04:00 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:04:00 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:04:00 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b075b48f-8778-4ad5-ad88-dc930add008e æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:00 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:04:00 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 05:04:00 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:04:00 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:04:00 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:04:00 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:00 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:00 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:04:00 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b075b48f***
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050359-e09cae65] è€—æ™‚: 0.81s
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:04:00 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=b075b48f-8778-4ad5-ad88-dc930add008e
2025-11-02 05:04:00 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚... (IP: 127.0.0.1)
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050400-46aecf39]
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    session_id: cd757d10-a7f8-4c3e-a332-2cb374caa5d2
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 13 â†’ 13 å­—ç¬¦
2025-11-02 05:04:00 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 17575980***
2025-11-02 05:04:00 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°ä¾¿é»ƒã€å‘³é“é‡ï¼Œé™°å›Šæ½®æ¿•ã€‚...
2025-11-02 05:04:00 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 19
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO - ğŸ”„ é‡ç½®æœƒè©±: 17575980-bc7e-465d-bd17-2e8b54576da6
2025-11-02 05:04:00 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:04:00 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:04:01 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 17575980-bc7e-465d-bd17-2e8b54576da6 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.372
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:04:01 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:04:01 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:04:01 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:01 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:04:01 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:01 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:04:01 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:04:01 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:04:01 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:04:01 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:04:01 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:04:01 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:04:01 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 17575980-bc7e-465d-bd17-2e8b54576da6 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:01 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:04:01 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.400
2025-11-02 05:04:01 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:04:01 - s_cbr.ConvergenceMetrics - INFO -    Final=0.238
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:04:01 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:04:01 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:01 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:01 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:04:01 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 17575980***
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050400-46aecf39] è€—æ™‚: 0.81s
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.238
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:04:01 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=17575980-bc7e-465d-bd17-2e8b54576da6
2025-11-02 05:04:01 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚... (IP: 127.0.0.1)
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050401-55575027]
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    session_id: cd757d10-a7f8-4c3e-a332-2cb374caa5d2
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 17 â†’ 17 å­—ç¬¦
2025-11-02 05:04:01 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: cd757d10***
2025-11-02 05:04:01 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å°è…¿è¦ºå¾—è…«è„¹ï¼Œå¤§ä¾¿é»é»çš„æ²–ä¸ä¹¾æ·¨ã€‚...
2025-11-02 05:04:01 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 20
2025-11-02 05:04:01 - s_cbr.DialogManager - INFO - âš ï¸ æœƒè©± cd757d10*** ä¸å­˜åœ¨ï¼Œå·²å‰µå»ºæ–°æœƒè©±
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: cd757d10-a7f8-4c3e-a332-2cb374caa5d2
2025-11-02 05:04:01 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:04:01 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:04:02 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cd757d10-a7f8-4c3e-a332-2cb374caa5d2 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.433
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:04:02 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:04:02 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:04:02 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:02 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:04:02 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:02 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:04:02 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:04:02 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:04:02 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:04:02 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:04:02 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:04:02 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± cd757d10-a7f8-4c3e-a332-2cb374caa5d2 æ”¶æ–‚åº¦: 0.402
2025-11-02 05:04:02 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:04:02 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.305, CMS=0.402
2025-11-02 05:04:02 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.080
2025-11-02 05:04:02 - s_cbr.ConvergenceMetrics - INFO -    Final=0.224
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:04:02 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:04:02 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:02 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:02 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:04:02 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± cd757d10***
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050401-55575027] è€—æ™‚: 0.83s
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.305, Final=0.224
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:04:02 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=cd757d10-a7f8-4c3e-a332-2cb374caa5d2
2025-11-02 05:04:02 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¤±çœ ' OR 1=1; --... (IP: 127.0.0.1)
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050402-d6defbd0]
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 14 â†’ 14 å­—ç¬¦
2025-11-02 05:04:02 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 43809387***
2025-11-02 05:04:02 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¤±çœ ' OR 1=1; --...
2025-11-02 05:04:02 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 21
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 43809387-8b75-413e-8034-01cfa791405a
2025-11-02 05:04:02 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:04:02 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:04:02 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43809387-8b75-413e-8034-01cfa791405a æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=1, è¦†è“‹ç‡=0.00
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.369
2025-11-02 05:04:02 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:04:02 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:04:03 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:04:03 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:04:03 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.87}
2025-11-02 05:04:03 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:04:03 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 43809387-8b75-413e-8034-01cfa791405a æ”¶æ–‚åº¦: 0.402
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.646, CMS=0.402
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO -    Final=0.321
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:04:03 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:04:03 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:03 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:03 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:04:03 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 43809387***
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050402-d6defbd0] è€—æ™‚: 0.83s
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.646, Final=0.321
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:04:03 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=43809387-8b75-413e-8034-01cfa791405a
2025-11-02 05:04:03 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: é ­æšˆ; ls -la... (IP: 127.0.0.1)
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050403-018cba12]
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 10 â†’ 10 å­—ç¬¦
2025-11-02 05:04:03 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 273a00cb***
2025-11-02 05:04:03 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: é ­æšˆ; ls -la...
2025-11-02 05:04:03 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 22
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 273a00cb-66de-4eb6-889b-ebaa5d812bf4
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:04:03 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 273a00cb-66de-4eb6-889b-ebaa5d812bf4 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.394
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:03 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:04:03 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:04:03 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:04:03 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:04:03 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:04:03 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:04:03 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 273a00cb-66de-4eb6-889b-ebaa5d812bf4 æ”¶æ–‚åº¦: 0.404
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.335, CMS=0.404
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.120
2025-11-02 05:04:03 - s_cbr.ConvergenceMetrics - INFO -    Final=0.240
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:04:03 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:04:03 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:03 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:03 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:04:03 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 273a00cb***
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050403-018cba12] è€—æ™‚: 0.80s
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.335, Final=0.240
2025-11-02 05:04:03 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:04:03 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=273a00cb-66de-4eb6-889b-ebaa5d812bf4
2025-11-02 05:04:04 - s_cbr.SCBR-API - INFO - ğŸ“¥ æ”¶åˆ°è¨ºæ–·è«‹æ±‚: å¿ƒæ‚¸ ... (IP: 127.0.0.1)
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050404-d4c2f769]
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    å•é¡Œ: å¿ƒæ‚¸ ...
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 3 â†’ 2 å­—ç¬¦
2025-11-02 05:04:04 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 5e0db54c***
2025-11-02 05:04:04 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: å¿ƒæ‚¸...
2025-11-02 05:04:04 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 23
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 5e0db54c-f661-4eae-b51f-754fe8384efe
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:04:04 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:04:04 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5e0db54c-f661-4eae-b51f-754fe8384efe æ”¶æ–‚åº¦: 0.400
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.426
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:04:04 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:04:04 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:04:04 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:04 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:04:04 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:04:04 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:04:04 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:04:04 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:04:04 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:04:04 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:04:04 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:04:04 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:04:04 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 5e0db54c-f661-4eae-b51f-754fe8384efe æ”¶æ–‚åº¦: 0.402
2025-11-02 05:04:04 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:04:04 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.275, CMS=0.402
2025-11-02 05:04:04 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.040
2025-11-02 05:04:04 - s_cbr.ConvergenceMetrics - INFO -    Final=0.209
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:04:04 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:04:04 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:04 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:04:04 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:04:04 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 5e0db54c***
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050404-d4c2f769] è€—æ™‚: 0.82s
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.275, Final=0.209
2025-11-02 05:04:04 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:04:04 - s_cbr.SCBR-API - INFO - âœ… è¨ºæ–·å®Œæˆ: session_id=5e0db54c-f661-4eae-b51f-754fe8384efe
2025-11-02 05:05:08 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚
2025-11-02 05:05:08 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050508-72839d11]
2025-11-02 05:05:08 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 05:05:08 - s_cbr.SCBREngine - INFO -    session_id: None
2025-11-02 05:05:08 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-11-02 05:05:08 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 24 â†’ 24 å­—ç¬¦
2025-11-02 05:05:08 - s_cbr.DialogManager - INFO - ğŸ†• å‰µå»ºæœƒè©±: 41094ae1***
2025-11-02 05:05:08 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¹¾é€±éƒ½ç¡ä¸å¥½ï¼Œå¾ˆå®¹æ˜“åšå¤¢ï¼Œç™½å¤©è¦ºå¾—éå¸¸ç–²å€¦ã€‚...
2025-11-02 05:05:08 - s_cbr.DialogManager - INFO -    ç•¶å‰æœƒè©±ç¸½æ•¸: 24
2025-11-02 05:05:08 - s_cbr.SCBREngine - INFO - ğŸ†• å‰µå»ºæ–°æœƒè©±: 41094ae1-0449-46ce-b0f0-6e12d78a6613
2025-11-02 05:05:08 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-11-02 05:05:08 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 1]
2025-11-02 05:05:08 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 41094ae1-0449-46ce-b0f0-6e12d78a6613 æ”¶æ–‚åº¦: 0.400
2025-11-02 05:05:08 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:05:08 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-11-02 05:05:08 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:05:08 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.432
2025-11-02 05:05:08 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.350
2025-11-02 05:05:08 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.35, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:05:08 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:05:08 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.35, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:05:08 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:05:08 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:05:08 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.27999999999999997, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:05:09 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:05:09 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:05:09 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:05:09 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:05:09 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:05:09 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:05:09 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:05:09 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:05:09 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬1è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:05:09 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.85}
2025-11-02 05:05:09 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:05:09 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 1]
2025-11-02 05:05:09 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 41094ae1-0449-46ce-b0f0-6e12d78a6613 æ”¶æ–‚åº¦: 0.404
2025-11-02 05:05:09 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 2]:
2025-11-02 05:05:09 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.305, CMS=0.404
2025-11-02 05:05:09 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.080
2025-11-02 05:05:09 - s_cbr.ConvergenceMetrics - INFO -    Final=0.225
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:05:09 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:05:09 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:05:09 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:05:09 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:05:09 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 41094ae1***
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050508-72839d11] è€—æ™‚: 0.86s
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.305, Final=0.225
2025-11-02 05:05:09 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 05:06:41 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: è£œå……æ¢ä»¶ï¼šæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251102-050641-0730da19]
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……æ¢ä»¶ï¼šæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO -    session_id: 41094ae1-0449-46ce-b0f0-6e12d78a6613
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO - âœ… è¼¸å…¥æ·¨åŒ–å®Œæˆ: 20 â†’ 20 å­—ç¬¦
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO - ğŸ“ æª¢æ¸¬åˆ°è£œå……æ¢ä»¶ï¼Œè‡ªå‹•è¨­ç½® continue_spiral=True
2025-11-02 05:06:41 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 41094ae1***: è£œå……æ¢ä»¶ï¼šæˆ‘é£Ÿæ…¾å¾ˆå·®ï¼Œè€Œä¸”å¸¸å¸¸å¿˜è¨˜äº‹æƒ…ã€‚...
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 41094ae1-0449-46ce-b0f0-6e12d78a6613
2025-11-02 05:06:41 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-11-02 05:06:41 - s_cbr.SpiralEngine - INFO - ğŸŒ€ é–‹å§‹èºæ—‹æ¨ç† [è¼ªæ¬¡ 2]
2025-11-02 05:06:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 41094ae1-0449-46ce-b0f0-6e12d78a6613 æ”¶æ–‚åº¦: 0.250
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=0, è¦†è“‹ç‡=0.00
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.350, è¼ªæ¬¡Î±=0.565
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.371
2025-11-02 05:06:43 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.370648184778509, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-11-02 05:06:43 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-11-02 05:06:43 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.370648184778509, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:06:43 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-11-02 05:06:43 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.29651854782280723, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-11-02 05:06:43 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-11-02 05:06:43 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-11-02 05:06:43 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, RPCase: 0
2025-11-02 05:06:43 - s_cbr.PatternDiagnosis - INFO - ğŸ” ç¬¬2è¼ªé›™å±¤æ¨ç†å®Œæˆ
2025-11-02 05:06:43 - s_cbr.PatternDiagnosis - INFO -    ä¸»è­‰: {'label': 'è­‰å‹', 'p_score': 0.9}
2025-11-02 05:06:43 - s_cbr.PatternDiagnosis - INFO -    ç—…æ©Ÿ: ç—…æ©Ÿå¾…å®šï¼Œéœ€é€²ä¸€æ­¥è¾¨è­‰
2025-11-02 05:06:43 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å®Œæˆ [è¼ªæ¬¡ 2]
2025-11-02 05:06:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 41094ae1-0449-46ce-b0f0-6e12d78a6613 æ”¶æ–‚åº¦: 0.198
2025-11-02 05:06:43 - s_cbr.ConvergenceMetrics - INFO - ğŸ“Š è©•ä¼°æŒ‡æ¨™ [Round 3]:
2025-11-02 05:06:43 - s_cbr.ConvergenceMetrics - INFO -    RCI=0.469, CMS=0.198
2025-11-02 05:06:43 - s_cbr.ConvergenceMetrics - INFO -    CSC=0.000, CAS=0.200
2025-11-02 05:06:43 - s_cbr.ConvergenceMetrics - INFO -    Final=0.230
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO - âœ… æ–°çµ‚æ­¢æ¢ä»¶åˆ¤æ–·: False
2025-11-02 05:06:43 - s_cbr.GapAsker - INFO - ğŸ” ç”Ÿæˆè£œå• [2å€‹]:
2025-11-02 05:06:43 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:06:43 - s_cbr.GapAsker - INFO -    â“ è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO - ğŸ“‹ ç”Ÿæˆè£œå•: 2 å€‹
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO -    1. è«‹æè¿°èˆŒè±¡ï¼ˆèˆŒè³ªé¡è‰²ï¼šç´…/æ·¡/æš—ï¼ŒèˆŒè‹”ï¼šè–„ç™½/åšè†©/é»ƒè†©ï¼‰
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO -    2. è«‹æè¿°è„ˆè±¡ï¼ˆæµ®/æ²‰ã€é²/æ•¸ã€æ»‘/æ¾€ã€å¼¦/ç´°ç­‰ï¼‰
2025-11-02 05:06:43 - s_cbr.SelfReviewer - INFO - âœ… è‡ªæˆ‘å¯©ç¨¿é€šé
2025-11-02 05:06:43 - s_cbr.SCBREngine - ERROR - âŒ è¼¸å‡ºé©—è­‰å¤±æ•—: OutputValidator.validate() got an unexpected keyword argument 'output_text'
2025-11-02 05:06:43 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 41094ae1***
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251102-050641-0730da19] è€—æ™‚: 1.70s
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: True
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO -    æ”¶æ–‚: False, RCI=0.469, Final=0.230
2025-11-02 05:06:43 - s_cbr.SCBREngine - INFO -    è£œå•æ•¸é‡: 2
2025-11-02 15:05:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 15:05:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 15:05:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 15:05:26 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 15:05:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 15:05:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 15:05:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 15:05:26 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 15:05:30 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 15:05:30 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 15:05:30 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 15:05:30 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:30 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 15:05:30 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:30 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 15:05:30 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 15:05:30 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 15:05:30 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 15:05:30 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 15:05:31 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 15:05:31 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 15:05:31 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 15:05:31 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 15:05:31 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 15:05:31 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 15:05:31 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 15:05:31 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 15:05:31 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 15:05:31 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:31 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 15:05:31 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 15:05:31 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 15:05:31 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 15:05:31 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 15:05:31 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 15:05:31 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:31 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 15:05:31 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 15:05:31 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 15:05:31 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 15:05:31 - s_cbr.backend.main - INFO - 
2025-11-02 15:05:31 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 15:05:31 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 15:05:31 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 15:05:32 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 15:05:32 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 15:05:33 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 15:05:33 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 15:05:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 15:05:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 15:05:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 15:05:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 15:05:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 15:05:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 15:05:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 15:05:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 15:05:41 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 15:05:41 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 15:05:41 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 15:05:41 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:41 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 15:05:41 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:41 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 15:05:41 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 15:05:41 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 15:05:41 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 15:05:41 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 15:05:42 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 15:05:42 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 15:05:42 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 15:05:42 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 15:05:42 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 15:05:42 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 15:05:42 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 15:05:42 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 15:05:42 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 15:05:42 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:42 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-11-02 15:05:42 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 15:05:42 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 15:05:42 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 15:05:42 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 15:05:42 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 15:05:42 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 15:05:42 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 15:05:42 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 15:05:42 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 15:05:42 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 15:05:42 - s_cbr.backend.main - INFO - 
2025-11-02 15:05:42 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 15:05:42 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 15:05:42 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 15:05:42 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 15:05:43 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 15:05:43 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 15:05:43 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:04:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:04:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:04:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:04:23 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:04:23 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:04:23 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:04:24 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:04:24 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:04:27 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:04:27 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:04:27 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 21:04:27 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:04:27 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 21:04:27 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:04:27 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:04:27 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:04:27 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 21:04:27 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:04:27 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:04:28 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 21:04:28 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 21:04:28 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 21:04:28 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 21:04:28 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 21:04:28 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 21:04:28 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:04:28 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 21:04:28 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:04:28 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:04:28 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆå¢å¼·ç‰ˆï¼‰
2025-11-02 21:04:28 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 21:04:28 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 21:04:28 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 21:04:28 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 21:04:28 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 21:04:28 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:04:28 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 21:04:28 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 21:04:28 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:04:28 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 21:04:28 - s_cbr.backend.main - INFO - 
2025-11-02 21:04:28 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 21:04:28 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 21:04:28 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:04:29 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 21:04:29 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 21:04:29 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 21:04:29 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:11:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:11:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:11:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:11:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:11:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:11:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:11:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:11:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:11:05 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:11:05 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:11:05 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 21:11:05 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:11:05 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 21:11:05 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:11:05 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:11:05 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:11:06 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 21:11:06 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:11:06 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:11:06 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 21:11:06 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 21:11:06 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 21:11:06 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 21:11:06 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 21:11:06 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 21:11:06 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:11:06 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 21:11:06 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:11:06 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:11:06 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆå¢å¼·ç‰ˆï¼‰
2025-11-02 21:11:06 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 21:11:06 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 21:11:06 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 21:11:06 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 21:11:06 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 21:11:06 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:11:06 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 21:11:07 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 21:11:07 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:11:07 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 21:11:07 - s_cbr.backend.main - INFO - 
2025-11-02 21:11:07 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 21:11:07 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 21:11:07 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:11:07 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 21:11:08 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 21:11:08 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 21:11:08 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:18:59 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:18:59 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:18:59 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:18:59 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:18:59 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:18:59 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:18:59 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:18:59 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:19:03 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:19:03 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:19:03 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 21:19:03 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:19:03 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 21:19:03 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:19:03 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:19:03 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:19:03 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 21:19:03 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:19:03 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:19:04 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 21:19:04 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 21:19:04 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 21:19:04 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 21:19:04 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 21:19:04 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 21:19:04 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:19:04 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 21:19:04 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:19:04 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:19:04 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆå¢å¼·ç‰ˆï¼‰
2025-11-02 21:19:04 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 21:19:04 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 21:19:04 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 21:19:04 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 21:19:04 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 21:19:04 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:19:04 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 21:19:04 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 21:19:04 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:19:04 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 21:19:04 - s_cbr.backend.main - INFO - 
2025-11-02 21:19:04 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 21:19:04 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 21:19:04 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:19:05 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 21:19:05 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 21:19:05 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 21:19:05 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:21:42 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:21:42 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:21:42 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:21:42 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:21:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:21:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:21:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:21:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:21:45 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:21:45 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:21:45 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 21:21:45 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:21:45 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 21:21:45 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:21:45 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:21:45 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:21:45 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 21:21:45 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:21:45 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:21:46 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 21:21:46 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 21:21:46 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 21:21:46 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 21:21:46 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 21:21:46 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 21:21:46 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:21:46 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 21:21:46 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:21:46 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:21:46 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:21:46 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 21:21:46 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 21:21:46 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 21:21:46 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 21:21:46 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 21:21:46 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:21:46 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 21:21:46 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 21:21:46 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:21:46 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 21:21:46 - s_cbr.backend.main - INFO - 
2025-11-02 21:21:46 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 21:21:46 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 21:21:46 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:21:47 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 21:21:47 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 21:21:47 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 21:21:47 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:23:19 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:23:19 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:23:19 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:23:19 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:23:19 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:23:19 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:23:19 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:23:19 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:23:22 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:23:22 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:23:22 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 21:23:22 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:23:22 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 21:23:22 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:23:22 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:23:22 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:23:23 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 21:23:23 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:23:23 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:23:24 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 21:23:24 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 21:23:24 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 21:23:24 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 21:23:24 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 21:23:24 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 21:23:24 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:23:24 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 21:23:24 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:23:24 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:23:24 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:23:24 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 21:23:24 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 21:23:24 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 21:23:24 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 21:23:24 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 21:23:24 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:23:24 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 21:23:24 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 21:23:24 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:23:24 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 21:23:24 - s_cbr.backend.main - INFO - 
2025-11-02 21:23:24 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 21:23:24 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 21:23:24 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:23:25 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 21:23:25 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 21:23:25 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 21:23:25 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:24:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:24:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:24:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:24:37 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:24:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:24:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:24:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:24:37 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:24:40 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:24:40 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:24:40 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 21:24:40 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:24:40 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 21:24:40 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:24:40 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:24:40 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:24:40 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 21:24:40 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:24:40 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:24:41 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 21:24:41 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 21:24:41 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 21:24:41 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 21:24:41 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 21:24:41 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 21:24:41 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:24:41 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 21:24:41 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:24:41 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:24:41 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:24:41 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 21:24:41 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 21:24:41 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 21:24:41 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 21:24:41 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 21:24:41 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:24:41 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 21:24:41 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 21:24:41 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:24:41 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 21:24:41 - s_cbr.backend.main - INFO - 
2025-11-02 21:24:41 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 21:24:41 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 21:24:41 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:24:42 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 21:24:42 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 21:24:43 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 21:24:43 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:25:16 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:25:16 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:25:16 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:25:16 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:25:16 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:25:16 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:25:16 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:25:16 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:25:19 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:25:19 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:25:19 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 21:25:19 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:25:19 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 21:25:19 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:25:19 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:25:19 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:25:20 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 21:25:20 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 21:25:20 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:25:21 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 21:25:21 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 21:25:21 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 21:25:21 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 21:25:21 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 21:25:21 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 21:25:21 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:25:21 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-11-02 21:25:21 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 21:25:21 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:25:21 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 21:25:21 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (ä½¿ç”¨ANC Processor)
2025-11-02 21:25:21 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 21:25:21 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 21:25:21 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 21:25:21 - s_cbr.PatternShifter - INFO - âœ… è­‰å‹è½‰åŒ–å™¨åˆå§‹åŒ–: 3 æ¢è¦å‰‡
2025-11-02 21:25:21 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 21:25:21 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 21:25:21 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 21:25:21 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:25:21 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 21:25:21 - s_cbr.backend.main - INFO - 
2025-11-02 21:25:21 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 21:25:21 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 21:25:21 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 21:25:22 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 21:25:22 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 21:25:22 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 21:25:22 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 21:55:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:55:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:55:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:55:15 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:55:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:55:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:55:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:55:15 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:57:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:57:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:57:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:57:47 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:57:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:57:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:57:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:57:47 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 21:58:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 21:58:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 21:58:42 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 21:58:42 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 21:58:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 21:58:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 21:58:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 21:58:42 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 22:00:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 22:00:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 22:00:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 22:00:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 22:00:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 22:00:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 22:00:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 22:00:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 22:02:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 22:02:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 22:02:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 22:02:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 22:02:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 22:02:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 22:02:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 22:02:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 22:03:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 22:03:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 22:03:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 22:03:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 22:03:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 22:03:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 22:03:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 22:03:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 22:04:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 22:04:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 22:04:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 22:04:34 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 22:04:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 22:04:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 22:04:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 22:04:34 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 22:07:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 22:07:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 22:07:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 22:07:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 22:07:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 22:07:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 22:07:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 22:07:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 22:08:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 22:08:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 22:08:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 22:08:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 22:08:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 22:08:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 22:08:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 22:08:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:33:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:33:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:33:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:33:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:33:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:33:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:33:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:33:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:35:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:35:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:35:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:35:55 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:35:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:35:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:35:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:35:56 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:35:56 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:36:00 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:36:00 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:36:00 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:36:00 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:36:00 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:36:00 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:00 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:36:00 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:00 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:00 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:36:00 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:00 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:36:01 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:36:01 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:36:01 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:36:01 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:36:01 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:36:01 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:36:01 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:36:01 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:36:01 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:36:01 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:36:01 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:36:01 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:36:01 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:36:01 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:36:01 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:36:01 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:36:01 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:36:01 - s_cbr.SCBREngine - WARNING - âš ï¸ è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å¤±æ•—: name 'PatternShifter' is not defined
2025-11-02 23:36:01 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:36:01 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:36:01 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:36:01 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:36:01 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:36:01 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:36:01 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:36:01 - s_cbr.SCBREngine - WARNING - âš ï¸ è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å¤±æ•—: name 'PatternShifter' is not defined
2025-11-02 23:36:01 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - 
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - 
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 23:36:01 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 23:36:01 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:36:02 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 23:36:02 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 23:36:03 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 23:36:03 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 23:36:03 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 23:36:03 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:03 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 23:36:03 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:36:41 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:36:41 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:45 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:36:45 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:36:45 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:36:45 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:36:45 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:36:45 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:36:45 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:36:45 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:45 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:46 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:36:46 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:46 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:46 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:36:46 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:36:46 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:36:47 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:36:47 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:36:47 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:36:47 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:36:47 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:36:47 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:36:47 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:36:47 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:36:47 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:36:47 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:36:47 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:36:47 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:36:47 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:36:47 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:36:47 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:36:47 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:36:47 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:36:47 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:36:47 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:36:47 - s_cbr.backend.main - INFO - 
2025-11-02 23:36:47 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 23:36:47 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 23:36:47 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:36:48 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 23:36:48 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 23:36:48 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 23:36:48 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:37:11 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:37:11 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:37:11 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:37:11 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:37:11 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:37:11 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:37:11 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:37:11 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:37:15 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:37:15 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:37:15 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:37:15 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:37:15 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:37:15 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:37:15 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:37:15 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:37:15 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:37:15 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:37:15 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:37:16 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:37:16 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:37:16 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:37:16 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:37:16 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:37:16 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:37:16 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:37:16 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:37:16 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:37:16 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:37:16 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:37:16 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:37:16 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:37:16 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:37:16 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:37:16 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:37:16 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:37:16 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:37:16 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:37:17 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:37:17 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:37:17 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:37:17 - s_cbr.backend.main - INFO - 
2025-11-02 23:37:17 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 23:37:17 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 23:37:17 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:37:17 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 23:37:18 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 23:37:18 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 23:37:18 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:37:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:37:27 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:37:28 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:37:28 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:37:28 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:37:28 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:37:28 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:37:28 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:37:32 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:37:32 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:37:32 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:37:32 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:37:32 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:37:32 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:37:32 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:37:32 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:37:32 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:37:32 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:37:32 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:37:33 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:37:33 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:37:33 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:37:33 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:37:33 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:37:33 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:37:33 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:37:33 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:37:33 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:37:33 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:37:34 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:37:34 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:37:34 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:37:34 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:37:34 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:37:34 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:37:34 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:37:34 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:37:34 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:37:34 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:37:34 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:37:34 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:37:34 - s_cbr.backend.main - INFO - 
2025-11-02 23:37:34 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 23:37:34 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 23:37:34 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:37:35 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 23:37:35 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 23:37:36 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 23:37:36 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:45:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:45:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:45:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:45:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:45:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:45:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:45:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:45:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:45:12 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:45:12 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:45:12 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:45:12 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:45:12 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:45:12 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:45:12 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:45:12 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:45:13 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:45:13 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:45:13 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:45:14 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:45:14 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:45:14 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:45:14 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:45:14 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:45:14 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:45:14 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:45:14 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:45:14 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:45:14 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:45:14 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:45:14 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:45:14 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:45:14 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:45:14 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:45:14 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:45:14 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:45:14 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:45:14 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:45:14 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:45:14 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:45:14 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:45:14 - s_cbr.backend.main - INFO - 
2025-11-02 23:45:14 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 23:45:14 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 23:45:14 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:45:14 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 23:45:15 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 23:45:15 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 23:45:15 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:49:17 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:49:17 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:49:17 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:49:17 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:49:17 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:49:17 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:49:17 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:49:17 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:49:20 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:49:20 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:49:20 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:49:20 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:49:20 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:49:20 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:49:20 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:49:20 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:49:20 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:49:20 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:49:20 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:49:21 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:49:21 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:49:21 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:49:21 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:49:21 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:49:21 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:49:21 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:49:21 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:49:21 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:49:21 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:49:21 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:49:21 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:49:21 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:49:21 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:49:21 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:49:21 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:49:21 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:49:21 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:49:21 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:49:21 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:49:21 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:49:21 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:49:21 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:49:21 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:49:21 - s_cbr.backend.main - INFO - 
2025-11-02 23:49:21 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:49:21 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:49:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:49:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:49:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:49:29 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:49:29 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:49:29 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:49:29 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:49:29 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:49:29 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:49:29 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:49:29 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:49:32 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:49:32 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:49:32 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:49:32 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:49:32 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:49:32 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:49:32 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:49:32 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:49:33 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:49:33 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:49:33 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:49:33 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:49:33 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:49:33 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:49:33 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:49:33 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:49:33 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:49:33 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:49:33 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:49:33 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:49:33 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:49:34 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:49:34 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:49:34 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:49:34 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:49:34 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:49:34 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:49:34 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:49:34 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:49:34 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:51:01 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-11-02 23:51:01 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-11-02 23:51:01 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-11-02 23:51:01 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-11-02 23:51:01 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-11-02 23:51:01 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 89 å€‹
2025-11-02 23:51:01 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-11-02 23:51:01 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:51:04 - s_cbr.SCBREngine - INFO - âœ… ç­–ç•¥å±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:51:04 - s_cbr.SCBREngine - INFO - âœ… ç”Ÿæˆå±¤é…ç½®è¼‰å…¥æˆåŠŸ
2025-11-02 23:51:04 - s_cbr.SCBREngine - WARNING - âš ï¸ RateLimiter æœªæ‰¾åˆ°ï¼Œä½¿ç”¨ç°¡å–®ç‰ˆæœ¬: RateLimiter.__init__() got an unexpected keyword argument 'max_requests_per_minute'
2025-11-02 23:51:04 - s_cbr.SCBREngine - INFO - âœ… å®‰å…¨æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:51:04 - s_cbr.DialogManager - INFO - âœ… å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ (max_sessions=100)
2025-11-02 23:51:04 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:51:04 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:51:04 - s_cbr.SCBREngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:51:04 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-11-02 23:51:04 - s_cbr.LLMClient - INFO - âœ… LLMå®¢æˆ¶ç«¯åˆå§‹åŒ–: model=meta/llama-3.3-70b-instruct, max_tokens=2000, timeout=30.0s
2025-11-02 23:51:04 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:51:05 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ TCM æ“´å±•é…ç½®:
2025-11-02 23:51:05 - s_cbr.TextProcessor - INFO -    - è­‰å‹: 12 ç¨®
2025-11-02 23:51:05 - s_cbr.TextProcessor - INFO -    - è‡Ÿè…‘: 5 å€‹
2025-11-02 23:51:05 - s_cbr.TextProcessor - INFO -    - ç—‡ç‹€åˆ†é¡: 6 é¡
2025-11-02 23:51:05 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-11-02 23:51:05 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-11-02 23:51:05 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–ï¼ˆç°¡åŒ–ç‰ˆï¼‰
2025-11-02 23:51:05 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-11-02 23:51:05 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:51:05 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-02 23:51:05 - s_cbr.KnowledgeIntegrator - INFO - âœ… çŸ¥è­˜æ•´åˆå™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥æ‰€æœ‰çŸ¥è­˜æ–‡ä»¶ã€‚
2025-11-02 23:51:05 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–ï¼ˆçŸ¥è­˜æ•´åˆç‰ˆï¼‰
2025-11-02 23:51:05 - s_cbr.ConstitutionClassifier - INFO - âœ… é«”è³ªåˆ†é¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œå·²è¼‰å…¥é«”è³ªæ•¸æ“šã€‚
2025-11-02 23:51:05 - s_cbr.SpiralEngine - INFO - âœ… èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ (åŒ…å«é«”è³ªåˆ†é¡å™¨)
2025-11-02 23:51:05 - s_cbr.StopCriteria - INFO - âœ… çµ‚æ­¢æ¢ä»¶ç®¡ç†å™¨åˆå§‹åŒ–
2025-11-02 23:51:05 - s_cbr.StopCriteria - INFO -    ç¡¬è¦å‰‡: 4 æ¢
2025-11-02 23:51:05 - s_cbr.StopCriteria - INFO -    è»Ÿè¦å‰‡: 4 æ¢
2025-11-02 23:51:05 - s_cbr.SCBREngine - INFO - âœ… è¼”åŠ©æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
2025-11-02 23:51:05 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ (å«å®‰å…¨é˜²è­·)
2025-11-02 23:51:05 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-11-02 23:51:05 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:51:05 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-11-02 23:51:05 - s_cbr.backend.main - INFO - 
2025-11-02 23:51:05 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-02 23:51:05 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-11-02 23:51:05 - s_cbr.backend.main - INFO - ============================================================
2025-11-02 23:51:06 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-11-02 23:51:06 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-11-02 23:51:06 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-11-02 23:51:06 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-11-02 23:36:47 - s_cbr.ConvergenceMetrics - INFO - âœ… æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆï¼ˆé‡æ§‹ç‰ˆï¼‰
2025-11-02 23:49:21 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-11-03 01:43:07 - s_cbr.KnowledgeIntegrator - INFO - çŸ¥è­˜åº«è·¯å¾‘è¨­å®šç‚º: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\knowledge
2025-11-03 01:43:07 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
