2025-10-14 00:51:40 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 00:51:40 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 00:51:40 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 00:51:40 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 00:51:40 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 00:51:40 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 00:51:40 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 00:51:40 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 00:51:44 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 00:51:44 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 00:51:45 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 00:51:45 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 00:51:45 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 00:51:45 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 00:51:45 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 00:51:45 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 00:51:45 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 00:51:45 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 00:51:45 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 00:51:45 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 00:51:45 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 00:51:45 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 00:51:45 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 00:51:45 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 00:51:45 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 00:51:45 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 00:51:45 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 00:51:45 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 00:51:45 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 00:51:45 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 00:51:45 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 00:51:45 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 00:51:45 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 00:51:45 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 00:51:45 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 00:51:45 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 00:51:45 - s_cbr.backend.main - INFO - 
2025-10-14 00:51:45 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 00:51:45 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 00:51:45 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 00:51:46 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 00:51:46 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 00:51:46 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 00:51:46 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 00:51:58 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ
2025-10-14 00:51:58 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251014-005158-82a8d236]
2025-10-14 00:51:58 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 00:51:58 - s_cbr.SCBREngine - INFO -    session_id: None
2025-10-14 00:51:58 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-10-14 00:51:58 - s_cbr.DialogManager - INFO - ğŸ“ å‰µå»ºæœƒè©±: 2a8d18b0-0def-436a-8c35-8bb5cec9a6bc
2025-10-14 00:51:58 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 00:51:58 - s_cbr.SCBREngine - INFO - ğŸ“ å‰µå»ºæ–°æœƒè©±: 2a8d18b0-0def-436a-8c35-8bb5cec9a6bc
2025-10-14 00:51:58 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-10-14 00:51:58 - s_cbr.SpiralEngine - INFO - ğŸŒ€ åŸ·è¡Œç¬¬ 1 è¼ªèºæ—‹æ¨ç†
2025-10-14 00:51:58 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-10-14 00:51:58 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å£ä¹¾', 'å¤±çœ ', 'å¿ƒæ‚¸', 'å¤šå¤¢']
2025-10-14 00:51:58 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: ['å£ä¹¾', 'å¤±çœ ', 'å¿ƒæ‚¸', 'å¤šå¤¢']
2025-10-14 00:51:58 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å£ä¹¾', 'å¤±çœ ', 'å¿ƒæ‚¸', 'å¤šå¤¢']
2025-10-14 00:52:00 - s_cbr.SpiralEngine - INFO - ğŸ§­ ç”Ÿæˆå‘é‡: dim=1024
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=4, è¦†è“‹ç‡=0.00
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.500, è¼ªæ¬¡Î±=0.444
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.406
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.4061050327851863, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.4061050327851863, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.4061050327851863, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.32488402622814905, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 00:52:00 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-10-14 00:52:00 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-10-14 00:52:00 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-10-14 00:52:00 - s_cbr.backend.main - ERROR - ç›¸å®¹æ€§æŸ¥è©¢è™•ç†å¤±æ•—: 'DiscriminativeWeightSystem' object has no attribute 'high_discriminative'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\main.py", line 140, in api_query_compatibility
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 184, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 96, in diagnose
    result = await self.spiral.execute_spiral_cycle(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 332, in execute_spiral_cycle
    adjusted_symptom_scores, adjusted_syndrome_scores = self.discriminative_system.apply_discriminative_weights(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\discriminative_weights.py", line 248, in apply_discriminative_weights
    symptom_weights = self.calculate_symptom_weights(symptoms)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\discriminative_weights.py", line 148, in calculate_symptom_weights
    if symptom in self.high_discriminative:
AttributeError: 'DiscriminativeWeightSystem' object has no attribute 'high_discriminative'
2025-10-14 02:05:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 02:05:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 02:05:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 02:05:14 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 02:05:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 02:05:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 02:05:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 02:05:14 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 02:05:17 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:05:17 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:05:18 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:05:18 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:05:18 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:05:18 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:05:18 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:05:18 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:05:18 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:05:18 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:05:18 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:05:18 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:05:18 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:05:18 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:05:18 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:05:18 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:05:18 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:05:18 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:05:18 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:05:18 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:05:18 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:05:18 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:05:18 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:05:18 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:05:18 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:05:19 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 02:05:19 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:05:19 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 02:05:19 - s_cbr.backend.main - INFO - 
2025-10-14 02:05:19 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 02:05:19 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 02:05:19 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:05:19 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 02:05:20 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 02:05:20 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 02:05:20 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:06:00 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ
2025-10-14 02:06:00 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251014-020600-caac3acf]
2025-10-14 02:06:00 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:06:00 - s_cbr.SCBREngine - INFO -    session_id: None
2025-10-14 02:06:00 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-10-14 02:06:00 - s_cbr.DialogManager - INFO - ğŸ“ å‰µå»ºæœƒè©±: b7fc2091-3c83-430f-9f78-6b341a8ce9ca
2025-10-14 02:06:00 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:06:00 - s_cbr.SCBREngine - INFO - ğŸ“ å‰µå»ºæ–°æœƒè©±: b7fc2091-3c83-430f-9f78-6b341a8ce9ca
2025-10-14 02:06:00 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-10-14 02:06:00 - s_cbr.SpiralEngine - INFO - ğŸŒ€ åŸ·è¡Œç¬¬ 1 è¼ªèºæ—‹æ¨ç†
2025-10-14 02:06:00 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-10-14 02:06:00 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ', 'å¿ƒæ‚¸', 'å£ä¹¾', 'å¤šå¤¢']
2025-10-14 02:06:00 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: ['å¤±çœ ', 'å¿ƒæ‚¸', 'å£ä¹¾', 'å¤šå¤¢']
2025-10-14 02:06:00 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ', 'å¿ƒæ‚¸', 'å£ä¹¾', 'å¤šå¤¢']
2025-10-14 02:06:02 - s_cbr.SpiralEngine - INFO - ğŸ§­ ç”Ÿæˆå‘é‡: dim=1024
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=4, è¦†è“‹ç‡=0.00
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.500, è¼ªæ¬¡Î±=0.411
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.395
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.39475262504116204, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.39475262504116204, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.39475262504116204, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.31580210003292963, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:06:02 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-10-14 02:06:02 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-10-14 02:06:02 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-10-14 02:06:02 - s_cbr.DiscriminativeWeights - INFO - ğŸ¯ ç—‡ç‹€é‘‘åˆ¥æ¬Šé‡: 0 å€‹ç—‡ç‹€ç²å¾—åŠ æ¬Š
2025-10-14 02:06:02 - s_cbr.DiscriminativeWeights - INFO - âœ… é‘‘åˆ¥æ¬Šé‡æ‡‰ç”¨å®Œæˆ:
2025-10-14 02:06:02 - s_cbr.DiscriminativeWeights - INFO -    ç—‡ç‹€åŠ æ¬Š: 0 å€‹
2025-10-14 02:06:02 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥æ‡²ç½°: 0 å°
2025-10-14 02:06:04 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b7fc2091-3c83-430f-9f78-6b341a8ce9ca æ”¶æ–‚åº¦: 0.402
2025-10-14 02:06:04 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b7fc2091-3c83-430f-9f78-6b341a8ce9ca æ”¶æ–‚åº¦: 0.402
2025-10-14 02:06:04 - s_cbr.backend.main - ERROR - ç›¸å®¹æ€§æŸ¥è©¢è™•ç†å¤±æ•—: ConvergenceMetrics.should_stop() got an unexpected keyword argument 'primary_case'
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\main.py", line 140, in api_query_compatibility
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 184, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 109, in diagnose
    stop_decision = self.convergence.should_stop(
TypeError: ConvergenceMetrics.should_stop() got an unexpected keyword argument 'primary_case'
2025-10-14 02:08:11 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 02:08:12 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 02:08:12 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 02:08:12 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 02:08:12 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 02:08:12 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 02:08:12 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 02:08:12 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 02:08:15 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:08:15 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:08:16 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:08:16 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:08:16 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:08:16 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:08:16 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:08:16 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:08:16 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:08:16 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:08:16 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:08:16 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:08:16 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:08:16 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:08:16 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:08:16 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:08:16 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:08:16 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:08:16 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:08:16 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:08:16 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:08:16 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:08:16 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:08:16 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:08:16 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:08:16 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 02:08:16 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:08:16 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 02:08:16 - s_cbr.backend.main - INFO - 
2025-10-14 02:08:16 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 02:08:16 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 02:08:16 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:08:17 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 02:08:17 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 02:08:17 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 02:08:17 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:08:22 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ
2025-10-14 02:08:22 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251014-020822-19e19858]
2025-10-14 02:08:22 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:08:22 - s_cbr.SCBREngine - INFO -    session_id: None
2025-10-14 02:08:22 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-10-14 02:08:22 - s_cbr.DialogManager - INFO - ğŸ“ å‰µå»ºæœƒè©±: b816a09c-0672-4c05-bac0-acd5bf8a6642
2025-10-14 02:08:22 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:08:22 - s_cbr.SCBREngine - INFO - ğŸ“ å‰µå»ºæ–°æœƒè©±: b816a09c-0672-4c05-bac0-acd5bf8a6642
2025-10-14 02:08:22 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-10-14 02:08:22 - s_cbr.SpiralEngine - INFO - ğŸŒ€ åŸ·è¡Œç¬¬ 1 è¼ªèºæ—‹æ¨ç†
2025-10-14 02:08:22 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-10-14 02:08:22 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å¤±çœ ', 'å¤šå¤¢', 'å£ä¹¾', 'å¿ƒæ‚¸']
2025-10-14 02:08:22 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: ['å¤±çœ ', 'å¤šå¤¢', 'å£ä¹¾', 'å¿ƒæ‚¸']
2025-10-14 02:08:22 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å¤±çœ ', 'å¤šå¤¢', 'å£ä¹¾', 'å¿ƒæ‚¸']
2025-10-14 02:08:23 - s_cbr.SpiralEngine - INFO - ğŸ§­ ç”Ÿæˆå‘é‡: dim=1024
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=4, è¦†è“‹ç‡=0.00
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.500, è¼ªæ¬¡Î±=0.366
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.379
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.3793974196108471, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.3793974196108471, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3793974196108471, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3035179356886777, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:08:23 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-10-14 02:08:23 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-10-14 02:08:23 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-10-14 02:08:23 - s_cbr.DiscriminativeWeights - INFO - ğŸ¯ ç—‡ç‹€é‘‘åˆ¥æ¬Šé‡: 0 å€‹ç—‡ç‹€ç²å¾—åŠ æ¬Š
2025-10-14 02:08:23 - s_cbr.DiscriminativeWeights - INFO - âœ… é‘‘åˆ¥æ¬Šé‡æ‡‰ç”¨å®Œæˆ:
2025-10-14 02:08:23 - s_cbr.DiscriminativeWeights - INFO -    ç—‡ç‹€åŠ æ¬Š: 0 å€‹
2025-10-14 02:08:23 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥æ‡²ç½°: 0 å°
2025-10-14 02:08:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b816a09c-0672-4c05-bac0-acd5bf8a6642 æ”¶æ–‚åº¦: 0.402
2025-10-14 02:08:25 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± b816a09c-0672-4c05-bac0-acd5bf8a6642 æ”¶æ–‚åº¦: 0.402
2025-10-14 02:08:25 - s_cbr.ConvergenceMetrics - INFO - æœªé”æœ€å°è¼ªæ¬¡ 2
2025-10-14 02:08:25 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± b816a09c-0672-4c05-bac0-acd5bf8a6642
2025-10-14 02:08:25 - s_cbr.backend.main - ERROR - ç›¸å®¹æ€§æŸ¥è©¢è™•ç†å¤±æ•—: 'bool' object is not subscriptable
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\main.py", line 140, in api_query_compatibility
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 183, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 122, in diagnose
    should_stop = stop_decision["should_stop"]
TypeError: 'bool' object is not subscriptable
2025-10-14 02:09:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 02:09:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 02:09:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 02:09:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 02:09:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 02:09:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 02:09:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 02:09:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 02:09:41 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:09:41 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:09:42 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:09:42 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:09:42 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:09:42 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:09:42 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:09:42 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:09:42 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:09:42 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:09:42 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:09:42 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:09:42 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:09:42 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:09:42 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:09:42 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:09:42 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:09:42 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:09:42 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:09:42 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:09:42 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:09:42 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:09:42 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:09:42 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:09:42 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:09:42 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 02:09:42 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:09:42 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 02:09:42 - s_cbr.backend.main - INFO - 
2025-10-14 02:09:42 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 02:09:42 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 02:09:42 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:09:43 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 02:09:43 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 02:09:43 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 02:09:43 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:09:43 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ
2025-10-14 02:09:43 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251014-020943-bf45921e]
2025-10-14 02:09:43 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:09:43 - s_cbr.SCBREngine - INFO -    session_id: None
2025-10-14 02:09:43 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-10-14 02:09:43 - s_cbr.DialogManager - INFO - ğŸ“ å‰µå»ºæœƒè©±: 0c050469-59e1-4815-a840-9d9793e29367
2025-10-14 02:09:43 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:09:43 - s_cbr.SCBREngine - INFO - ğŸ“ å‰µå»ºæ–°æœƒè©±: 0c050469-59e1-4815-a840-9d9793e29367
2025-10-14 02:09:43 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-10-14 02:09:43 - s_cbr.SpiralEngine - INFO - ğŸŒ€ åŸ·è¡Œç¬¬ 1 è¼ªèºæ—‹æ¨ç†
2025-10-14 02:09:43 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-10-14 02:09:43 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å£ä¹¾', 'å¿ƒæ‚¸', 'å¤šå¤¢', 'å¤±çœ ']
2025-10-14 02:09:43 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: ['å£ä¹¾', 'å¿ƒæ‚¸', 'å¤šå¤¢', 'å¤±çœ ']
2025-10-14 02:09:43 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å£ä¹¾', 'å¿ƒæ‚¸', 'å¤šå¤¢', 'å¤±çœ ']
2025-10-14 02:09:44 - s_cbr.SpiralEngine - INFO - ğŸ§­ ç”Ÿæˆå‘é‡: dim=1024
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=4, è¦†è“‹ç‡=0.00
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.500, è¼ªæ¬¡Î±=0.436
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.403
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.4033840217600399, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.4033840217600399, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.4033840217600399, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.32270721740803193, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:09:44 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-10-14 02:09:44 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-10-14 02:09:44 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-10-14 02:09:44 - s_cbr.DiscriminativeWeights - INFO - ğŸ¯ ç—‡ç‹€é‘‘åˆ¥æ¬Šé‡: 0 å€‹ç—‡ç‹€ç²å¾—åŠ æ¬Š
2025-10-14 02:09:44 - s_cbr.DiscriminativeWeights - INFO - âœ… é‘‘åˆ¥æ¬Šé‡æ‡‰ç”¨å®Œæˆ:
2025-10-14 02:09:44 - s_cbr.DiscriminativeWeights - INFO -    ç—‡ç‹€åŠ æ¬Š: 0 å€‹
2025-10-14 02:09:44 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥æ‡²ç½°: 0 å°
2025-10-14 02:09:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0c050469-59e1-4815-a840-9d9793e29367 æ”¶æ–‚åº¦: 0.402
2025-10-14 02:09:46 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 0c050469-59e1-4815-a840-9d9793e29367 æ”¶æ–‚åº¦: 0.402
2025-10-14 02:09:46 - s_cbr.ConvergenceMetrics - INFO - æœªé”æœ€å°è¼ªæ¬¡ 2
2025-10-14 02:09:46 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 0c050469-59e1-4815-a840-9d9793e29367
2025-10-14 02:09:46 - s_cbr.backend.main - ERROR - ç›¸å®¹æ€§æŸ¥è©¢è™•ç†å¤±æ•—: 'bool' object is not subscriptable
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\main.py", line 140, in api_query_compatibility
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 183, in run_spiral_cbr
    return await _engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 123, in diagnose
    can_save = stop_decision["can_save"]
TypeError: 'bool' object is not subscriptable
2025-10-14 02:12:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 02:12:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 02:12:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 02:12:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 02:12:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 02:12:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 02:12:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 02:12:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 02:12:53 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:12:53 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:12:54 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:12:54 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:12:54 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:12:54 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:12:54 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:12:54 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:12:54 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:12:54 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:12:54 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:12:54 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:12:54 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:12:54 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:12:54 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:12:54 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:12:54 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:12:54 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:12:54 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:12:54 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:12:54 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:12:54 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:12:54 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:12:54 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:12:54 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:12:54 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 02:12:54 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:12:54 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 02:12:54 - s_cbr.backend.main - INFO - 
2025-10-14 02:12:54 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 02:12:54 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 02:12:54 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:12:55 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 02:12:55 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 02:12:55 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 02:12:55 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:13:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 02:13:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 02:13:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 02:13:05 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 02:13:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 02:13:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 02:13:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 02:13:05 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 02:13:08 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:13:08 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:13:09 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:13:09 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:13:09 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:13:09 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:13:09 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:13:09 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:13:09 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:13:09 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:13:09 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:13:09 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:13:09 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 02:13:09 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:13:09 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 02:13:09 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 02:13:09 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 02:13:09 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 02:13:09 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 02:13:09 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 02:13:09 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 02:13:09 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 02:13:09 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:13:09 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:13:09 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 02:13:09 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 02:13:09 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:13:09 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 02:13:09 - s_cbr.backend.main - INFO - 
2025-10-14 02:13:09 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 02:13:09 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 02:13:09 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 02:13:10 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 02:13:10 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 02:13:10 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 02:13:20 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ
2025-10-14 02:13:20 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251014-021320-3102a873]
2025-10-14 02:13:20 - s_cbr.SCBREngine - INFO -    å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:13:20 - s_cbr.SCBREngine - INFO -    session_id: None
2025-10-14 02:13:20 - s_cbr.SCBREngine - INFO -    continue_spiral: False
2025-10-14 02:13:20 - s_cbr.DialogManager - INFO - ğŸ“ å‰µå»ºæœƒè©±: 4170f594-3810-41a0-96c5-31b68b9960e0
2025-10-14 02:13:20 - s_cbr.DialogManager - INFO -    åˆå§‹å•é¡Œ: æœ€è¿‘å¸¸å¸¸å¤±çœ è€Œä¸”å¤šå¤¢ï¼Œæ™šä¸Šå®¹æ˜“é©šé†’ï¼Œé†«å¸«èªªæˆ‘å·¦å¯¸çš„è„ˆæœ‰é»é²ï¼Œç™½å¤©æœƒå¿ƒæ‚¸å£ä¹¾ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ...
2025-10-14 02:13:20 - s_cbr.SCBREngine - INFO - ğŸ“ å‰µå»ºæ–°æœƒè©±: 4170f594-3810-41a0-96c5-31b68b9960e0
2025-10-14 02:13:20 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 1
2025-10-14 02:13:20 - s_cbr.SpiralEngine - INFO - ğŸŒ€ åŸ·è¡Œç¬¬ 1 è¼ªèºæ—‹æ¨ç†
2025-10-14 02:13:20 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª1]:
2025-10-14 02:13:20 - s_cbr.SpiralEngine - INFO -    æ–°å¢: ['å£ä¹¾', 'å¤šå¤¢', 'å¤±çœ ', 'å¿ƒæ‚¸']
2025-10-14 02:13:20 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: ['å£ä¹¾', 'å¤šå¤¢', 'å¤±çœ ', 'å¿ƒæ‚¸']
2025-10-14 02:13:20 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å£ä¹¾', 'å¤šå¤¢', 'å¤±çœ ', 'å¿ƒæ‚¸']
2025-10-14 02:13:21 - s_cbr.SpiralEngine - INFO - ğŸ§­ ç”Ÿæˆå‘é‡: dim=1024
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬1è¼ª]:
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=4, è¦†è“‹ç‡=0.00
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.500, è¼ªæ¬¡Î±=0.385
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.386
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.3860157825151629, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.3860157825151629, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3860157825151629, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.30881262601213033, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:13:21 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-10-14 02:13:21 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-10-14 02:13:21 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-10-14 02:13:21 - s_cbr.DiscriminativeWeights - INFO - ğŸ¯ ç—‡ç‹€é‘‘åˆ¥æ¬Šé‡: 0 å€‹ç—‡ç‹€ç²å¾—åŠ æ¬Š
2025-10-14 02:13:21 - s_cbr.DiscriminativeWeights - INFO - âœ… é‘‘åˆ¥æ¬Šé‡æ‡‰ç”¨å®Œæˆ:
2025-10-14 02:13:21 - s_cbr.DiscriminativeWeights - INFO -    ç—‡ç‹€åŠ æ¬Š: 0 å€‹
2025-10-14 02:13:21 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥æ‡²ç½°: 0 å°
2025-10-14 02:13:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4170f594-3810-41a0-96c5-31b68b9960e0 æ”¶æ–‚åº¦: 0.402
2025-10-14 02:13:23 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4170f594-3810-41a0-96c5-31b68b9960e0 æ”¶æ–‚åº¦: 0.402
2025-10-14 02:13:23 - s_cbr.ConvergenceMetrics - INFO - æœªé”æœ€å°è¼ªæ¬¡ 2
2025-10-14 02:13:23 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 1 è¼ªçµæœåˆ°æœƒè©± 4170f594-3810-41a0-96c5-31b68b9960e0
2025-10-14 02:13:23 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251014-021320-3102a873] è€—æ™‚: 3.12s
2025-10-14 02:13:23 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 1, å¯ç¹¼çºŒ: True
2025-10-14 02:13:56 - s_cbr.backend.main - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [ç›¸å®¹æ¨¡å¼] å•é¡Œ: è£œå……æ¢ä»¶ï¼šè£œå……æ¢ä»¶ï¼šå£ä¹¾æƒ³å–æº«æ°´ï¼Œæ™šä¸Šæ‰‹è…³æœƒå¾®æ¶¼ä½†èƒ¸å£æ‚¶ç†±ï¼ŒèˆŒè³ªæ·¡ç´…èˆŒå°–åç´…ï¼Œè‹”è–„ç™½ï¼Œè…°æœ‰é»ç— ã€‚
2025-10-14 02:13:56 - s_cbr.SCBREngine - INFO - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20251014-021356-27fc49fe]
2025-10-14 02:13:56 - s_cbr.SCBREngine - INFO -    å•é¡Œ: è£œå……æ¢ä»¶ï¼šè£œå……æ¢ä»¶ï¼šå£ä¹¾æƒ³å–æº«æ°´ï¼Œæ™šä¸Šæ‰‹è…³æœƒå¾®æ¶¼ä½†èƒ¸å£æ‚¶ç†±ï¼ŒèˆŒè³ªæ·¡ç´…èˆŒå°–åç´…ï¼Œè‹”è–„ç™½ï¼Œè…°æœ‰é»ç— ã€‚...
2025-10-14 02:13:56 - s_cbr.SCBREngine - INFO -    session_id: 4170f594-3810-41a0-96c5-31b68b9960e0
2025-10-14 02:13:56 - s_cbr.SCBREngine - INFO -    continue_spiral: True
2025-10-14 02:13:56 - s_cbr.SCBREngine - INFO - ğŸ“ æª¢æ¸¬åˆ°è£œå……æ¢ä»¶ï¼Œè‡ªå‹•è¨­ç½® continue_spiral=True
2025-10-14 02:13:56 - s_cbr.DialogManager - INFO - â• æ·»åŠ å•é¡Œåˆ°æœƒè©± 4170f594-3810-41a0-96c5-31b68b9960e0: è£œå……æ¢ä»¶ï¼šè£œå……æ¢ä»¶ï¼šå£ä¹¾æƒ³å–æº«æ°´ï¼Œæ™šä¸Šæ‰‹è…³æœƒå¾®æ¶¼ä½†èƒ¸å£æ‚¶ç†±ï¼ŒèˆŒè³ªæ·¡ç´…èˆŒå°–åç´…ï¼Œè‹”è–„ç™½ï¼Œè…°æœ‰é»ç— ã€‚...
2025-10-14 02:13:56 - s_cbr.SCBREngine - INFO - â• ç¹¼çºŒæœƒè©±: 4170f594-3810-41a0-96c5-31b68b9960e0
2025-10-14 02:13:56 - s_cbr.SCBREngine - INFO - ğŸ”¢ ç•¶å‰è¼ªæ¬¡: 2
2025-10-14 02:13:56 - s_cbr.SpiralEngine - INFO - ğŸŒ€ åŸ·è¡Œç¬¬ 2 è¼ªèºæ—‹æ¨ç†
2025-10-14 02:13:56 - s_cbr.SpiralEngine - INFO - ğŸ“‹ ç—‡ç‹€è¿½è¹¤ [è¼ª2]:
2025-10-14 02:13:56 - s_cbr.SpiralEngine - INFO -    æ–°å¢: []
2025-10-14 02:13:56 - s_cbr.SpiralEngine - INFO -    ç´¯ç©: ['å¤šå¤¢', 'å¤±çœ ', 'å£ä¹¾', 'å¿ƒæ‚¸']
2025-10-14 02:13:56 - s_cbr.SpiralEngine - INFO -    æ ¸å¿ƒ: ['å£ä¹¾', 'å¤šå¤¢', 'å¤±çœ ', 'å¿ƒæ‚¸']
2025-10-14 02:13:57 - s_cbr.SpiralEngine - INFO - ğŸ§­ ç”Ÿæˆå‘é‡: dim=1024
2025-10-14 02:13:57 - s_cbr.DynamicRetrieval - INFO -    âš ï¸  Coverage=0.00 < 0.4ï¼Œé™ä½ Î±
2025-10-14 02:13:57 - s_cbr.DynamicRetrieval - INFO - ğŸ¯ å‹•æ…‹ Î± è¨ˆç®— [ç¬¬2è¼ª]:
2025-10-14 02:13:57 - s_cbr.DynamicRetrieval - INFO -    ç—‡ç‹€æ•¸=4, è¦†è“‹ç‡=0.00
2025-10-14 02:13:57 - s_cbr.DynamicRetrieval - INFO -    åŸºç¤Î±=0.500, è¼ªæ¬¡Î±=0.578
2025-10-14 02:13:57 - s_cbr.DynamicRetrieval - INFO -    æœ€çµ‚Î±=0.451
2025-10-14 02:13:57 - s_cbr.SearchEngine - INFO - ğŸ” TCMCase HYBRID Î±=0.4514797641610306, qdim=1024, fields=['symptom_terms', 'syndrome_terms', 'pulse_terms'], props=['case_id', 'diagnosis', 'symptom_terms', 'syndrome_terms']
2025-10-14 02:13:57 - s_cbr.SearchEngine - INFO - ğŸ“Š TCMCase æœç´¢: 30 å€‹çµæœ
2025-10-14 02:13:57 - s_cbr.SearchEngine - INFO - ğŸ” PulsePJ HYBRID Î±=0.4514797641610306, qdim=1024, fields=['bm25_cjk'], props=['pid', 'name', 'symptoms']
2025-10-14 02:13:58 - s_cbr.SearchEngine - INFO - ğŸ“Š PulsePJ æœç´¢: 28 å€‹çµæœ
2025-10-14 02:13:58 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.4514797641610306, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:13:58 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”„ RPCase ç‚ºç©ºä¸”è¦†è“‹ç‡ä½ï¼Œé™ä½ Î± é‡æœ
2025-10-14 02:13:58 - s_cbr.SearchEngine - INFO - ğŸ” RPCase HYBRID Î±=0.3611838113288245, qdim=1024, fields=['bm25_text'], props=['final_diagnosis', 'symptom_tags']
2025-10-14 02:13:58 - s_cbr.SearchEngine - INFO - ğŸ“Š RPCase æœç´¢: 0 å€‹çµæœ
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 30 å€‹çµæœ
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 1 å€‹çµæœ
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO - ğŸ”€ RRF èåˆ: 1 å€‹æ’åº â†’ 0 å€‹çµæœ
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 30 â†’ 10 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO - ğŸ¨ MMR é‡æ’: 1 â†’ 1 å€‹ï¼ˆÎ»=0.7ï¼‰
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO - âœ… å„ªåŒ–æª¢ç´¢å®Œæˆ:
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO -    TCMCase: 30 â†’ 10
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO -    PulsePJ: 28 â†’ 1
2025-10-14 02:13:58 - s_cbr.DynamicRetrieval - INFO -    RPCase: 0 â†’ 0
2025-10-14 02:13:58 - s_cbr.SpiralEngine - INFO - ğŸ“Š å„ªåŒ–æª¢ç´¢çµæœ - Case: 10, Pulse: 1, RPCase: 0
2025-10-14 02:13:58 - s_cbr.DiscriminativeWeights - INFO - ğŸ¯ ç—‡ç‹€é‘‘åˆ¥æ¬Šé‡: 0 å€‹ç—‡ç‹€ç²å¾—åŠ æ¬Š
2025-10-14 02:13:58 - s_cbr.DiscriminativeWeights - INFO - âœ… é‘‘åˆ¥æ¬Šé‡æ‡‰ç”¨å®Œæˆ:
2025-10-14 02:13:58 - s_cbr.DiscriminativeWeights - INFO -    ç—‡ç‹€åŠ æ¬Š: 0 å€‹
2025-10-14 02:13:58 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥æ‡²ç½°: 0 å°
2025-10-14 02:14:00 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4170f594-3810-41a0-96c5-31b68b9960e0 æ”¶æ–‚åº¦: 0.693
2025-10-14 02:14:00 - s_cbr.ConvergenceMetrics - INFO - ğŸ“ˆ æœƒè©± 4170f594-3810-41a0-96c5-31b68b9960e0 æ”¶æ–‚åº¦: 0.693
2025-10-14 02:14:00 - s_cbr.ConvergenceMetrics - INFO - âœ… æ¡ˆä¾‹ç©©å®šä¸”åˆ†æ•¸ä¸å†æå‡ï¼Œåœæ­¢æ¨ç†
2025-10-14 02:14:00 - s_cbr.DialogManager - INFO - ğŸ“Š è¨˜éŒ„ç¬¬ 2 è¼ªçµæœåˆ°æœƒè©± 4170f594-3810-41a0-96c5-31b68b9960e0
2025-10-14 02:14:00 - s_cbr.SCBREngine - INFO - ğŸ’¾ æ²»ç™‚æœ‰æ•ˆï¼Œå¯å„²å­˜ç‚º RPCase
2025-10-14 02:14:00 - s_cbr.SCBREngine - INFO - âœ… è¨ºæ–·å®Œæˆ [SCBR-20251014-021356-27fc49fe] è€—æ™‚: 3.78s
2025-10-14 02:14:00 - s_cbr.SCBREngine - INFO -    è¼ªæ¬¡: 2, å¯ç¹¼çºŒ: False
2025-10-14 10:12:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:12:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:12:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:12:51 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:12:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:12:52 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:12:52 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:12:52 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:12:55 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:12:55 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:12:56 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:12:56 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:12:56 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:12:56 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:12:56 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:12:56 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:12:56 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:12:56 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:12:56 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:12:56 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:12:56 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:12:56 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:12:56 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:12:56 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:12:56 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:12:56 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:12:56 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:12:56 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:12:56 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:12:56 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:12:56 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:12:56 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:12:56 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:12:56 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:12:56 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:12:56 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:12:56 - s_cbr.backend.main - INFO - 
2025-10-14 10:12:56 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:12:56 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:12:56 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:12:57 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:12:57 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:12:58 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:12:58 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:13:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:13:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:13:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:13:09 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:13:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:13:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:13:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:13:09 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:13:12 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:13:12 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:13:13 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:13:13 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:13:13 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:13:13 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:13:13 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:13:13 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:13:13 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:13:13 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:13:13 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:13:13 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:13:13 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:13:13 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:13:13 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:13:13 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:13:13 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:13:13 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:13:13 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:13:13 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:13:13 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:13:13 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:13:13 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:13:13 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:13:13 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:13:13 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:13:13 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:13:13 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:13:13 - s_cbr.backend.main - INFO - 
2025-10-14 10:13:13 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:13:13 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:13:13 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:13:14 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:13:14 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:13:14 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:13:14 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:19:13 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:19:13 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:19:13 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:19:13 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:19:13 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:19:13 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:19:13 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:19:13 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:19:16 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:19:16 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:19:17 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:19:17 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:19:17 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:19:17 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:19:17 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:19:17 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:19:17 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:17 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:17 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:17 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:17 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:19:17 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:19:17 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:19:17 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:19:17 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:19:17 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:19:17 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:19:17 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:19:17 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:19:17 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:17 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:17 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:17 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:17 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:19:17 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:19:17 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:19:17 - s_cbr.backend.main - INFO - 
2025-10-14 10:19:17 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:19:17 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:19:17 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:19:18 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:19:18 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:19:18 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:19:18 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:19:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:19:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:19:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:19:38 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:19:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:19:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:19:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:19:38 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:19:42 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:19:42 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:19:43 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:19:43 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:19:43 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:19:43 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:19:43 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:19:43 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:19:43 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:43 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:43 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:43 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:43 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:19:43 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:19:43 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:19:43 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:19:43 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:19:43 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:19:43 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:19:43 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:19:43 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:19:43 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:19:43 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:43 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:43 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:19:43 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:19:43 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:19:43 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:19:43 - s_cbr.backend.main - INFO - 
2025-10-14 10:19:43 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:19:43 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:19:43 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:19:44 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:19:44 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:19:44 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:19:44 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:19:58 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:19:58 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:19:58 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:19:58 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:19:58 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:19:58 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:19:58 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:19:58 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:20:01 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:20:01 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:20:02 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:20:02 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:20:02 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:20:02 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:20:02 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:20:02 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:20:02 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:20:02 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:20:02 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:20:02 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:20:02 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:20:02 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:20:02 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:20:02 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:20:02 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:20:02 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:20:02 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:20:02 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:20:02 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:20:02 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:20:02 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:20:02 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:20:02 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:20:02 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:20:02 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:20:02 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:20:02 - s_cbr.backend.main - INFO - 
2025-10-14 10:20:02 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:20:02 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:20:02 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:20:03 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:20:03 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:20:03 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:20:03 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:23:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:23:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:23:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:23:02 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:23:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:23:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:23:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:23:02 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:25:03 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:25:03 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:25:03 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:25:03 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:25:03 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:25:03 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:25:03 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:25:03 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:25:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:25:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:25:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:25:44 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:25:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:25:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:25:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:25:44 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:25:47 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:25:47 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:25:48 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:25:48 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:25:48 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:25:48 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:25:48 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:25:48 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:25:48 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:25:48 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:25:48 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:25:48 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:25:48 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:25:48 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:25:48 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:25:48 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:25:48 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:25:48 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:25:48 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:25:48 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:25:48 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:25:48 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:25:48 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:25:48 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:25:48 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:25:48 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:25:48 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:25:48 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:25:48 - s_cbr.backend.main - INFO - 
2025-10-14 10:25:48 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:25:48 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:25:48 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:25:49 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:25:49 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:25:49 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:25:49 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:33 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:27:33 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:27:33 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:27:33 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:27:33 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:27:33 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:27:33 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:27:33 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:27:36 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:27:36 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:37 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:27:37 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:27:37 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:37 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:27:37 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:27:37 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:27:37 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:27:37 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:27:37 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:27:37 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:27:37 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:27:37 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:27:37 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:27:37 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:27:37 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:27:37 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:37 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:37 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:27:37 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:37 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:37 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:38 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:27:38 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:38 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:27:38 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:27:38 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:38 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:27:38 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:27:38 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:27:38 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:27:38 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:27:38 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:27:38 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:27:38 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:27:38 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:27:38 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:27:38 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:27:38 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:27:38 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:38 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:38 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:27:38 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:38 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:38 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:27:38 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:27:38 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:27:38 - s_cbr.backend.main - INFO - 
2025-10-14 10:27:38 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:27:38 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:27:38 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:27:38 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:27:39 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:27:39 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:27:39 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:27:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:27:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:27:43 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:27:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:27:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:27:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:27:43 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:27:47 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:27:47 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:48 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:27:48 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:27:48 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:27:48 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:27:48 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:27:48 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:27:48 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:48 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:48 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:48 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:48 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:27:48 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:48 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:27:48 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:27:48 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:27:48 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:27:48 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:27:48 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:27:48 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:27:48 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:48 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:27:48 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:48 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:48 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:27:48 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:27:48 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:27:48 - s_cbr.backend.main - INFO - 
2025-10-14 10:27:48 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:27:48 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:27:48 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:27:49 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:27:49 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:27:49 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:27:49 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:27:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:27:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:27:50 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:27:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:27:50 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:27:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:27:51 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:27:54 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:27:54 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:55 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:27:55 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:27:55 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:27:55 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:27:55 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:27:55 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:27:55 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:55 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:55 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:55 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:55 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:27:55 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:27:55 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:27:55 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:27:55 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:27:55 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:27:55 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:27:55 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:27:55 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:27:55 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:55 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:27:55 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:55 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:27:55 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:27:55 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:27:55 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:27:55 - s_cbr.backend.main - INFO - 
2025-10-14 10:27:55 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:27:55 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:27:55 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:27:56 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:27:56 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:27:57 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:27:57 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:28:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:28:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:28:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:28:53 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:28:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:28:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:28:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:28:53 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:28:56 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:28:56 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:28:57 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:28:57 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:28:57 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:28:57 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:28:57 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:28:57 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:28:57 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:28:57 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:28:57 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:28:57 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:28:57 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:28:57 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:28:57 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:28:57 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:28:57 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:28:57 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:28:57 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:28:57 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:28:57 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:28:57 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:28:57 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-10-14 10:28:57 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:28:57 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:28:57 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:28:57 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:28:57 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:28:57 - s_cbr.backend.main - INFO - 
2025-10-14 10:28:57 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:28:57 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:28:57 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:28:58 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:28:58 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:28:58 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:28:58 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:30:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥è­‰å‹è¦å‰‡: 12 ç¨®
2025-10-14 10:30:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥é«”è³ªåˆ†é¡: 9 ç¨®
2025-10-14 10:30:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥ç—…æ©Ÿæ¨¡å¼åº«
2025-10-14 10:30:36 - s_cbr.KnowledgeLoader - INFO - âœ… è¼‰å…¥æ²»å‰‡æ²»æ³•åº«
2025-10-14 10:30:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥åœç”¨è©: 39 å€‹
2025-10-14 10:30:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥ TCM é—œéµè©: 85 å€‹
2025-10-14 10:30:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… è¼‰å…¥è­‰å‹é—œéµè©: 12 ç¨®
2025-10-14 10:30:36 - s_cbr.knowledge.TCMConfig - INFO - âœ… TCM é…ç½®è¼‰å…¥æˆåŠŸ
2025-10-14 10:30:39 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:30:39 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:30:40 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:30:40 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:30:40 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:30:40 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:30:40 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:30:40 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:30:40 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:30:40 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:30:40 - s_cbr.DialogManager - INFO - å°è©±ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:30:40 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:30:40 - s_cbr.SearchEngine - INFO - [SearchEngine] Connected to Weaviate
2025-10-14 10:30:40 - s_cbr.SpiralEngine - INFO - âœ… LLM å®¢æˆ¶ç«¯åˆå§‹åŒ–æˆåŠŸ
2025-10-14 10:30:40 - s_cbr.TextProcessor - INFO - âœ… è¼‰å…¥ jieba è©å…¸: 287 å€‹è©æ¢
2025-10-14 10:30:40 - s_cbr.TextProcessor - INFO -    è©å…¸è·¯å¾‘: C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\anc\tcm_jieba_dict.txt
2025-10-14 10:30:40 - s_cbr.DynamicRetrieval - INFO - âœ… å‹•æ…‹æª¢ç´¢å„ªåŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.DynamicRetrieval - INFO -    æ¬„ä½æ¬Šé‡: {'symptom_terms': 1.0, 'pulse_terms': 1.2, 'tongue_terms': 1.2, 'zangfu_terms': 0.9, 'syndrome_terms': 1.1, 'jieba_tokens': 0.6}
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO - âœ… é«˜é‘‘åˆ¥æ¬Šé‡ç³»çµ±åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    èˆŒè„ˆé—œéµè©: 92 å€‹
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    äº’æ–¥å°: 15 å°
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    é«˜é‘‘åˆ¥ç—‡ç‹€: 104 å€‹
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    ä¸­ç­‰é‘‘åˆ¥ç—‡ç‹€: 28 å€‹
2025-10-14 10:30:40 - s_cbr.DiscriminativeWeights - INFO -    ä½é‘‘åˆ¥ç—‡ç‹€: 12 å€‹
2025-10-14 10:30:40 - s_cbr.TemporalSmoother - INFO - âœ… è­‰å‹æ™‚é–“å¹³æ»‘å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.TemporalSmoother - INFO -    å¹³æ»‘ä¿‚æ•¸: ç•¶å‰=0.6, æ­·å²=0.4
2025-10-14 10:30:40 - s_cbr.QueryExpander - INFO - âœ… æŸ¥è©¢æ“´å……å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.QueryExpander - INFO -    åŒç¾©è©æ˜ å°„: 21 çµ„
2025-10-14 10:30:40 - s_cbr.QueryExpander - INFO -    ä¸­é†«æ˜ å°„: 15 çµ„
2025-10-14 10:30:40 - s_cbr.OutputFormatter - INFO - âœ… è¼¸å‡ºæ ¼å¼åŒ–å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.ConvergenceMetrics - INFO - æ”¶æ–‚åº¦è¨ˆç®—å™¨åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:30:40 - s_cbr.PatternDiagnosis - INFO - âœ… è¾¨è­‰-è¨ºæ–·é›™å±¤æ¨ç†å™¨åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.ContextFuser - INFO - âœ… Context Fuser åˆå§‹åŒ–
2025-10-14 10:30:40 - s_cbr.SpiralEngine - INFO - èºæ—‹æ¨ç†å¼•æ“åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:30:40 - s_cbr.SCBREngine - INFO - âœ… S-CBR Engine åˆå§‹åŒ–å®Œæˆ
2025-10-14 10:30:40 - s_cbr.backend.main - INFO - ğŸš€ TCM S-CBR Backend v2.2 å•Ÿå‹•
2025-10-14 10:30:40 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:30:40 - s_cbr.backend.main - INFO - ğŸ“¦ å·²è¼‰å…¥æ¨¡çµ„:
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    âœ… S-CBR èºæ—‹æ¨ç†å¼•æ“
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    âœ… ANC ç—…ä¾‹ç®¡ç†ç³»çµ±
2025-10-14 10:30:40 - s_cbr.backend.main - INFO - 
2025-10-14 10:30:40 - s_cbr.backend.main - INFO - ğŸ”— å¯ç”¨ç«¯é»:
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    - èºæ—‹æ¨ç†: /api/scbr/v2/*
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹ä¿å­˜: POST /api/case/save
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æŸ¥è©¢: GET /api/case/get/{case_id}
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹æœç´¢: POST /api/case/search
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    - ç—…ä¾‹çµ±è¨ˆ: GET /api/case/stats
2025-10-14 10:30:40 - s_cbr.backend.main - INFO -    - å¥åº·æª¢æŸ¥: GET /healthz
2025-10-14 10:30:40 - s_cbr.backend.main - INFO - ============================================================
2025-10-14 10:30:41 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/meta "HTTP/1.1 200 OK"
2025-10-14 10:30:41 - httpx - INFO - HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-10-14 10:30:41 - httpx - INFO - HTTP Request: GET http://localhost:8080/v1/schema/TCMCase "HTTP/1.1 200 OK"
2025-10-14 10:30:41 - s_cbr.backend.main - INFO - âœ… ANC ç—…ä¾‹è™•ç†å™¨åˆå§‹åŒ–æˆåŠŸ
