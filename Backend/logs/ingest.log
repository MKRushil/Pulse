2025-09-23 01:01:47,675 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:01:47,679 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:01:47,679 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:01:52,510 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:01:52,540 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:01:52,540 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:01:52,541 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:01:52,541 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:01:52,541 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:01:52,543 [INFO] backend.main - Application startup completed.
2025-09-23 01:03:48,729 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:03:48,729 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:03:48,729 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:03:52,458 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:03:52,462 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:03:52,462 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:03:52,463 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:03:52,463 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:03:52,463 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:03:52,463 [INFO] backend.main - Application startup completed.
2025-09-23 01:04:20,471 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:04:20,471 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:04:20,471 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:04:23,912 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:04:23,918 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:04:23,919 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:04:23,919 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:04:23,919 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:04:23,919 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:04:23,919 [INFO] backend.main - Application startup completed.
2025-09-23 01:04:36,716 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:04:36,716 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:04:36,716 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:04:40,183 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:04:40,187 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:04:40,188 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:04:40,188 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:04:40,188 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:04:40,188 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:04:40,188 [INFO] backend.main - Application startup completed.
2025-09-23 01:05:34,553 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:05:34,553 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:05:34,553 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:05:37,974 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:05:37,980 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:05:37,980 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:05:37,980 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:05:37,981 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:05:37,981 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:05:37,981 [INFO] backend.main - Application startup completed.
2025-09-23 01:05:45,739 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:05:45,739 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:05:45,739 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:05:48,764 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:05:48,769 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:05:48,769 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:05:48,769 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:05:48,769 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:05:48,769 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:05:48,769 [INFO] backend.main - Application startup completed.
2025-09-23 01:07:26,903 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:07:26,903 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:07:26,903 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:07:30,209 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:07:30,216 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:07:30,216 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:07:30,216 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:07:30,216 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:07:30,216 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:07:30,216 [INFO] backend.main - Application startup completed.
2025-09-23 01:08:35,708 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:08:35,708 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:08:35,708 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:08:39,219 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:08:39,224 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:08:39,224 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:08:39,225 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:08:39,225 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:08:39,225 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:08:39,225 [INFO] backend.main - Application startup completed.
2025-09-23 01:08:56,578 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:08:56,579 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:08:56,579 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:08:59,966 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:08:59,971 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:08:59,972 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:08:59,972 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:08:59,972 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:08:59,972 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:08:59,972 [INFO] backend.main - Application startup completed.
2025-09-23 01:09:21,949 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:09:21,949 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:09:21,950 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:09:25,113 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:09:25,118 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:09:25,118 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:09:25,118 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:09:25,118 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:09:25,119 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:09:25,119 [INFO] backend.main - Application startup completed.
2025-09-23 01:09:38,953 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:09:38,953 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:09:38,953 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:09:42,386 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:09:42,390 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:09:42,390 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:09:42,390 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:09:42,390 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:09:42,390 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:09:42,390 [INFO] backend.main - Application startup completed.
2025-09-23 01:09:48,330 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:09:48,330 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:09:48,331 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:09:51,700 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:09:51,705 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:09:51,705 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:09:51,706 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:09:51,706 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:09:51,706 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:09:51,706 [INFO] backend.main - Application startup completed.
2025-09-23 01:10:35,835 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:10:35,836 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:10:35,836 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:10:39,628 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:10:39,633 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:10:39,633 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:10:39,633 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:10:39,633 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:10:39,633 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:10:39,633 [INFO] backend.main - Application startup completed.
2025-09-23 01:11:29,949 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:11:29,949 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:11:29,950 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:11:33,384 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:11:33,387 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:11:33,387 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:11:33,387 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:11:33,387 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:11:33,387 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:11:33,388 [INFO] backend.main - Application startup completed.
2025-09-23 01:12:00,446 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:12:00,446 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:12:00,446 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:12:03,751 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:12:03,755 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:12:03,755 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:12:03,755 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:12:03,755 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:12:03,756 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:12:03,756 [INFO] backend.main - Application startup completed.
2025-09-23 01:12:50,219 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:12:50,219 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:12:50,219 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:12:53,552 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:12:53,556 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:12:53,556 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:12:53,556 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:12:53,556 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:12:53,556 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:12:53,556 [INFO] backend.main - Application startup completed.
2025-09-23 01:14:55,521 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:14:55,521 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:14:55,521 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:14:59,299 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:14:59,305 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:14:59,305 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:14:59,305 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:14:59,305 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:14:59,305 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:14:59,306 [INFO] backend.main - Application startup completed.
2025-09-23 01:16:25,710 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:16:25,710 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:16:25,710 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:16:29,082 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:16:29,085 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:16:29,085 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:16:29,085 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:16:29,085 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:16:29,085 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:16:29,085 [INFO] backend.main - Application startup completed.
2025-09-23 01:20:57,297 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:20:57,297 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:20:57,297 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:21:00,487 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:21:00,492 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:21:00,492 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:21:00,492 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:21:00,492 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:21:00,492 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:21:00,492 [INFO] backend.main - Application startup completed.
2025-09-23 01:21:31,621 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:21:31,621 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:21:31,621 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:21:34,925 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:21:34,928 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:21:34,928 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:21:34,928 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:21:34,928 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:21:34,928 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:21:34,928 [INFO] backend.main - Application startup completed.
2025-09-23 01:27:14,518 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:27:14,519 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:27:14,519 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:27:17,652 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:27:17,656 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:27:17,657 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:27:17,657 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:27:17,657 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:27:17,657 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:27:17,657 [INFO] backend.main - Application startup completed.
2025-09-23 01:27:35,239 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:27:35,239 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:27:35,240 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:27:38,275 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:27:38,280 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:27:38,280 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:27:38,281 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:27:38,281 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:27:38,281 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:27:38,281 [INFO] backend.main - Application startup completed.
2025-09-23 01:28:41,026 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:28:41,026 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:28:41,026 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:28:44,289 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:28:44,295 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:28:44,295 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:28:44,295 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:28:44,295 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:28:44,296 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:28:44,296 [INFO] backend.main - Application startup completed.
2025-09-23 01:33:26,863 [INFO] backend.main - 📝 收到新增病例請求: unknown
2025-09-23 01:33:26,864 [INFO] cases.case_storage - [20250923_013326_8636] [1/4 save] saved original file=20250923_013326_8636.json
2025-09-23 01:33:26,864 [INFO] cases.normalizer - [normalize] de-identified view ready gender=男 age=67
2025-09-23 01:33:26,864 [INFO] cases.case_storage - [normalize] de-identified view ready gender=男 age=67
2025-09-23 01:33:26,864 [INFO] cases.case_storage - [20250923_013326_8636] [2/4 normalize] gender=男 age=67
2025-09-23 01:33:26,878 [INFO] cases.case_diagnosis - [rulebook] loaded path=C:\work\系統-中醫\Pulse-project\Backend\prompt\tcm_rulebook_v1.1.json version=1.1 rules=520
2025-09-23 01:33:28,349 [INFO] vector.embedding - ✅ NVIDIA Embedding 成功生成 1024 維向量
2025-09-23 01:33:28,350 [INFO] cases.case_storage - [20250923_013326_8636] [3/4 triage] main=['心肝血虛'] sub=[]
2025-09-23 01:33:28,397 [INFO] vector.uploader - [20250923_013326_8636] [4/4 upload] age before send: value=67 type=int → send as str='67'
2025-09-23 01:33:28,397 [INFO] vector.uploader - [20250923_013326_8636] [4/4 upload] prepare record
2025-09-23 01:33:28,449 [ERROR] cases.case_storage - [20250923_013326_8636] [4/4 upload] failed: Creating object! Unexpected status code: 500, with response body: {'error': [{'message': 'put object: import into index case: put local object: shard="ZmJ2sPr9qHQx": store object in LSM store: Validate vector index for d327d41d-bf4f-441e-a262-0f880826316f: new node has a vector with length 1024. Existing nodes have vectors with length 384'}]}.
Traceback (most recent call last):
  File "C:\work\系統-中醫\Pulse-project\Backend\cases\case_storage.py", line 71, in save_case_data
    case_id = upload_case_vector(view=view, diag=diag, file_path=data_path, req_id=req_id)
  File "C:\work\系統-中醫\Pulse-project\Backend\vector\uploader.py", line 119, in upload_case_vector
    client.data_object.create(data_object=obj, class_name=CLASS_NAME, vector=emb)
  File "C:\Users\a0970\anaconda3\envs\Rag\lib\site-packages\weaviate\data\crud_data.py", line 159, in create
    raise UnexpectedStatusCodeException("Creating object", response)
weaviate.exceptions.UnexpectedStatusCodeException: Creating object! Unexpected status code: 500, with response body: {'error': [{'message': 'put object: import into index case: put local object: shard="ZmJ2sPr9qHQx": store object in LSM store: Validate vector index for d327d41d-bf4f-441e-a262-0f880826316f: new node has a vector with length 1024. Existing nodes have vectors with length 384'}]}.
2025-09-23 01:33:28,451 [ERROR] backend.main - ❌ 病例存儲失敗: None
2025-09-23 01:37:52,233 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:37:52,233 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:37:52,233 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:37:55,656 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:37:55,663 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:37:55,664 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:37:55,664 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:37:55,664 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:37:55,664 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:37:55,664 [INFO] backend.main - Application startup completed.
2025-09-23 01:38:11,175 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:38:11,175 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:38:11,175 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:38:14,718 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:38:14,723 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:38:14,723 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:38:14,723 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:38:14,723 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:38:14,724 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:38:14,724 [INFO] backend.main - Application startup completed.
2025-09-23 01:38:27,029 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:38:27,029 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:38:27,029 [INFO] backend.main - 🔻 Application shutdown completed.
2025-09-23 01:38:30,193 [INFO] backend.main - ✅ S-CBR v2.0 螺旋推理模組載入成功
2025-09-23 01:38:30,198 [INFO] backend.main - 🚀 TCM S-CBR Backend v2.0 啟動
2025-09-23 01:38:30,198 [INFO] backend.main -    - S-CBR 螺旋推理引擎: ✅ 已載入
2025-09-23 01:38:30,198 [INFO] backend.main -    - API 端點 /api/query: ✅ 可用
2025-09-23 01:38:30,198 [INFO] backend.main -    - 病例存儲 /api/case/save: ✅ 可用
2025-09-23 01:38:30,198 [INFO] backend.main -    - 健康檢查 /healthz: ✅ 可用
2025-09-23 01:38:30,198 [INFO] backend.main - Application startup completed.
2025-09-23 01:38:39,694 [INFO] backend.main - 🔄 正在關閉應用程式...
2025-09-23 01:38:39,694 [INFO] backend.main -    - S-CBR 資源清理: ✅ 完成
2025-09-23 01:38:39,694 [INFO] backend.main - 🔻 Application shutdown completed.
