2025-09-29 00:02:41,884 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:02:41,887 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:02:41,887 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:02:45,444 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:02:45,449 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:02:45,449 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:02:45,449 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:02:45,449 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:02:45,449 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:02:45,451 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:02:45,451 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:02:45,451 [INFO] backend.main - Application startup completed.
2025-09-29 00:05:31,714 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:05:31,715 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:05:31,715 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:05:35,398 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:05:35,401 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:05:35,402 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:05:35,402 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:05:35,402 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:05:35,402 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:05:35,402 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:05:35,402 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:05:35,402 [INFO] backend.main - Application startup completed.
2025-09-29 00:07:08,160 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:07:08,161 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:07:08,161 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:07:11,456 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:07:11,461 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:07:11,461 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:07:11,461 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:07:11,462 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:07:11,462 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:07:11,462 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:07:11,462 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:07:11,463 [INFO] backend.main - Application startup completed.
2025-09-29 00:07:34,812 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:07:34,812 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:07:34,812 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:07:45,986 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:07:45,989 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:07:45,989 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:07:45,989 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:07:45,990 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:07:45,991 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:07:45,991 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:07:45,991 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:07:45,991 [INFO] backend.main - Application startup completed.
2025-09-29 00:07:54,801 [ERROR] backend.main - /api/query payload debug type=dict, keys=['question', 'session_id', 'continue', 'patient_ctx']
2025-09-29 00:07:54,803 [INFO] s_cbr.SCBREngine - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20250929-000754-42b677d4] å•é¡Œ: æ‚£è€… 67 æ­² ç”·ï¼Œå¤±çœ å¤šå¤¢ï¼Œå·¦å¯¸è„ˆé²
2025-09-29 00:07:54,803 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: 21e4de1e8e044786846afeb30568c74c
2025-09-29 00:07:54,803 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: 21e4de1e8e044786846afeb30568c74c
2025-09-29 00:07:54,804 [INFO] s_cbr.DialogManager - ç¹¼çºŒæœƒè©±: 21e4de1e8e044786846afeb30568c74c
2025-09-29 00:07:57,096 [INFO] s_cbr.SpiralEngine - ğŸ§­ q_vector: dim=1024
2025-09-29 00:07:57,097 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-GraphQL property names: ['è¾¨è­‰', 'ä¸»è¨ºæ–·', 'è­‰å‹', 'è­‰å€™', 'è­‰å']
2025-09-29 00:07:57,128 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-schema property names for Case: ['case_id', 'diagnosis', 'syndrome', 'pattern', 'gender', 'sex', 'age', 'pulse', 'maixiang', 'symptoms', 'chief_complaint', 'subjective', 'objective', 'assessment', 'tongue', 'coating', 'history', 'notes', 'source']
2025-09-29 00:07:57,128 [INFO] s_cbr.SearchEngine - ğŸ” Case HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:07:57,129 [INFO] s_cbr.SearchEngine - â†ª return props=['diagnosis_main', 'pulse_text']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:07:57,194 [INFO] s_cbr.SearchEngine - ğŸ“Š Case æœç´¢: 20 å€‹çµæœ
2025-09-29 00:07:57,194 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-GraphQL property names: ['è¾¨è­‰', 'ä¸»è¨ºæ–·', 'è­‰å‹', 'è­‰å€™', 'è­‰å']
2025-09-29 00:07:57,199 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-schema property names for PulsePJV: ['case_id', 'diagnosis_main', 'diagnosis', 'syndrome', 'pattern', 'gender', 'sex', 'age', 'pulse', 'pulse_text', 'maixiang', 'chief_complaint', 'subjective', 'objective', 'assessment', 'tongue', 'coating', 'history', 'notes', 'source']
2025-09-29 00:07:57,199 [INFO] s_cbr.SearchEngine - ğŸ” PulsePJV HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:07:57,199 [INFO] s_cbr.SearchEngine - â†ª return props=['symptoms']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:07:57,264 [INFO] s_cbr.SearchEngine - ğŸ“Š PulsePJV æœç´¢: 20 å€‹çµæœ
2025-09-29 00:07:57,265 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-GraphQL property names: ['è¾¨è­‰', 'ä¸»è¨ºæ–·', 'è­‰å‹', 'è­‰å€™', 'è­‰å']
2025-09-29 00:07:57,267 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-schema property names for RPCase: ['case_id', 'diagnosis_main', 'diagnosis', 'syndrome', 'pattern', 'gender', 'sex', 'age', 'pulse', 'pulse_text', 'maixiang', 'symptoms', 'chief_complaint', 'subjective', 'objective', 'assessment', 'tongue', 'coating', 'history', 'notes', 'source']
2025-09-29 00:07:57,269 [INFO] s_cbr.SearchEngine - ğŸ” RPCase HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:07:57,269 [INFO] s_cbr.SearchEngine - â†ª return props=['final_diagnosis', 'pulse_tags', 'symptom_tags']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:07:57,328 [INFO] s_cbr.SearchEngine - ğŸ“Š RPCase æœç´¢: 3 å€‹çµæœ
2025-09-29 00:07:57,328 [INFO] s_cbr.SpiralEngine - best_case keys (sample): ['_additional', 'diagnosis_main', 'pulse_text', '_confidence', '_attr_score', '_final_score']
2025-09-29 00:07:57,329 [INFO] s_cbr.DialogManager - è¨˜éŒ„è¼ªæ¬¡ 1 çµæœæ–¼ 21e4de1e8e044786846afeb30568c74c
2025-09-29 00:07:57,329 [INFO] s_cbr.SCBREngine - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20250929-000757-6f25cad3] å•é¡Œ: æ‚£è€… 67 æ­² ç”·ï¼Œå¤±çœ å¤šå¤¢ï¼Œå·¦å¯¸è„ˆé²
2025-09-29 00:07:57,329 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: cad9f2bdde8c438da893670aa63bb28c
2025-09-29 00:07:57,329 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: cad9f2bdde8c438da893670aa63bb28c
2025-09-29 00:07:57,329 [INFO] s_cbr.DialogManager - ç¹¼çºŒæœƒè©±: cad9f2bdde8c438da893670aa63bb28c
2025-09-29 00:07:58,681 [INFO] s_cbr.SpiralEngine - ğŸ§­ q_vector: dim=1024
2025-09-29 00:07:58,682 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-GraphQL property names: ['è¾¨è­‰', 'ä¸»è¨ºæ–·', 'è­‰å‹', 'è­‰å€™', 'è­‰å']
2025-09-29 00:07:58,686 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-schema property names for Case: ['case_id', 'diagnosis', 'syndrome', 'pattern', 'gender', 'sex', 'age', 'pulse', 'maixiang', 'symptoms', 'chief_complaint', 'subjective', 'objective', 'assessment', 'tongue', 'coating', 'history', 'notes', 'source']
2025-09-29 00:07:58,686 [INFO] s_cbr.SearchEngine - ğŸ” Case HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:07:58,686 [INFO] s_cbr.SearchEngine - â†ª return props=['diagnosis_main', 'pulse_text']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:07:58,750 [INFO] s_cbr.SearchEngine - ğŸ“Š Case æœç´¢: 20 å€‹çµæœ
2025-09-29 00:07:58,751 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-GraphQL property names: ['è¾¨è­‰', 'ä¸»è¨ºæ–·', 'è­‰å‹', 'è­‰å€™', 'è­‰å']
2025-09-29 00:07:58,755 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-schema property names for PulsePJV: ['case_id', 'diagnosis_main', 'diagnosis', 'syndrome', 'pattern', 'gender', 'sex', 'age', 'pulse', 'pulse_text', 'maixiang', 'chief_complaint', 'subjective', 'objective', 'assessment', 'tongue', 'coating', 'history', 'notes', 'source']
2025-09-29 00:07:58,755 [INFO] s_cbr.SearchEngine - ğŸ” PulsePJV HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:07:58,756 [INFO] s_cbr.SearchEngine - â†ª return props=['symptoms']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:07:58,812 [INFO] s_cbr.SearchEngine - ğŸ“Š PulsePJV æœç´¢: 20 å€‹çµæœ
2025-09-29 00:07:58,814 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-GraphQL property names: ['è¾¨è­‰', 'ä¸»è¨ºæ–·', 'è­‰å‹', 'è­‰å€™', 'è­‰å']
2025-09-29 00:07:58,819 [WARNING] s_cbr.SearchEngine - â†¯ Dropped non-schema property names for RPCase: ['case_id', 'diagnosis_main', 'diagnosis', 'syndrome', 'pattern', 'gender', 'sex', 'age', 'pulse', 'pulse_text', 'maixiang', 'symptoms', 'chief_complaint', 'subjective', 'objective', 'assessment', 'tongue', 'coating', 'history', 'notes', 'source']
2025-09-29 00:07:58,820 [INFO] s_cbr.SearchEngine - ğŸ” RPCase HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:07:58,820 [INFO] s_cbr.SearchEngine - â†ª return props=['final_diagnosis', 'pulse_tags', 'symptom_tags']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:07:58,872 [INFO] s_cbr.SearchEngine - ğŸ“Š RPCase æœç´¢: 3 å€‹çµæœ
2025-09-29 00:07:58,874 [INFO] s_cbr.SpiralEngine - best_case keys (sample): ['_additional', 'diagnosis_main', 'pulse_text', '_confidence', '_attr_score', '_final_score']
2025-09-29 00:07:58,875 [INFO] s_cbr.DialogManager - è¨˜éŒ„è¼ªæ¬¡ 1 çµæœæ–¼ cad9f2bdde8c438da893670aa63bb28c
2025-09-29 00:15:21,047 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:15:21,047 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:15:21,048 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:15:24,864 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:15:24,868 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:15:24,869 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:15:24,869 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:15:24,869 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:15:24,869 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:15:24,869 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:15:24,870 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:15:24,870 [INFO] backend.main - Application startup completed.
2025-09-29 00:30:41,016 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:30:41,016 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:30:41,016 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:30:44,512 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:30:44,515 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:30:44,515 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:30:44,516 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:30:44,516 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:30:44,516 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:30:44,516 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:30:44,516 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:30:44,517 [INFO] backend.main - Application startup completed.
2025-09-29 00:32:09,612 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:32:09,613 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:32:09,613 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:32:13,026 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:32:13,030 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:32:13,030 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:32:13,030 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:32:13,030 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:32:13,030 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:32:13,030 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:32:13,031 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:32:13,031 [INFO] backend.main - Application startup completed.
2025-09-29 00:36:10,432 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:36:10,433 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:36:10,433 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:36:14,175 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:36:14,179 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:36:14,179 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:36:14,179 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:36:14,180 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:36:14,180 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:36:14,180 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:36:14,180 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:36:14,180 [INFO] backend.main - Application startup completed.
2025-09-29 00:42:03,848 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:42:03,848 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:42:03,848 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:42:07,250 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:42:07,254 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:42:07,254 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:42:07,255 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:42:07,255 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:42:07,255 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:42:07,255 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:42:07,255 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:42:07,255 [INFO] backend.main - Application startup completed.
2025-09-29 00:45:03,339 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:45:03,340 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:45:03,340 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:45:06,874 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:45:06,876 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:45:06,876 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:45:06,876 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:45:06,876 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:45:06,876 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:45:06,876 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:45:06,876 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:45:06,877 [INFO] backend.main - Application startup completed.
2025-09-29 00:46:18,677 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:46:18,678 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:46:18,678 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:46:22,068 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:46:22,071 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:46:22,072 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:46:22,072 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:46:22,072 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:46:22,072 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:46:22,072 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:46:22,072 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:46:22,072 [INFO] backend.main - Application startup completed.
2025-09-29 00:50:40,784 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:50:40,784 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:50:40,785 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:50:44,489 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:50:44,494 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:50:44,494 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:50:44,494 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:50:44,495 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:50:44,495 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:50:44,495 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:50:44,496 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:50:44,496 [INFO] backend.main - Application startup completed.
2025-09-29 00:53:46,131 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:53:46,132 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:53:46,132 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:53:49,606 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:53:49,610 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:53:49,610 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:53:49,611 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:53:49,611 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:53:49,611 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:53:49,611 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:53:49,611 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:53:49,611 [INFO] backend.main - Application startup completed.
2025-09-29 00:54:08,733 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:54:08,733 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:54:08,733 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:54:21,549 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:54:21,552 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:54:21,552 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:54:21,552 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:54:21,554 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:54:21,554 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:54:21,554 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:54:21,554 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:54:21,555 [INFO] backend.main - Application startup completed.
2025-09-29 00:55:41,028 [ERROR] backend.main - /api/query payload debug type=dict, keys=['question', 'session_id', 'continue', 'patient_ctx']
2025-09-29 00:55:41,029 [INFO] s_cbr.SCBREngine - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20250929-005541-2a14b687] å•é¡Œ: æ‚£è€… 67 æ­² ç”·ï¼Œå¤±çœ å¤šå¤¢ï¼Œå·¦å¯¸è„ˆé²
2025-09-29 00:55:41,030 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: e4ade4eab8ad4225bf3dd02e27a36f7e
2025-09-29 00:55:41,030 [ERROR] backend.main - ç›¸å®¹æ€§æŸ¥è©¢è™•ç†å¤±æ•—: AttributeError("'SpiralEngine' object has no attribute 'execute_spiral_cycle'")
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\main.py", line 231, in api_query_compatibility
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 64, in run_spiral_cbr
    return await engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 50, in diagnose
    result = await self.spiral.execute_spiral_cycle(question, session_id)
AttributeError: 'SpiralEngine' object has no attribute 'execute_spiral_cycle'
2025-09-29 00:58:36,067 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:58:36,067 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:58:36,067 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:58:39,729 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:58:39,733 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:58:39,734 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:58:39,734 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:58:39,734 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:58:39,734 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:58:39,735 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:58:39,735 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:58:39,735 [INFO] backend.main - Application startup completed.
2025-09-29 00:58:42,025 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 00:58:42,025 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 00:58:42,026 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 00:59:02,207 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 00:59:02,211 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 00:59:02,212 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 00:59:02,212 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 00:59:02,212 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 00:59:02,212 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 00:59:02,212 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 00:59:02,213 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 00:59:02,213 [INFO] backend.main - Application startup completed.
2025-09-29 00:59:14,657 [ERROR] backend.main - /api/query payload debug type=dict, keys=['question', 'session_id', 'continue', 'patient_ctx']
2025-09-29 00:59:14,659 [INFO] s_cbr.SCBREngine - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20250929-005914-90360a47] å•é¡Œ: æ‚£è€… 67 æ­² ç”·ï¼Œå¤±çœ å¤šå¤¢ï¼Œå·¦å¯¸è„ˆé²
2025-09-29 00:59:14,659 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: 1331fd974b7e40919d72e3838c8f58f8
2025-09-29 00:59:14,659 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: 1331fd974b7e40919d72e3838c8f58f8
2025-09-29 00:59:14,659 [INFO] s_cbr.DialogManager - ç¹¼çºŒæœƒè©±: 1331fd974b7e40919d72e3838c8f58f8
2025-09-29 00:59:18,171 [INFO] s_cbr.SpiralEngine - ğŸ§­ q_vector: dim=1024
2025-09-29 00:59:18,172 [INFO] s_cbr.SearchEngine - ğŸ” Case HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:59:18,172 [INFO] s_cbr.SearchEngine - â†ª return props=['src_casev_uuid', 'diagnosis_main', 'pulse_text']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:59:18,233 [INFO] s_cbr.SearchEngine - ğŸ“Š Case æœç´¢: 20 å€‹çµæœ
2025-09-29 00:59:18,234 [INFO] s_cbr.SearchEngine - ğŸ” PulsePJV HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:59:18,234 [INFO] s_cbr.SearchEngine - â†ª return props=['symptoms', 'category_id', 'name']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:59:18,298 [INFO] s_cbr.SearchEngine - ğŸ“Š PulsePJV æœç´¢: 20 å€‹çµæœ
2025-09-29 00:59:18,311 [INFO] s_cbr.SearchEngine - ğŸ” RPCase HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:59:18,312 [INFO] s_cbr.SearchEngine - â†ª return props=['pulse_tags', 'symptom_tags', 'final_diagnosis']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:59:18,337 [INFO] s_cbr.SearchEngine - ğŸ“Š RPCase æœç´¢: 3 å€‹çµæœ
2025-09-29 00:59:18,339 [INFO] s_cbr.DialogManager - è¨˜éŒ„è¼ªæ¬¡ 1 çµæœæ–¼ 1331fd974b7e40919d72e3838c8f58f8
2025-09-29 00:59:18,339 [INFO] s_cbr.SCBREngine - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20250929-005918-f1776397] å•é¡Œ: æ‚£è€… 67 æ­² ç”·ï¼Œå¤±çœ å¤šå¤¢ï¼Œå·¦å¯¸è„ˆé²
2025-09-29 00:59:18,339 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: c30a6baa3aab4761b279509f9a34f24d
2025-09-29 00:59:18,340 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: c30a6baa3aab4761b279509f9a34f24d
2025-09-29 00:59:18,340 [INFO] s_cbr.DialogManager - ç¹¼çºŒæœƒè©±: c30a6baa3aab4761b279509f9a34f24d
2025-09-29 00:59:19,694 [INFO] s_cbr.SpiralEngine - ğŸ§­ q_vector: dim=1024
2025-09-29 00:59:19,695 [INFO] s_cbr.SearchEngine - ğŸ” Case HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:59:19,695 [INFO] s_cbr.SearchEngine - â†ª return props=['src_casev_uuid', 'diagnosis_main', 'pulse_text']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:59:19,761 [INFO] s_cbr.SearchEngine - ğŸ“Š Case æœç´¢: 20 å€‹çµæœ
2025-09-29 00:59:19,762 [INFO] s_cbr.SearchEngine - ğŸ” PulsePJV HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:59:19,762 [INFO] s_cbr.SearchEngine - â†ª return props=['symptoms', 'category_id', 'name']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:59:19,829 [INFO] s_cbr.SearchEngine - ğŸ“Š PulsePJV æœç´¢: 20 å€‹çµæœ
2025-09-29 00:59:19,829 [INFO] s_cbr.SearchEngine - ğŸ” RPCase HYBRID Î±=0.5, qdim=1024, â€–vâ€–â‚‚=0.9999
2025-09-29 00:59:19,829 [INFO] s_cbr.SearchEngine - â†ª return props=['pulse_tags', 'symptom_tags', 'final_diagnosis']... | search_fields=['search_all', 'search_all_seg']
2025-09-29 00:59:19,885 [INFO] s_cbr.SearchEngine - ğŸ“Š RPCase æœç´¢: 3 å€‹çµæœ
2025-09-29 00:59:19,887 [INFO] s_cbr.DialogManager - è¨˜éŒ„è¼ªæ¬¡ 1 çµæœæ–¼ c30a6baa3aab4761b279509f9a34f24d
2025-09-29 01:06:43,753 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:06:43,753 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 01:06:43,753 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 01:06:47,577 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 01:06:47,580 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 01:06:47,580 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 01:06:47,580 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 01:06:47,581 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 01:06:47,581 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 01:06:47,581 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 01:06:47,581 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 01:06:47,582 [INFO] backend.main - Application startup completed.
2025-09-29 01:07:10,186 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:07:10,186 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 01:07:10,187 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 01:07:13,622 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 01:07:13,626 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 01:07:13,626 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 01:07:13,626 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 01:07:13,626 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 01:07:13,626 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 01:07:13,626 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 01:07:13,626 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 01:07:13,627 [INFO] backend.main - Application startup completed.
2025-09-29 01:08:09,370 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:08:09,371 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 01:08:09,371 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 01:08:12,655 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 01:08:12,658 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 01:08:12,658 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 01:08:12,658 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 01:08:12,658 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 01:08:12,658 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 01:08:12,658 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 01:08:12,658 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 01:08:12,658 [INFO] backend.main - Application startup completed.
2025-09-29 01:08:25,870 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:08:25,870 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 01:08:25,870 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 01:08:40,046 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 01:08:40,050 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 01:08:40,050 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 01:08:40,050 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 01:08:40,050 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 01:08:40,050 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 01:08:40,051 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 01:08:40,051 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 01:08:40,051 [INFO] backend.main - Application startup completed.
2025-09-29 01:08:52,675 [ERROR] backend.main - /api/query payload debug type=dict, keys=['question', 'session_id', 'continue', 'patient_ctx']
2025-09-29 01:08:52,677 [INFO] s_cbr.SCBREngine - ğŸŒ€ å•Ÿå‹•è¨ºæ–· [SCBR-20250929-010852-9685412d] å•é¡Œ: æ‚£è€… 67 æ­² ç”·ï¼Œå¤±çœ å¤šå¤¢ï¼Œå·¦å¯¸è„ˆé²
2025-09-29 01:08:52,677 [INFO] s_cbr.DialogManager - æœƒè©±å»ºç«‹: cca8b07b5a344484acfc5740fb4a2f54
2025-09-29 01:08:52,677 [INFO] s_cbr.SpiralEngine - ğŸ§­ q_vector: dim=0
2025-09-29 01:08:52,678 [ERROR] backend.main - ç›¸å®¹æ€§æŸ¥è©¢è™•ç†å¤±æ•—: AttributeError("'SpiralEngine' object has no attribute 'search_engine'")
Traceback (most recent call last):
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\main.py", line 231, in api_query_compatibility
    result = await run_spiral_cbr(
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 64, in run_spiral_cbr
    return await engine.diagnose(question, **kwargs)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\main.py", line 50, in diagnose
    result = await self.spiral.execute_spiral_cycle(question, session_id)
  File "C:\work\ç³»çµ±-ä¸­é†«\Pulse-project\Backend\s_cbr\core\spiral_engine.py", line 138, in execute_spiral_cycle
    srch = self.search_engine
AttributeError: 'SpiralEngine' object has no attribute 'search_engine'
2025-09-29 01:18:33,017 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:18:33,018 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 01:18:33,018 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 01:18:36,677 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 01:18:36,685 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 01:18:36,685 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 01:18:36,685 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 01:18:36,685 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 01:18:36,685 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 01:18:36,686 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 01:18:36,686 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 01:18:36,686 [INFO] backend.main - Application startup completed.
2025-09-29 01:18:52,349 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:18:52,349 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 01:18:52,349 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 01:18:54,522 [ERROR] backend.main - âŒ S-CBR v2.1 è·¯ç”±å™¨æ•´åˆå¤±æ•—: 'SpiralEngine' object has no attribute 'searcher'
2025-09-29 01:18:54,527 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 01:18:54,527 [WARNING] backend.main -    - S-CBR èºæ—‹æ¨ç†å¼•æ“: âŒ æœªè¼‰å…¥
2025-09-29 01:18:54,527 [WARNING] backend.main -    - API ç«¯é» /api/scbr/v2/*: âŒ ä¸å¯ç”¨
2025-09-29 01:18:54,528 [ERROR] backend.main -    - è¼‰å…¥éŒ¯èª¤: 'SpiralEngine' object has no attribute 'searcher'
2025-09-29 01:18:54,528 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 01:18:54,528 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 01:18:54,528 [INFO] backend.main - Application startup completed.
2025-09-29 01:19:25,100 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:19:25,100 [INFO] backend.main - ğŸ”» Application shutdown completed.
2025-09-29 01:19:28,637 [INFO] backend.main - âœ… S-CBR v2.1 è·¯ç”±å™¨æ•´åˆæˆåŠŸ
2025-09-29 01:19:28,640 [INFO] backend.main - ğŸš€ TCM S-CBR Backend v2.1 å•Ÿå‹•
2025-09-29 01:19:28,641 [INFO] backend.main -    - S-CBR v2.1 èºæ—‹æ¨ç†å¼•æ“: âœ… å·²è¼‰å…¥
2025-09-29 01:19:28,641 [INFO] backend.main -    - API ç«¯é» /api/scbr/v2/*: âœ… å¯ç”¨
2025-09-29 01:19:28,641 [INFO] backend.main -    - ç´¯ç©å¼å¤šè¼ªå°è©±: âœ… æ”¯æ´
2025-09-29 01:19:28,641 [INFO] backend.main -    - Hybrid æœç´¢å¼•æ“: âœ… å¯ç”¨
2025-09-29 01:19:28,641 [INFO] backend.main -    - ç—…ä¾‹å­˜å„² /api/case/save: âœ… å¯ç”¨
2025-09-29 01:19:28,642 [INFO] backend.main -    - å¥åº·æª¢æŸ¥ /healthz: âœ… å¯ç”¨
2025-09-29 01:19:28,642 [INFO] backend.main - Application startup completed.
2025-09-29 01:19:35,554 [INFO] backend.main - ğŸ”„ æ­£åœ¨é—œé–‰æ‡‰ç”¨ç¨‹å¼...
2025-09-29 01:19:35,554 [INFO] backend.main -    - S-CBR v2.1 è³‡æºæ¸…ç†: âœ… å®Œæˆ
2025-09-29 01:19:35,555 [INFO] backend.main - ğŸ”» Application shutdown completed.
